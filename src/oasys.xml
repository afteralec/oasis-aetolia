<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE MudletPackage>
<MudletPackage version="1.0">
    <TriggerPackage>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>oasis</name>
            <script></script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList/>
            <regexCodePropertyList/>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>oasys</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>muse</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>forge timer</name>
                        <script>local num = 0
if matches[2] then num = tonumber(matches[2]) end

coaltime = 300*num</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You put a piece of coal into a sturdy iron forge.</string>
                            <string>^You put a stack of (\d+) pieces of coal into a sturdy iron forge\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>lit forge</name>
                        <script>stopwatch.forge = nil
stopwatch.forge = createStopWatch()
startStopWatch(stopwatch.forge)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Hunkering down to look into the darkened forge, you inhale deeply and blow a stream of white-hot flame into its innards, lighting it.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>death detected</name>
                    <script>if not gmcp or not gmcp.Char then return end

if tonumber(gmcp.Char.Vitals.hp) == 0
	or (gmcp.Char.Status.status == &quot;Vampire&quot;
	and tonumber(gmcp.Char.Vitals.hp) == 1
	and not defs.active.link) then
	o.paused = true
	tmp.selfaffs = {}
	tmp.enemyaffs = {}
	tmp.lockaffs = {}
	ui:update_aff_window()
	echo(&quot;\n&quot;)
	local l = {
		&quot;You died. Do better.&quot;,
		&quot;You seem to have died. Might want to have that looked at.&quot;,
		&quot;Are we dead? Yep... We're dead :(&quot;,
		&quot;We're done for. Nerf Templar.&quot;,
		&quot;What the Hell. Nerf Indorani.&quot;,
		&quot;We're ten feet under. QQ moar.&quot;
	}
			
	e.warn(l[math.random(#l)])
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You have been slain by</string>
                        <string>You are dead and cannot do that.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>logged in</name>
                    <script>sendGMCP([[Core.Supports.Add [&quot;IRE.Rift 1&quot;] ]])
sendGMCP([[Core.Supports.Add [&quot;Comm.Channel 1&quot;] ]])
</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Password correct. Welcome to Aetolia.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>configs set</name>
                    <script>e.echo(&quot;Aetolia-side settings configured successfully.&quot;, true, true)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Wrapping width changed to 0.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>config separator</name>
                    <script>e.echo(&quot;Config separator reset successfully.&quot;, true, true)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your config separator will now be: '</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>class switch</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your active class has been switched to</string>
                        <string>^Your active class has been switched to (\w+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>ink tattoo</name>
                    <script>--! todo: complete</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>13</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You have the following tattoos:</string>
                        <string>^On \w+ you see\:</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>type</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+(?: \w+)?)\:\s+(\w+).*$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>location</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(Head:|Torso:|Left arm:|Right arm:|Left leg:|Right leg:)\s+(None)$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>action</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>unpause on inking</name>
                    <script>--! todo: complete</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^As the \w+ tattoo\'s shape is codified\, the last of the ink leaves the air\, and you pause for a moment to admire your handiwork\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>afflictions</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>diag</name>
                    <script>if o.bals.equilibrium or not o.bals.balance then return end

tmp.diag = {}

deleteLine()
echo(&quot;\n&quot;)
cecho(&quot;&lt;light_sea_green&gt;You have:&quot;)
echo(&quot;\n&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>100</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You are:</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>add</name>
                        <script>deleteLine()
echo(&quot;\n&quot;)

local aff = multimatches[2][2]:gsub(&quot;-&quot;,&quot;_&quot;)
affs.add(aff, true, true)
tmp.diag[aff] = true</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>afflicted with</string>
                            <string>^afflicted with (.+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>add hatred</name>
                        <script>deleteLine()
echo(&quot;\n&quot;)

affs.add(&quot;hatred&quot;, true, true)
tmp.diag.hatred = true</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^feeling intense hatred toward \w+.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>add shadow</name>
                        <script>deleteLine()
echo(&quot;\n&quot;)

affs.add(&quot;shadowed&quot;, true, true)
tmp.diag.shadowed = true</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>at odds with the sun.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>equilibrium used</name>
                        <script>local str = selectString(matches[1], 1)
if isAnsiFgColor(0) then return end
setTriggerStayOpen(&quot;diag&quot;, 0)

affs.check = {}

affs.diag = false
affs.count.hidden = 0
for k, v in pairs(affs.current) do
	if not tmp.diag[k] then
		affs.rem(k, false, false)
	end
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Equilibrium Used:</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>prompt</name>
                        <script>setTriggerStayOpen(&quot;diag&quot;, 0)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>add</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>add affliction</name>
                        <script>local str = selectString(multimatches[1][1], 1)
if isAnsiFgColor(0) then return end

local aff = multimatches[2][2]:gsub(&quot;-&quot;,&quot;_&quot;)

deleteLine()

affs.add(aff, true, false)
if gmcp.Char.Status.name == &quot;Asaraii&quot; then e.aff(&quot;lifer&quot;, false, false, true, false) end
fs.release()
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You are afflicted with</string>
                            <string>^You are afflicted with (.+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>blackout</name>
                        <script>if not affs.current.recklessness and not ((o.vitals.hp == o.vitals.maxhp) and (o.vitals.mp == o.vitals.maxmp)) then return end
affs.add(&quot;blackout&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your mind dulls and the world around you disappears momentarily.</string>
                            <string>Your leg is seized by a Nazetu corrupter before you can react, the ghastly creature pulling you up and throwing you into the wall like a rag doll.</string>
                            <string>A devastating blast of telepathic energy strikes you and your senses black out completely.....</string>
                            <string>You shiver and sweat in panic as the world warps overwhelmingly around you.</string>
                            <string>^\w+ strikes at you with an overwhelming combo of (?:his|her) mace and shield\, the symbol of the Gods glowing brightly\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>overload boosted</name>
                        <script>local str = selectString(&quot;Primality Overload Boosted&quot;)
if isAnsiFgColor(0) then return end

affs.add(&quot;blackout&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>uses Primality Overload Boosted on you.</string>
                            <string>^\w+ uses Primality Overload Boosted on you\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>voyria</name>
                        <script>affs.add(&quot;voyria&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You begin feeling slightly flushed.</string>
                            <string>Blood begins to slowly drip from your nose.</string>
                            <string>You cough suddenly, expelling black fluid with bits of what looks to be tissue suspended in it.</string>
                            <string>Your legs tremble slightly as a yellow jaundice begins to creep through your now-pale features.</string>
                            <string>The dark void of terror fills your mind as, horribly, blood begins to seep out of every pore on your body.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shadowed</name>
                        <script>local str = selectString(&quot;Evoke Shadow&quot;, 1)
if isAnsiFgColor(0) then return end

affs.add(&quot;shadowed&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>uses Illumination Evoke Shadow on you.</string>
                            <string>^\w+ uses Illumination Evoke Shadow on you\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>serpent familiar</name>
                        <script>affs.add(&quot;lethargy&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>A serpent spirit darts forward and sinks its fangs into your leg, pumping it full of venom.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>wheel of misfortune</name>
                        <script>affs.add(&quot;wheel_of_misfortune&quot;, true, false)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) casually flicks a Wheel of Misfortune tarot towards you and it stops short\, hovering in the air before you\. The image of the Wheel imprinted on the card begins to rapidly expand\, as it pulsates omniously\.$</string>
                            <string>^Missing only the center circle\, the Wheel of Misfortune looms over your surroundings as its expansion finishes\. With a maniacal grin\, (\w+) draws forth a stream of life essence from your body\, channeling it towards the massive Wheel\. As the essence converges upon the Wheel's center\, the construction is completed and it begins to slowly\, inexorably\, spin around its axle\.$</string>
                            <string>^A loud crack is heard as all the spokes in the Wheel of Misfortune is split in two\. The triangular pieces are swirled around the outer circle\, creating sharp points along the outer rim\. The Wheel picks up speed\, swaying erratically from side to side\, aiming at your exposed limbs\.$</string>
                            <string>^Rapidly spinning now\, the Wheel moves at a blur\, the pointed edges along the sides barely visible\. A wave of dark\, necromantic energy shoots out from the Wheel\, fixing itself upon you\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>remove</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>cure affliction</name>
                        <script>local str = selectString(multimatches[1][1], 1)
if isAnsiFgColor(0) then return end

local aff = multimatches[2][2]:gsub(&quot;-&quot;,&quot;_&quot;)

deleteLine()

local writhes = {
	&quot;writhe_impaled&quot;,
	&quot;writhe_transfix&quot;,
	&quot;writhe_armpitlock&quot;,
	&quot;writhe_web&quot;,
	&quot;writhe_bind&quot;,
	&quot;writhe_vines&quot;,
	&quot;writhe_thighlock&quot;,
	&quot;mob_impaled&quot;,
	&quot;writhe_ropes&quot;,
	&quot;grappled&quot;,
}

for i, v in ipairs(writhes) do
	if aff == v then 
		fs.off(&quot;writhe&quot;)
		break
	end
end

for k, v in pairs(affs.lib.restoration) do
	if table.contains(affs.lib.restoration[k], aff) then
		affs.restoring = nil
		if timers.restoring then killTimer(timers.restoring) end
		break
	end
end

if not affs.current[aff] then affs.rem(&quot;hidden&quot;, true) end

affs.rem(aff, true)
fs.release()

for k, v in pairs(affs.lastcures) do
	local exceptions = { affs = { shell_fetish = true, stormtouched = true, void = true, weakvoid = true }, renew = true, tree = true }

	if exceptions[v] then table.iremovekey(affs.lastcures, v) end

	if type(v) == &quot;string&quot; and not exceptions[v] then
		if not exceptions.affs[aff] and affs.lib[v] and table.contains(affs.lib[v], aff) then
			for _, a in ipairs(affs.lib[v]) do
				if a == aff then break end
				affs.rem(a, true)
			end
			table.iremovekey(affs.lastcures, v)
		else
			table.iremovekey(affs.lastcures, v)
		end
	elseif type(v) == &quot;table&quot; and not exceptions[v] then
		local cure = v.name
		local tar = v.target
		if not exceptions.affs[aff] and affs.lib[v] and table.contains(affs.lib[cure][tar], aff) then
			for _, a in ipairs(affs.lib[cure][tar]) do
				if a == aff then break end
				affs.rem(a, true)
			end
			table.removekey(affs.lastcures, v.name)
		end
	end
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You have cured</string>
                            <string>^You have cured (.+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>blackout ended</name>
                        <script>affs.rem(&quot;blackout&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your senses return to you as the blackout ends.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>wheel of misfortune</name>
                        <script>affs.rem(&quot;wheel_of_misfortune&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You make a wild catch for the glowing tarot floating before you, managing to get a hold on it. Summoning all of your strength, you rip it down the middle, and the enormous Wheel hanging over you ceases moving. A moment later, the Wheel shatters into ethereal fragments, disappearing as they rain over you.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>cures</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>focus cure</name>
                            <script>table.insert(affs.lastcures, &quot;focus&quot;)
affs.rem(&quot;impatience&quot;, false)

stopwatch.focus = nil
stopwatch.focus = createStopWatch()
startStopWatch(stopwatch.focus)
timers.focus_used = 5.1</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Mana Lost\: \d+$</string>
                                <string>You focus your mind intently on curing your mental maladies.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>purge cure</name>
                            <script>fs.oncd(&quot;deathlore_purge&quot;, 16)

affs.rem(&quot;paralysis&quot;, false)

stopwatch.purge = nil
stopwatch.purge = createStopWatch()
startStopWatch(stopwatch.purge)
timers.purge_used = 16</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Mana Lost\: \d+$</string>
                                <string>You purge your body of weakness, imbuing your soul with strength.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>purge cure clear</name>
                            <script>fs.oncd(&quot;deathlore_purge&quot;, 16)

table.insert(affs.lastcures, &quot;purge&quot;)
affs.rem(&quot;paralysis&quot;, false)

stopwatch.purge = nil
stopwatch.purge = createStopWatch()
startStopWatch(stopwatch.purge)
timers.purge_used = 16</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Mana Lost\: \d+$</string>
                                <string>You purge your body of weakness, but find nothing to cleanse.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>tree cure</name>
                            <script>table.insert(affs.lastcures, &quot;tree&quot;)

affs.rem(&quot;paresis&quot;, false)
affs.rem(&quot;paralysis&quot;, false)

stopwatch.tree = nil
stopwatch.tree = createStopWatch()
startStopWatch(stopwatch.tree)
timers.tree_used = _gmcp.has_skill(&quot;recovery&quot;, &quot;survival&quot;) and 10.9 or 30.2</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You touch the tree of life tattoo.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>rage cure</name>
                            <script>table.insert(affs.lastcures, &quot;rage&quot;)

stopwatch.rage = nil
stopwatch.rage = createStopWatch()
startStopWatch(stopwatch.rage)
timers.rage_used = 4.6</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You allow your pent-up rage to vent and your eyes flash dangerously.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>renew</name>
                            <script>table.insert(affs.lastcures, &quot;renew&quot;)

stopwatch.renew = nil
stopwatch.renew = createStopWatch()
startStopWatch(stopwatch.renew)
timers.renew_used = 20</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>With a confident smile</string>
                                <string>With a sinister grin, you will your body to repair itself of afflictions.</string>
                                <string>Marshalling your will, you bear down on one of your maladies and brutally wipe it from existence.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>clear writhe</name>
                            <script>affs.rem(&quot;writhe&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You begin to writhe helplessly, throwing your body off balance.</string>
                                <string>^Balance Used\: .+ seconds$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>living</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>herb</name>
                                <script>if o.stats.status ~= &quot;living&quot; then return end
if o.bals.herb then return end

table.insert(affs.lastcures, multimatches[2][2])

stopwatch.herb = nil
stopwatch.herb = createStopWatch()
startStopWatch(stopwatch.herb)
timers.herb_used = 1.8</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You eat</string>
                                    <string>^You eat (?:a|a piece of|some)\s?(?:prickly)?\s(ash|bellwort|bloodroot|ginseng|goldenseal|kelp|lobelia)\s?(?:bark|leaf|root)?\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>salve</name>
                                <script>if o.stats.status ~= &quot;living&quot; then return end
if o.bals.salve then return end

local cap = multimatches[2][2]

local salve = affs.lib.to_cure[cap]
local tar = multimatches[2][3]:gsub(&quot; &quot;, &quot;_&quot;)

stopwatch.salve = nil
stopwatch.salve = createStopWatch()
startStopWatch(stopwatch.salve)

if cap == &quot;restoration&quot; then
	timers.salve_used = 4.2

	local aff = tmp.restoring

	affs.restoring = affs.restoring or {}
	affs.restoring[aff] = true
	for _, aff in ipairs(affs.lib[aff].also) do
		affs.restoring[aff] = true
	end
	return
end

if cap == &quot;mending&quot; then 
	setTriggerStayOpen(&quot;salve&quot;, 1)
	tmp.mending_target = tar
end

timers.salve_used = 1.1

if affs.lastcures[salve] then
	affs.lastcures[salve] = {}
	affs.lastcures[salve].name = salve
	affs.lastcures[salve].target = tar
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You take out</string>
                                    <string>^You take out (?:a|an) (?:salve of)?\s?(caloric|epidermal|mending|restoration) (?:salve)?\s?and quickly rub it on your (head|torso|left arm|right arm|left leg|right leg|skin)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>resto masked</name>
                                    <script>if not tmp.mending_tar then return end
local aff = tmp.mending_tar .. &quot;_mangled&quot;
affs.add(aff, true, false)
tmp.mending_tar = nil</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>The salve fizzles away without effect.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>3</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>pipe</name>
                                <script>if o.stats.status ~= &quot;living&quot; then return end
if o.bals.pipe then return end
local cap = multimatches[2][2]

if cap == &quot;valerian&quot; then affs.check.pipe = nil end

table.insert(affs.lastcures, cap)
inv.lastpipe = cap

stopwatch.pipe = nil
stopwatch.pipe = createStopWatch()
startStopWatch(stopwatch.pipe)
timers.pipe_used = 1.6</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You take a long drag off your pipe filled with</string>
                                    <string>^You take a long drag off your pipe filled with (valerian|elm|skullcap)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>restoring cleared</name>
                                <script>if o.stats.status ~= &quot;living&quot; then return end
if not affs.restoring then return end
for k, v in pairs(affs.restoring) do
	 if not affs.current[k] then affs.restoring[k] = nil end
end
tmp.restoring = nil</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You may apply another salve to yourself.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>undead</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>slice</name>
                                <script>if o.stats.status ~= &quot;undead&quot; then return end
if o.bals.herb then return end

local cure = multimatches[2][2] .. &quot;_slice&quot;

table.insert(affs.lastcures, affs.lib.to_cure[cure])

stopwatch.herb = nil
stopwatch.herb = createStopWatch()
startStopWatch(stopwatch.herb)
timers.herb_used = 1.8</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You eat</string>
                                    <string>^You eat (?:a|an) (lung|bladder|eyeball|testis|liver|ovary|castorite|pancreas)\s(?:gland)?\s?slice\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>poultice</name>
                                <script>if o.stats.status ~= &quot;undead&quot; then return end
if o.bals.salve then return end

local cap = multimatches[2][2]

local salve = affs.lib.to_cure[cap]
local tar = multimatches[2][3]:gsub(&quot; &quot;, &quot;_&quot;)

stopwatch.salve = nil
stopwatch.salve = createStopWatch()
startStopWatch(stopwatch.salve)

if cap == &quot;jecis&quot; then
	timers.salve_used = 4.2

	local aff = tmp.restoring

	affs.restoring = affs.restoring or {}
	affs.restoring[aff] = true
	for _, aff in ipairs(affs.lib[aff].also) do
		affs.restoring[aff] = true
	end
	return
end

if cap == &quot;mending&quot; then 
	setTriggerStayOpen(&quot;salve&quot;, 1)
	tmp.mending_target = tar
end

timers.salve_used = 1.2

if affs.lastcures[salve] then
	affs.lastcures[salve] = {}
	affs.lastcures[salve].name = salve
	affs.lastcures[salve].target = tar
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You press</string>
                                    <string>^You press (?:a|an) (oculi|orbis|jecis|fumeae) poultice against your (head|torso|left arm|right arm|left leg|right leg|skin)\, rubbing it into your flesh\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>syringe</name>
                                <script>if o.stats.status ~= &quot;undead&quot; then return end
if o.bals.pipe then return end
local cap = multimatches[2][2]

if cap == &quot;antispasmadic&quot; then affs.check.pipe = nil end

local cure = affs.lib.to_cure[cap]
table.insert(affs.lastcures, cure)
inv.lastpipe = cure

stopwatch.pipe = nil
stopwatch.pipe = createStopWatch()
startStopWatch(stopwatch.pipe)
timers.pipe_used = 1.7</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You quickly inject yourself with a syringe filled with</string>
                                    <string>^You quickly inject yourself with a syringe filled with (antispasmadic|demulcent|sudorific)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>restoring cleared</name>
                                <script>if o.stats.status ~= &quot;undead&quot; then return end
if not affs.restoring then return end
for k, v in pairs(affs.restoring) do
	 if not affs.current[k] then affs.restoring[k] = nil end
end
tmp.restoring = nil</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are again able to absorb a poultice.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>resto masked</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The salve fizzles away without effect.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>sipping</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>sipped health living</name>
                        <script>if o.stats.status ~= &quot;living&quot; then return end

if affs.sets.reck_sip == &quot;alt&quot; then
	affs.lib.reck_sip.living = &quot;health&quot;
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The elixir heals and soothes you.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>sipped health undead</name>
                        <script>if o.stats.status ~= &quot;undead&quot; then return end

if affs.sets.reck_sip == &quot;alt&quot; then
	affs.lib.reck_sip.living = &quot;mana&quot;
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The serum heals your wounds.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>sipped mana living</name>
                        <script>if o.stats.status ~= &quot;living&quot; then return end

if affs.sets.reck_sip == &quot;alt&quot; then
	affs.lib.reck_sip.living = &quot;health&quot;
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your mind feels stronger and more alert.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>sipped mana undead</name>
                        <script>if o.stats.status ~= &quot;undead&quot; then return end

if affs.sets.reck_sip == &quot;alt&quot; then
	affs.lib.reck_sip.living = &quot;health&quot;
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The serum makes you feel more lucid and aware.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>delays</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>voyria delay</name>
                        <script>fs.on(&quot;voyria&quot;, 1)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You feel your stomach churn as it slowly fights the poison.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>wake delay</name>
                        <script>fs.on(&quot;wake&quot;, 5)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You begin your struggle to escape from the dreamworld.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>wake end delay</name>
                        <script>fs.off(&quot;wake&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You have cured asleep.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>writhe delay</name>
                        <script>fs.on(&quot;writhe&quot;, 5)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You begin trying to wrest your mind free of that which has transfixed it.</string>
                            <string>You begin to wrestle the webs clinging to your limbs.</string>
                            <string>You begin to struggle free of your entanglement.</string>
                            <string>You begin to work at the knots in the ropes around your wrists and ankles.</string>
                            <string>You begin to twist your arm violently, trying to release your armpit from the vicious jaws.</string>
                            <string>You begin to shake your leg violently, trying to release it from the vicious jaws.</string>
                            <string>You begin to twist your neck violently, trying to release it from the vicious jaws.</string>
                            <string>You begin to writhe free from a stalagmite.</string>
                            <string>You begin to untangle yourself from the forest vines.</string>
                            <string>^You begin trying to writhe out of the grapple with \w+\.$</string>
                            <string>^You begin to writhe furiously to escape .*\.$</string>
                            <string>You begin to struggle free of your entanglement.</string>
                            <string>You are already struggling free of your predicament!</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>hidden</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>blackout</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>limb damaged</name>
                            <script>if not affs.current.blackout then return end
local limb = multimatches[2][2]:gsub(&quot; &quot;, &quot;_&quot;)
local d = limb .. &quot;_damaged&quot;
local b = limb .. &quot;_broken&quot;

affs.add(d, true)
affs.add(b, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>breaks from all the damage.</string>
                                <string>^Your (.+) breaks from all the damage\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>limb mangled</name>
                            <script>if not affs.current.blackout then return end
local limb = multimatches[2][2]:gsub(&quot; &quot;, &quot;_&quot;)
local m = limb .. &quot;_mangled&quot;
local d = limb .. &quot;_damaged&quot;
local b = limb .. &quot;_broken&quot;

affs.add(m, true)
affs.add(d, true)
affs.add(b, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>To your horror, your</string>
                                <string>^To your horror\, your (.+) has been mutilated beyond repair by ordinary means\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>checks</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>eat cleared</name>
                            <script>affs.check.eat = nil</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>What do you want to eat?</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>paresis cleared</name>
                            <script>affs.check.tree = nil</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You touch the tree of life tattoo.</string>
                                <string>Your tree of life tattoo glows faintly for a moment then fades, leaving you unchanged.</string>
                                <string>You quickly pull your hand away from the scorching surface of your tree tattoo.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>meditate cleared</name>
                            <script>affs.check.meditate = nil</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your mental prowess is already swollen to its maximum.</string>
                                <string>You close your eyes, bow your head, and empty your mind of all thought.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>dash cleared</name>
                            <script>affs.check.dash = nil</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You must regain equilibrium first.</string>
                                <string>You must regain balance first.</string>
                                <string>There is no exit in that direction.</string>
                                <string>That is not a valid command. Type HELP BASECOMMANDS for a list of common commands.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>fly cleared</name>
                            <script>affs.check.fly = nil</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You must regain equilibrium first.</string>
                                <string>You must regain balance first.</string>
                                <string>That is not a valid command. Type HELP BASECOMMANDS for a list of common commands.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>symptoms</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>locking afflictions</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>confusion concentrate</name>
                                <script>if (not o.bals.equilibrium and affs.current.disrupted) then
	if not affs.current.confusion then affs.rem(&quot;hidden&quot;, true) end
	affs.add(&quot;confusion&quot;, true)
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are too confused to concentrate properly.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>impatience focus</name>
                                <script>if not affs.current.impatience then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;impatience&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Mana Lost:</string>
                                    <string>You are too impatient to focus right now!</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>impatience meditate</name>
                                <script>if not (o.bals.balance or o.bals.equilibrium) then return end
if not affs.current.impatience then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;impatience&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You cannot be bothered to do that, it is too boring.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>slickness sileris strip</name>
                                <script>if defs.active.fangbarrier then return end
affs.add(&quot;slickness&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The bone marrow coating your body sloughs off, unable to stick to your unnaturally slick skin.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>limp_veins</name>
                                <script>if not o.bals.pipe then return end

affs.add(&quot;limp_veins&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You cannot seem to find a line in your limp peripheral veins.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>ablaze</name>
                            <script>local str = selectString(multimatches[2][1], 1)
if isAnsiFgColor(0) then return end

affs.add(&quot;ablaze&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Flames lick around you - you are on fire!</string>
                                <string>^Health Lost\: \d+\, fire\, none\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>agora + claustrophobia</name>
                            <script>if not affs.current.agoraphobia then affs.rem(&quot;hidden&quot;, true) end
if not affs.current.claustrophobia then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;agoraphobia&quot;, true)
affs.add(&quot;claustrophobia&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You shiver and sweat in panic as the world warps overwhelmingly around you.</string>
                                <string>Mana Lost:</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>2</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>agoraphobia</name>
                            <script>if not affs.current.agoraphobia then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;agoraphobia&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Terror descends upon you and your head swims - you must find shelter!</string>
                                <string>return not isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>asleep</name>
                            <script>if o.traits.prone then affs.add(&quot;asleep&quot;, true) end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You feel incredibly tired suddenly, and fall asleep immediately.</string>
                                <string>You are asleep and can do nothing. WAKE will attempt to wake you.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>berserking</name>
                            <script>local str = selectString(multimatches[2][1], 1)
if isAnsiFgColor(0) then return end

if not affs.current.berserking then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;berserking&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(Screaming and spitting, you lash out with your fingers\, trying to scratch \w+\'s eyes out\.|Foaming at the mouth\, you gnaw at \w+\'s arm\.|You pound maniacally at \w+\'s chest\.)$</string>
                                <string>Balance Used:</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>2</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>blurry_vision</name>
                            <script>if o.bals.balance then return end

if not affs.current.blurry_vision then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;blurry_vision&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Tears blur your vision as you attempt to strike</string>
                                <string>^Tears blur your vision as you attempt to strike \w+ with .*\, causing you to miss\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>broken arm</name>
                            <script>local arm = multimatches[2][2] .. &quot;_arm_broken&quot;
if not affs.current[arm] then affs.rem(&quot;hidden&quot;, true) end
affs.add(arm)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>arm is broken and you are unable to do that.</string>
                                <string>^Your (\w+) arm is broken and you are unable to do that\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>broken legs prone</name>
                            <script>if o.traits.prone then
	affs.add(&quot;right_leg_broken&quot;, true)
	affs.add(&quot;left_leg_broken&quot;, true)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your broken legs cause you to fall to the ground in a heap.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>claustrophobia</name>
                            <script>if not affs.current.claustrophobia then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;claustrophobia&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The walls close in to suffocate you - you must escape!</string>
                                <string>return not isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>clumsiness</name>
                            <script>if o.bals.balance then return end
if not affs.current.clumsiness then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;clumsiness&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You strike clumsily at</string>
                                <string>^You strike clumsily at \w+\, completely missing \w+ with .*\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>confusion</name>
                            <script>affs.add(&quot;confusion&quot;, true)
affs.add(&quot;disrupted&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You are too confused to concentrate properly.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>epilepsy</name>
                            <script>local str = selectString(multimatches[2][1], 1)
if isAnsiFgColor(0) then return end

if not affs.current.epilepsy then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;epilepsy&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your limbs begin to jerk and shake uncontrollably, and you begin to foam at the mouth.</string>
                                <string>Balance Used:</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>2</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>hallucinations fear</name>
                            <script>local str = selectString(multimatches[2][1], 1)
if isAnsiFgColor(0) then return end

if not affs.current.hallucinations then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;hallucinations&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Spiders are erupting from your mouth and nose!</string>
                                <string>You are afflicted with fear.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>hallucinations prone</name>
                            <script>if not o.traits.prone then return end

if not affs.current.hallucinations then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;hallucinations&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Ooh look! A lovely lake. Perhaps you'll dive in!</string>
                                <string>You are stunned by a fleeting vision of Varian.</string>
                                <string>You are stunned by the sight of a massive pink bunny hopping by.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>hypochondria</name>
                            <script>local str = selectString(multimatches[2][1], 1)
if isAnsiFgColor(0) then return end

if not affs.current.hypochondria then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;hypochondria&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You attempt to diagnose yourself, only to find yourself suffering from every imaginable ailment.</string>
                                <string>Equilibrium Used:</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>2</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>loneliness</name>
                            <script>if not affs.current.loneliness then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;loneliness&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You realise that you have been left alone - you must find companionship!</string>
                                <string>return not isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>mirroring</name>
                            <script>if not affs.current.mirroring then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;mirroring&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The mirroring curse suddenly takes effect!</string>
                                <string>return not isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>paralysis</name>
                            <script>if o.traits.prone then affs.add(&quot;paralysis&quot;, true) end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You are paralysed and unable to do that.</string>
                                <string>Your state of paralysis prevents you from doing that.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>paresis</name>
                            <script>if not affs.current.paresis then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;paresis&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your muscles are too numb to do that.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>paresis to paralysis</name>
                            <script>if not o.traits.prone then return end
if not affs.current.paresis then affs.rem(&quot;hidden&quot;, true) end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The paresis numbing your body intensifies, fully paralyzing your muscles.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>peace</name>
                            <script>if not affs.current.peace then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;peace&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Maaaaaaaan, why can't like, everyone just get along? You know?</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>premonition</name>
                            <script>affs.add(&quot;premonition&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>An uncertain feeling within your mind prevents the malady from lifting.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shyness</name>
                            <script>if not affs.current.shyness then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;shyness&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Heart thumping, you cannot bear the company of others and depart in terror.</string>
                                <string>return not isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>stupidity</name>
                            <script>fs.release()
if not affs.current.stupidity then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;stupidity&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>In your stupidity, you forgot what you were trying to do. Oops.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>sunlight_allergy damage</name>
                            <script>local str = selectString(multimatches[2][1], 1)
if isAnsiFgColor(0) then return end

if not affs.current.sunlight_allergy then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;sunlight_allergy&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Sunlight shines down upon you mercilessly, rippling across your skin like fire.</string>
                                <string>Health Lost:</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>2</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>sunlight_allergy paresis</name>
                            <script>local str = selectString(multimatches[2][1], 1)
if isAnsiFgColor(0) then return end

if not affs.current.sunlight_allergy then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;sunlight_allergy&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The sun has rendered you too weak to move a muscle.</string>
                                <string>You are afflicted with paresis.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>thin_blood</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>3</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You swoon as you suffer a toxic relapse.</string>
                                <string>return not isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                                <integer>4</integer>
                            </regexCodePropertyList>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>thin_blood aff_view</name>
                                <script>setTriggerStayOpen(&quot;thin_blood&quot;, 0)
if isAnsiFgColor(0) then return end

if not affs.current.thin_blood then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;thin_blood&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are afflicted with</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>vomiting</name>
                            <script>if not affs.current.vomiting then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;vomiting&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You cannot contain the convulsions in your stomach any longer and double over, retching violently.</string>
                                <string>Health Lost:</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>2</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>weariness</name>
                            <script>if not (o.bals.balance or o.bals.equilibrium) then return end
if not affs.current.weariness then affs.rem(&quot;hidden&quot;, true) end
affs.add(&quot;weariness&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You try to raise the strength in your limbs, but find yourself too weary.</string>
                                <string>You beat your wings in vain. Alas! You are too weary to fly.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>chasten</name>
                        <script>local str = selectString(&quot;Spirituality Chasten&quot;, 1)
if isAnsiFgColor(0) then return end

affs.add(&quot;hidden&quot;, true)
affs.checks(true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>uses Spirituality Chasten (hidden) on you.</string>
                            <string>^\w+ uses Spirituality Chasten \(hidden\) on you\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>equivalence</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>uses Primality Equivalence Boosted on you.</string>
                            <string>^\w+ uses Primality Equivalence Boosted on you\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>howls</name>
                        <script>affs.add(&quot;hidden&quot;, true)
affs.checks(true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You are jolted by</string>
                            <string>^You are jolted by (\w+)\'s snarls\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>loki</name>
                        <script>affs.add(&quot;hidden&quot;, true)
affs.checks(true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You are confused as to the effects of the venom.</string>
                            <string>You suddenly feel incredibly ill as a plague washes over you.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>raven spirit</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>1</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>A raven spirit caws ominously at you, making you anxious.</string>
                            <string>^Mana Lost\: \d+$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>serpent spirit</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>A serpent spirit darts forward and sinks its fangs into your leg, pumping it full of venom.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>serpent spirit choke</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>A serpent spirit slithers up your body and around your neck, constricting your airways.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shadow secondary</name>
                        <script>if not affs.current.shadowed then return end

affs.add(&quot;hidden&quot;, true)
affs.checks(true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You grimace, your parched throat and drying skin a constant, painful reminder of the Sun's curse.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shell fetish active</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your tree tattoo becomes hot to the touch as</string>
                            <string>^Your tree tattoo becomes hot to the touch as \w+\'s shell fetish clatters noisily\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shell fetish cured</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The clattering of</string>
                            <string>^The clattering of \w+\'s shell fetish diminishes as your tree tattoo cools\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shell fetish symptom</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You quickly pull your hand away from the scorching surface of your tree tattoo.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>spiritwrack</name>
                        <script>affs.add(&quot;hidden&quot;, true)
affs.checks(true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your spirit writhes in torment under the glare of the angel.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>staticburst</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>uses Primality Staticburst on you.</string>
                            <string>^\w+ uses Primality Staticburst on you\.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>staticburst boosted</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>uses Primality Staticburst Boosted on you.</string>
                            <string>^\w+ uses Primality Staticburst Boosted on you\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>staticburst tick</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>1</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The air around you hums with residual static energy and another painful jolt wracks your body.</string>
                            <string>^Health Lost\: \d+\, electrical\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>staticburst boosted tick</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>A dullness seizes your mind as your prior shock relapses.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tarot moon</name>
                        <script>local str = selectString(&quot;Tarot Moon&quot;, 1)
if isAnsiFgColor(0) then return end

affs.add(&quot;hidden&quot;, true)
affs.checks(true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>uses Tarot Moon on you.</string>
                            <string>^\w+ uses Tarot Moon on you\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tarot sun</name>
                        <script>local str = selectString(&quot;Tarot Sun&quot;, 1)
if isAnsiFgColor(0) then return end

affs.add(&quot;hidden&quot;, true)
affs.checks(true)

</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>uses Tarot Sun on you.</string>
                            <string>^\w+ uses Tarot Sun on you\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>telepathy push</name>
                        <script>local tar = multimatches[2][2]
local aff = multimatches[3][2]

local sub = {
	[&quot;a broken right arm&quot;] = &quot;right_arm_broken&quot;,
	[&quot;a broken right leg&quot;] = &quot;right_leg_broken&quot;,
	[&quot;a broken left arm&quot;] = &quot;left_arm_broken&quot;,
	[&quot;a broken left leg&quot;] = &quot;left_leg_broken&quot;,
	[&quot;heart flutter&quot;] = &quot;heartflutter&quot;,
	[&quot;scytherus&quot;] = &quot;thin_blood&quot;,
	[&quot;a shriveled throat&quot;] = &quot;crippled_throat&quot;,
	[&quot;throat claw&quot;] = &quot;throatclaw&quot;
}

local bugged = {
	[&quot;asthma&quot;] = &quot;undead&quot;,
	[&quot;limp_veins&quot;] = &quot;living&quot;
}

if bugged[aff] and bugged[aff] == o.stats.status then return end

if sub[aff] then
	affs.add(sub[aff], true)
else
	aff = aff:gsub(&quot; &quot;,&quot;_&quot;)
	affs.add(aff, true)
end
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>3</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>uses Telepathy Push on you.</string>
                            <string>^(\w+) concentrates\, (?:his|her) eyes fixed on you\, and you feel a new malady enter your body\.$</string>
                            <string>^You discern that \w+ has cured the effects of (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>vinelash loki</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You wince as</string>
                            <string>^You wince as \w+\'s quarterstaff leaches loki into your bloodstream\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pestilence aura</name>
                        <script>local str = selectString(&quot;Righteousness Aura&quot;, 1)
if isAnsiFgColor(0) then return end

affs.add(&quot;hidden&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>uses Righteousness Aura (Pestilence) on you.</string>
                            <string>^\w+ uses Righteousness Aura \(Pestilence\) on you\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pestilence</name>
                        <script>affs.add(&quot;hidden&quot;, true)
affs.checks(true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>uses Enchantment Pestilence on you.</string>
                            <string>^\w+ uses Enchantment Pestilence on you\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>special</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pauses</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>angel battle pause</name>
                            <script>fs.on(&quot;herb&quot;, 0.1)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^Your mind writhes under the torment of the angel\, afflicting you with .*\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>chimera roar pause</name>
                            <script>fs.on(&quot;herb&quot;, 0.1)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>uses Domination Chimera Roar on you.</string>
                                <string>^(\w+) uses Domination Chimera Roar on you\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>dhuriv combo pause</name>
                            <script>fs.on(&quot;herb&quot;, 0.1)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>uses Dhuriv Slash on you.</string>
                                <string>^\w+ uses Dhuriv Slash on you\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>bile handling</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>bile handling</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>effused biles</name>
                                <script>affs.add(&quot;effused_biles&quot;, true, false)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(\w+) glares at you\, and your innards suddenly clench\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bile remission</name>
                                <script>affs.rem(&quot;effused_biles&quot;, false)
if affs.current.effused_yellowbile then
	tmp.effused_yellowbile = true
	affs.rem(&quot;effused_yellowbile&quot;, true)
end
if affs.current.effused_phlegm then
	tmp.effused_phlegm = true
	affs.rem(&quot;effused_phlegm&quot;, true)
end
if affs.current.effused_blood then
	tmp.effused_blood = true
	affs.rem(&quot;effused_blood&quot;, true)
end
if timers.biles then killTimer(timers.biles) end
timers.biles = tempTimer(5, [[affs.effused_biles = true;send(&quot; &quot;)]])</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You improve but do not fully heal your loss of (.*)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bile clear</name>
                                <script>affs.rem(&quot;effused_biles&quot;, false)
if timers.biles then killTimer(timers.biles) end
if matches[2] == &quot;yellow bile&quot; then tmp.effused_yellowbile = nil end
if matches[2] == &quot;phlegm&quot; then tmp.effused_phlegm = nil end
if matches[2] == &quot;blood&quot; then tmp.effused_blood = nil end

if tmp.effused_yellowbile then affs.add(&quot;effused_yellowbile&quot;, true) end
if tmp.effused_blood then affs.add(&quot;effused_blood&quot;, true) end
if tmp.effused_phlegm then affs.add(&quot;effused_phlegm&quot;, true) end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You feel completely cured from your loss of (.*) condition\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>blood symptoms</name>
                                <script>tmp.effused_blood = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Horrified, you see your veins bulge beneath your skin.</string>
                                    <string>Screaming, your veins burst open spilling precious life blood to the ground.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>phlegm symptoms</name>
                                <script>tmp.effused_phlegm = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Pain clenches your abdomen as you feel your stomach writhing.</string>
                                    <string>Unable to contain yourself, you vomit, spewing maggot infested phlegm.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>yellowbile symptoms</name>
                                <script>tmp.effused_yellowbile = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You cry out in anger as yellow bile oozes from your ears, nose and eyes.</string>
                                    <string>Pressure wells within you as your skin bloats and turns a sickly yellow.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>limb handling</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>kai strike faded</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>2</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>crackling light surrounding your</string>
                                <string>^The blue\, crackling light surrounding your .+ dims\, and fades from view\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                            <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>limb damaged</name>
                                <script>local limb = multimatches[2][2]:gsub(&quot; &quot;, &quot;_&quot;)
local aff = limb .. &quot;_damaged&quot;
affs.add(aff, true, false)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>breaks from all the damage.</string>
                                    <string>^Your (.+) breaks from all the damage\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>limb mangled</name>
                                <script>local limb = multimatches[2][2]:gsub(&quot; &quot;, &quot;_&quot;)
local aff = limb .. &quot;_mangled&quot;
affs.add(aff, true, false)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>To your horror, your </string>
                                    <string>^To your horror\, your (.+) has been mutilated beyond repair by ordinary means\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>kai strike</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>A stream of blue, crackling light spreads from </string>
                                <string>^A stream of blue\, crackling light spreads from \w+\'s palms\, striking and enveloping your body\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>kai cripple</name>
                            <script>o.traits.kai_cripple = true
if timers.kai_cripple then killTimer(timers.kai_cripple) end
timers.kai_cripple = tempTimer(3, [[o.traits.kai_cripple = nil]])</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^\w+ raises (?:his|her) arms above (?:his|her) head\, and a strange blue light begins to emanate from between (?:his|her) palms\.$</string>
                                <string>^Blue light crackles forth from (\w+)\'s palms\, surrounding your body\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>kai cripple fade</name>
                            <script>o.traits.kai_cripple = nil
if timers.kai_cripple then killTimer(timers.kai_cripple) end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The crackling blue energy around your body disappears.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>back damaged</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your vertebrae are recovering, but are still damaged.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>limb damage</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>limb damage</name>
                        <script>local str = selectString(multimatches[1][1], 1)
if isAnsiFgColor(0) then return end

local limb = multimatches[2][2]
local perc = tonumber(multimatches[2][3])

deleteLine()

affs.dam(limb, perc, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>has taken</string>
                            <string>^Your (.+) has taken (.*)\% damage\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>limb healed</name>
                        <script>local str = selectString(multimatches[1][1], 1)
if isAnsiFgColor(0) then return end

local limb = multimatches[2][2]
local perc = tonumber(multimatches[2][3])

deleteLine()

affs.res(limb, perc, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>has recovered</string>
                            <string>^Your (.+) has recovered (.*)\% damage\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>wounds</name>
                        <script>deleteLine()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>6</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You take a moment to assess how damaged your limbs are.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>wounds head</name>
                            <script>local str = selectString(multimatches[1][1], 1)
if isAnsiFgColor(0) then return end

deleteLine()

affs.setdam(&quot;head&quot;, multimatches[2][2], true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Head</string>
                                <string>^Head\:      (.+)\% \((.+)\)</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>wounds torso</name>
                            <script>local str = selectString(multimatches[1][1], 1)
if isAnsiFgColor(0) then return end

deleteLine()

affs.setdam(&quot;torso&quot;, multimatches[2][2], true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Torso</string>
                                <string>^Torso\:     (.+)\% \((.+)\)</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>wounds left arm</name>
                            <script>local str = selectString(multimatches[1][1], 1)
if isAnsiFgColor(0) then return end

deleteLine()

affs.setdam(&quot;left arm&quot;, multimatches[2][2], true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Left arm</string>
                                <string>^Left arm\:  (.+)\% \((.+)\)</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>wounds right arm</name>
                            <script>local str = selectString(multimatches[1][1], 1)
if isAnsiFgColor(0) then return end

deleteLine()

affs.setdam(&quot;right arm&quot;, multimatches[2][2], true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Right arm</string>
                                <string>^Right arm\: (.+)\% \((.+)\)</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>wounds left leg</name>
                            <script>local str = selectString(multimatches[1][1], 1)
if isAnsiFgColor(0) then return end

deleteLine()

affs.setdam(&quot;left leg&quot;, multimatches[2][2], true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Left leg</string>
                                <string>^Left leg\:  (.+)\% \((.+)\)</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>wounds right leg</name>
                            <script>local str = selectString(multimatches[1][1], 1)
if isAnsiFgColor(0) then return end

deleteLine()

affs.setdam(&quot;right leg&quot;, multimatches[2][2], true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Right leg</string>
                                <string>^Right leg\: (.+)\% \((.+)\)</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </Trigger>
                </TriggerGroup>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>damage taken</name>
                    <script>fs.release()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Health Lost:</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>mana damage taken</name>
                    <script>fs.release()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Mana Lost:</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>balances</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>balances by message</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>avoidance up</name>
                        <script>can.bal(&quot;avoidance&quot;)
can.bal(&quot;avoidance&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your muscles have recovered enough for you to be nimble once more.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>avoidance down</name>
                        <script>can.nobal(&quot;avoidance&quot;)
can.bal(&quot;avoidance&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your muscles are too tired to become nimble again so soon.</string>
                            <string>Shifting your weight to the balls of your feet, you begin to feel capable of quicker movements.</string>
                            <string>You draw your limbs in close and tense your muscles as you fortify yourself against attacks.</string>
                            <string>Your body is too tired to fortify again so soon.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>fitness up</name>
                        <script>can.bal(&quot;fitness&quot;)
can.bal(&quot;fitness&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You may once again use fitness to control your breathing.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>fitness down</name>
                        <script>can.nobal(&quot;fitness&quot;)
can.bal(&quot;fitness&quot;, true)
if affs.current.asthma or affs.current.limp_veins then fs.on(&quot;fitness&quot;, 2) end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You breathe inward, hissing and steeling your body.</string>
                            <string>You inhale deeply, allowing the air to fill your mighty lungs.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>furor down</name>
                        <script>can.nobal(&quot;furor&quot;)
can.bal(&quot;furor&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You take deep, ragged breaths as your bloody rage comes to an end.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>furor up</name>
                        <script>can.bal(&quot;furor&quot;)
can.bal(&quot;furor&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You may once again throw yourself into a furor.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>howl up</name>
                        <script>can.bal(&quot;howl&quot;)
can.bal(&quot;howl&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You feel ready to</string>
                            <string>^You feel ready to (howl|roar|shriek|squeal) once again\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>howl down</name>
                        <script>can.bal(&quot;howl&quot;, true)
can.nobal(&quot;howl&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Balance Used:</string>
                            <string>^(Howl|Roar|Shriek|Squeal) Balance Used\: .+ seconds$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>mend up</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You may mend your body once more.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>mend down</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You utter a low hiss from exertion as you will the power of your blood to repair the wounds your undead body has sustained.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>spiritwrack up</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You have recovered spiritwrack balance.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>spiritwrack down</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You have not recovered spiritwrack balance.</string>
                            <string>^You ask your angel to afflict \w+ with \w+ and it glares at \w+\, tormenting his soul\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>momentum up</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your body has recovered from its increased momentum.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>numbsense up</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your undead frame may once more numb its senses.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>numbsense down</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>A profound silence overcomes you, and you blink rapidly, darkness quickly overcoming your surroundings. Suddenly, all is clear once more, and you feel your senses heightened greatly.</string>
                            <string>You are blessed with numbed senses.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>illusion down</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You toss a sparkling cloud of dust over yourself and as it settles you shimmer into invisibility.</string>
                            <string>You project a net of light about yourself until your image becomes faded and ghostly.</string>
                            <string>You dispel all illusion magics that were woven about yourself.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>penance up</name>
                        <script>can.bal(&quot;penance&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You are once again able to impose Penance upon other people.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>primary illusion up</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your primary illusion balance has returned.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>secondary illusion up</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your secondary illusion balance has returned.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shadow balance up</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You have recovered shadow balance.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>soulmaster up</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You sense that the soulmaster entity is in control of</string>
                            <string>^You sense that the soulmaster entity is in control of (\w+)\'s being\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>soulmaster down</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You order the soulmaster entity to manipulate (\w+)\.$</string>
                            <string>^You order the soulmaster entity to project an illusion at (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>vitality down</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your body positively glows with health and vitality.</string>
                            <string>You cannot call upon your vitality again so soon.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>vitality up</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You are once again able to call upon your vitality.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>alacrity down</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You use Tracking Alacrity.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>alacrity up</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You may once more call upon your alacrity.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>contemplate up</name>
                        <script>can.bal(&quot;contemplate&quot;)
can.bal(&quot;contemplate&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You are able to contemplate once again.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>contemplate down</name>
                        <script>can.nobal(&quot;contemplate&quot;)
can.bal(&quot;contemplate&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You begin to contemplate the mysteries of</string>
                            <string>^You begin to contemplate the mysteries of \w+\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>mindburrow off</name>
                        <script>can.nobal(&quot;mindburrow&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your wisp is still too weak to burrow into your enemy's mind again.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>warhounds down</name>
                        <script>local str = selectString(matches[1], 1)
if isAnsiFgColor(0) then return end

can.nobal(&quot;warhounds&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Hound Balance Used:</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>warhounds up</name>
                        <script>can.bal(&quot;warhounds&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You can order your hounds to act again.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shadow up</name>
                        <script>can.bal(&quot;shadow&quot;)

stopwatch.shadow = nil
timers.shadow_used = nil</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You may influence the shadows once more.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>balance used</name>
                    <script>local str = selectString(&quot;Balance Used:&quot;, 1)
if isAnsiFgColor(0) then return end

timers.balance_used = tonumber(multimatches[2][2])
stopwatch.balance = nil
stopwatch.balance = createStopWatch()
startStopWatch(stopwatch.balance)

tmp.bals.balance = true
tmp.contemplated = nil</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>1</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Balance Used:</string>
                        <string>^Balance Used\: (.+) seconds$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>time to recover</name>
                        <script>local str = selectString(&quot;Time to recover:&quot;, 1)
if isAnsiFgColor(0) then return end

timers.balance_used = tonumber(multimatches[2][2])
stopwatch.balance = nil
stopwatch.balance = createStopWatch()
startStopWatch(stopwatch.balance)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Time to recover:</string>
                            <string>^Time to recover\: (.+) seconds$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>equilibrium used</name>
                    <script>local str = selectString(&quot;Equilibrium Used:&quot;, 1)
if isAnsiFgColor(0) then return end

timers.equilibrium_used = tonumber(multimatches[2][2])
stopwatch.equilibrium = nil
stopwatch.equilibrium = createStopWatch()
startStopWatch(stopwatch.equilibrium)

tmp.bals.equilibrium = true
tmp.contemplated = nil</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>1</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Equilibrium Used:</string>
                        <string>^Equilibrium Used\: (.+) seconds$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>time to recover</name>
                        <script>local str = selectString(&quot;Time to recover:&quot;, 1)
if isAnsiFgColor(0) then return end

timers.equilibrium_used = tonumber(multimatches[2][2])
stopwatch.equilibrium = nil
stopwatch.equilibrium = createStopWatch()
startStopWatch(stopwatch.equilibrium)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Time to recover:</string>
                            <string>^Time to recover\: (.+) seconds$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>shadow balance used</name>
                    <script>local str = selectString(&quot;Shadow Balance Used:&quot;, 1)
if isAnsiFgColor(0) then return end

timers.shadow_used = tonumber(multimatches[2][2])
stopwatch.equilibrium = nil
stopwatch.equilibrium = createStopWatch()
startStopWatch(stopwatch.shadow)

tmp.bals.shadow = true</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Shadow Balance Used:</string>
                        <string>^Shadow Balance Used\: (\d+) seconds$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>cooldowns</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>on</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>deathlore poison</name>
                        <script>fs.oncd(&quot;soul_poison&quot;, 90)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You use Deathlore Poison</string>
                            <string>^You use Deathlore Poison on \w+\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>deathlore purge</name>
                        <script>fs.oncd(&quot;deathlore_purge&quot;, 5)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your soul has not recovered enough to be purged once more.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tracking alacrity</name>
                        <script>fs.oncd(&quot;alacrity&quot;, 120)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You use Tracking Alacrity.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tracking quickshoot</name>
                        <script>fs.oncd(&quot;quickshoot&quot;, 1)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You use Tracking Crossbow Quickshoot on</string>
                            <string>^You use Tracking Crossbow Quickshoot on (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>woodlore opportunity</name>
                        <script>fs.oncd(&quot;opportunity&quot;, 120)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You use Woodlore Opportunity.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>off</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>deathlore poison</name>
                        <script>fs.offcd(&quot;soul_poison&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You may once again use your souls to poison another being.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>deathlore purge</name>
                        <script>fs.offcd(&quot;deathlore_purge&quot;)
timers.to_purge = 0
timers.purge_used = 0
stopwatch.purge = nil</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You may once again purge your body.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tracking alacrity</name>
                        <script>fs.offcd(&quot;alacrity&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You may once more call upon your alacrity.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tracking quickshoot</name>
                        <script>fs.offcd(&quot;quickshoot&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You may quickshoot once again.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>woodlore opportunity</name>
                        <script>fs.offcd(&quot;opportunity&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You may take advantage of an opportunity once again.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>cooldown header</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>100</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You have the following on cooldown:</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>cooldown capture</name>
                        <script>local cd = matches[2]:lower():gsub(&quot; &quot;, &quot;_&quot;)
local cap = tonumber(matches[6])
local cap2 = matches[7]

if cap2 == &quot;minutes&quot; then
	local time = tonumber(cap*60)
	fs.offcd(cd)
	fs.oncd(cd, time)
elseif cap2 == &quot;seconds&quot; then
	local time = cap
	fs.offcd(cd)
	fs.oncd(cd, time)
else
	cap = tonumber(cap*60)
	cap2 = tonumber(cap2)
	local time = tonumber(cap + cap2)
	fs.offcd(cd)
	fs.oncd(cd, time)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(:?(:?\w+)|(:?\w+) (:?\w+))\s+(\d+) minutes and (\d+) seconds$</string>
                            <string>^(:?(\w+)|(:?\w+) (:?\w+))\s+(\d+)\s+(minutes)$</string>
                            <string>^(:?(\w+)|(:?\w+) (:?\w+))\s+(\d+)\s+(seconds)$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>prompt</name>
                        <script>setTriggerStayOpen(&quot;cooldown header&quot;, 0)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>bashing</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>damage done</name>
                    <script>fs.release()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Damage done:</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>channels</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>behead</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>behead started</name>
                        <script>channel.started(&quot;behead&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You raise</string>
                            <string>^You raise .* over your head and begin to swing it in a wide circle\, gaining speed as you go\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>behead middle</name>
                        <script>channel.started(&quot;behead&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You begin to bear down on</string>
                            <string>^You begin to bear down on \w+\, preparing to destroy (?:him|her)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>behead fulfilled</name>
                        <script>channel.fulfilled()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>A surge of elation rushes through you as you realize that</string>
                            <string>^A surge of elation rushes through you as you realize that \w+\'s fate is sealed\. With a roar of triumph\, you whip your \w+ at \w+\'s neck\, slicing (:?his|her) head from (:?his|her) shoulders in a veritable fountain of dark red blood\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>behead interrupted</name>
                        <script>channel.interrupted()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease waving your weapon.</string>
                            <string>^You cease the whirling of your \w+ over your head\.$</string>
                            <string>A feeling of missed opportunity pervades you as you cease your attempts at beheading.</string>
                            <string>^Seeing no likely target, you cease swinging your \w+ about your head.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>1</integer>
                            <integer>3</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>brainsmash</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>brainsmash begin</name>
                        <script>channel.started()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You begin building up momentum with</string>
                            <string>^You begin building up momentum with .*\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>brainsmash middle</name>
                        <script>channel.started()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You begin to swing</string>
                            <string>^You begin to swing .* swiftly around your body\, maintaining and building upon its momentum as you move toward \w+\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>brainsmash fulfilled</name>
                        <script>channel.fulfilled()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>With a triumphant roar you bring</string>
                            <string>^With a triumphant roar you bring .* crashing down onto \w+\'s head\. Time seems to slow as you strike\, giving you a detailed view of your weapon smashing through (:?his|her) skull\, cracks spidering along the surface before it shatters\, spraying blood and brain matter everywhere\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>brainsmash interrupted</name>
                        <script>channel.interrupted()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease your attempt to smash a brain.</string>
                            <string>^You cease the whirling of your \w+ over your head\.$</string>
                            <string>^Seeing no likely target, you cease swinging your \w+ about your head.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>chasm</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>chasm started</name>
                        <script>if multimatches[2][2] ~= tmp.target:title() then return end
channel.started()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You stomp a foot mightily into the ground and a quickly-moving spiderweb of cracks spreads outwards from the impact towards</string>
                            <string>^You stomp a foot mightily into the ground and a quickly\-moving spiderweb of cracks spreads outwards from the impact towards (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>chasm middle</name>
                        <script>if multimatches[2][2] ~= tmp.target:title() then return end
channel.started()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>As the spiderweb of cracks reaches</string>
                            <string>^As the spiderweb of cracks reaches (\w+)\, you quickly drop to the ground and begin to pry open the splits into a gaping chasm\, using naught but your sheer strength alone\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>chasm fulfilled</name>
                        <script>if multimatches[2][2] ~= tmp.target:title() then return end
channel.fulfilled()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your muscles bulge as you tear apart the earth, the deafening rumble drowning out your yell of effort. The mighty chasm quickly spreads through the cracks towards</string>
                            <string>^Your muscles bulge as you tear apart the earth\, the deafening rumble drowning out your yell of effort\. The mighty chasm quickly spreads through the cracks towards (\w+) and swallows (?:him|her) into its dark depths\. Screams of sheer terror accompany (:?his|her) rapid descent\, abruptly muffled by the rapid mending of the earth  behind (?:him|her)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>chasm interrupted</name>
                        <script>channel.interrupted()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The earth quickly mends itself together after you lose your concentration upon creating the chasm.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>earthenform</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>earthenform started</name>
                        <script>channel.started()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You kneel, and place your hands upon the earth beneath you. As if on command, the earth shifts and begins to travel up your arms.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>earthenform middle</name>
                        <script>channel.started()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The ground begins to heave and toss about, jolting your steadily growing frame violently.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>earthenform interrupted</name>
                        <script>channel.interrupted()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease your focus upon attaining the earthen form, your mass returning to normal as the earth falls from your body.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>earthenform fulfilled</name>
                        <script>channel.fulfilled()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>It takes several painstaking moments for the mass to settle upon every part of your body. Compacted in the comforting embrace of the earth, you rise anew, towering over your surroundings in your monstrous earthen form.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>judgement</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>judgement begin</name>
                        <script>channel.started()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>sins, and it begins to crackle with fire.</string>
                            <string>^You raise your spiritual mace over (\w+) to pass judgement on (:?his|her) sins\, and it begins to crackle with fire\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>judgement middle one</name>
                        <script>channel.started()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You swing the crackling mace about your head, gathering momentum as you bear down on</string>
                            <string>^You swing the crackling mace about your head\, gathering momentum as you bear down on (?:him|her)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>judgement middle two</name>
                        <script>channel.started()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The mace begins to make a high-pitched keening sound as it rapidly spins over your head.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>judgement completed</name>
                        <script>channel.fulfilled()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>With a roar of righteous fury, you bring your burning, shrieking mace down upon</string>
                            <string>^With a roar of righteous fury\, you bring your burning\, shrieking mace down upon (\w+)\, who crumples lifeless to the ground as (:?his|her) sins are purged by your cleansing fire\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>judgement interrupted</name>
                        <script>channel.interrupted()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You lower your mace and cease passing judgement.</string>
                            <string>^\w+ has fled your righteous grasp\.$</string>
                            <string>You cease your judgement.</string>
                            <string>You lower your spiritual mace, ending your judgement.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>1</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>phase</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>phase begin</name>
                        <script>channel.started()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Summoning up all your mental strength and physical agility, you begin to vibrate your body as quickly as possible.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>phase completed</name>
                        <script>channel.fulfilled()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>A short burst of azure light fills your vision and when it is gone, you find yourself phased out of sync with the rest of reality.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>phase ninterrupted</name>
                        <script>channel.interrupted()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease to concentrate on phasing out of reality.</string>
                            <string>The presence of another prevents you from phasing.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>refining erect</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>refining erect begin</name>
                        <script>channel.started()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You draw upon the residual energy that surrounds you in a halo of crackling power and prepare to create</string>
                            <string>^You draw upon the residual energy that surrounds you in a halo of crackling power and prepare to create (:?a|an) \w+ fortification\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>refining erect completed</name>
                        <script>channel.fulfilled()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Using energy from the focal point, you will it to disperse outward to fill the air with cloaking static, interfering with telepathic abilities.</string>
                            <string>Diverting energy from the focal point, you erect a shimmering translucent barricade around the area.</string>
                            <string>You call upon energy from the focal point and a heavy weight pervades the area, pushing down on every inch of your body.</string>
                            <string>A mote of energy from the leylines gravitates toward your hand, and as you visualize your enemies, it seems to draw purpose from your ire before dispersing into a cluster that zips off.</string>
                            <string>Focusing intently, you bid a protective barrier to cloak your allies, power from the leylines facilitating the feat.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>refining erect interrupted</name>
                        <script>channel.interrupted()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease to erect the fortification.</string>
                            <string>You can only erect a fortification at a focal point.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>refining control</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>refining control begin</name>
                        <script>channel.started()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Steeling yourself, you step forward and drop to one knee, bidding the energies to you. As it resists your unfamiliar pull, you feel it tug at the very fiber of your being, threatening to unravel it.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>refining control completed</name>
                        <script>channel.fulfilled()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>As the strange gravitational pull drawing the tendrils toward you wins over, the tether of energy realigns itself with a violent snap and defining crack. You begin to manipulate it delicately and attune the extraction to your glorious city.</string>
                            <string>You maintain focus on manipulating the delicate energies to attune them to your glorious city.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>refining control interrupted</name>
                        <script>channel.interrupted()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You find yourself unable to continue your attempt to wrest control of the focal point.</string>
                            <string>There is no focal point here to exert control over.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>shatter</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shatter begin</name>
                        <script>channel.started()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You slowly pull back</string>
                            <string>^You slowly pull back .*\, readying yourself for a devastating strike\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shatter completed</name>
                        <script>channel.fulfilled()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You deal</string>
                            <string>^You deal \w+\'s .+ a mighty blow\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shatter interrupted</name>
                        <script>channel.interrupted()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease concentrating on shattering your opponent's limbs.</string>
                            <string>Your target is no longer here to be attacked.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>spheres</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>spheres begin</name>
                        <script>channel.started()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You begin to channel the music of the spheres. So much knowledge and power at once is exhilarating, but you feel that should you release your grasp on it, your physical form will surely suffer.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>spheres middle</name>
                        <script>channel.started()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your body begins to sway as the incomprehensible melody of the firmament begins to overwhelm your senses.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>spheres completed</name>
                        <script>channel.fulfilled()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Finally, your heart stops racing as your soul cries in harmony with the heavens themselves.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>spheres interrupted</name>
                        <script>channel.interrupted()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The music of the spheres fades, leaving you weak and unsteady.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>character database</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>scent</name>
                    <script>cdb.tempscent = {}</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>64</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You tilt your head back and deeply inhale any scents from the air.</string>
                        <string>You bid your guardian to seek out life presences nearby.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>grab data</name>
                        <script>local cap = matches[2]
local cap2 = matches[3]

selectString(line, 1) replace&quot;&quot;
cecho(&quot;&lt;green&gt;&quot; .. cap .. &quot;&lt;reset&gt;: &quot;)
mmp.echonums(cap2)
echo(string.rep(&quot; &quot;, 25 - #getCurrentLine()))
echo(cap2)

if cdb.tempscent[cap2] then
	cdb.tempscent[cap2][#cdb.tempscent[cap2] + 1] = cap
else
	cdb.tempscent[cap2] = {cap}
end

if cdb.scanning then
	if cdb.chars[cap] then
		cdb.add(cap, true)
	else
		cdb.add(cap, false)
	end
end

cdb.chars[cap].last_location = cap2
cdb.chars[cap].in_area = true</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You pick up the faint scent of (\w+) at (.+)\.$</string>
                            <string>^Your angel senses (\w+) at (.+)\, with a health of \d+ and a mana of \d+\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>prompt</name>
                        <script>setTriggerStayOpen(&quot;scent&quot;, 0)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>city who</name>
                    <script>local str = selectString(multimatches[1][1], 1)
if isAnsiFgColor(0) then setTriggerStayOpen(&quot;city who&quot;, 0) end

</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>100</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>The following citizens of</string>
                        <string>^The following citizens of (\w+) are in the realm\:$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>grab data</name>
                        <script>local cap = matches[2]

if cdb.scanning then
	if cdb.chars[cap] then
		cdb.add(cap, true)
	else
		cdb.add(cap, false)
	end
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+)\s+.+\s+\w+$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>prompt</name>
                        <script>setTriggerStayOpen(&quot;city who&quot;, 0)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>guild who</name>
                    <script>local str = selectString(multimatches[1][1], 1)
if isAnsiFgColor(0) then setTriggerStayOpen(&quot;guild who&quot;, 0) end
</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>100</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Member</string>
                        <string>^Member\s+Rank\s+Position\s+Class$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>grab data</name>
                        <script>local str = selectString(matches[1], 1)
if not isAnsiFgColor(0) then return end

local cap = matches[2]

if cdb.scanning then
	if cdb.chars[cap] then
		cdb.add(cap, true)
	else
		cdb.add(cap, false)
	end
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+)\s+.+\s+\w+$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>prompt</name>
                        <script>setTriggerStayOpen(&quot;guild who&quot;, 0)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>quick who</name>
                    <script>local str = selectString(&quot;There are&quot;, 1)
if isAnsiFgColor(0) then return end
if multimatches[1][1]:match(&quot;-&quot;) then return end

local dl = not cdb.scanning
if not multimatches[1][1]:match(&quot;There are&quot;) then
	for name in string.gmatch(multimatches[1][1], &quot;%a+&quot;) do
		if not name:match(&quot;^and$&quot;) then
			if cdb.chars[name] then
				cdb.add(name, true, dl)
			else
				cdb.add(name, false, dl)
			end
		end
	end
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>1</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(.+)$</string>
                        <string>^There are \d+ players on this plane and \d+ players on other planes\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>who</name>
                    <script>selectCurrentLine()
local str = selectString(matches[1], 1)
if isAnsiFgColor(0) then
	setTriggerStayOpen(&quot;who&quot;, 0)
	return
end

deleteLine()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>250</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>-------------------------------------------------------------------------------</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>grab data</name>
                        <script>deleteLine()

if not tmp.who_header then
	display_header(&quot;Beta Who List:&quot;)
	tmp.who_header = true
end

if not matches[2] then return end

local cap = matches[2]

cdb.temphidden = cdb.temphidden or {}
if not table.contains(cdb.temphidden, cap) then table.insert(cdb.temphidden, cap) end

local dl = not cdb.scanning
if cdb.chars[cap] then
	cdb.add(cap, true, dl)
else
	cdb.add(cap, false, dl)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^\s+(\w+)\s+\-\s+\w+\s+$</string>
                            <string>None.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>grab location</name>
                        <script>deleteLine()
if not matches[2] then return end

if not tmp.who_header then
	display_header(&quot;Beta Who List:&quot;)
	tmp.who_header = true
end

local cap = matches[2]
local cap2 = matches[3]

cdb.temphidden = cdb.temphidden or {}

local dl = not cdb.scanning
if cdb.chars[cap] then
	cdb.add(cap, true, dl)
else
	cdb.add(cap, false, dl)
end

cdb.tempwho = cdb.tempwho or {}

if cdb.tempwho[cap2] and not table.contains(cdb.tempwho[cap2], cap) then
	cdb.tempwho[cap2][#cdb.tempwho[cap2] + 1] = cap
else
	cdb.tempwho[cap2] = { cap }
end

cdb.tempwholist = cdb.tempwholist or {}
cdb.temploc = cdb.temploc or {}
table.insert(cdb.tempwholist, cap)

local check = {}
for i, v in ipairs(cdb.tempwholist) do
	local loc = v
	if check[v] and cap == v then
		cdb.tempwholist[i] = v .. &quot;_&quot; .. check[v] + 1
		loc = v .. &quot;_&quot; .. check[v] + 1
	end
	if not cdb.temploc[loc] then
		cdb.temploc[loc] = cap2
	end
	check[v] = check[v] and tonumber(check[v] + 1) or 1
end


</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^\s+(\w+)\s+\-\s+\w+\s+\-\s+(.+)$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>stop cap</name>
                        <script>selectCurrentLine()
deleteLine()
setTriggerStayOpen(&quot;who&quot;, 0)
tmp.who_header = nil
echo(&quot;\n&quot;)

local whogroups = {}
for k, v in pairs(cdb.tempwho) do
	if #v &gt; 1 then
		whogroups[k] = v
	end
end

local alone = {}
for k, v in pairs(cdb.tempwho) do
	for _, c in ipairs(cdb.tempwholist) do
		if not table.contains(whogroups, c) and not table.contains(alone, c) then
			table.insert(alone, c)
		end
	end
end

if alone ~= {} then
	local str
	local str_two
	local displayed = {}
	local tot = #alone
	local tot = math.ceil(tot - (#alone/2))
	for i, v in ipairs(alone) do
		if not displayed[v] then
			str = alone[i] .. &quot;:&quot; .. string.rep(&quot; &quot;, 15 - alone[i]:len()) .. cdb.temploc[alone[i]]
			str = str .. string.rep(&quot; &quot;, 41 - str:len()) .. &quot;(&quot;
			displayed[alone[i]] = true
			if alone[i+tot] then
				str_two = string.rep(&quot; &quot;, 50 - (str:len() + mmp.ret_len_nums(cdb.temploc[alone[i]]))) .. alone[i+tot] .. &quot;:&quot; .. string.rep(&quot; &quot;, 15 - alone[i+tot]:len()) .. cdb.temploc[alone[i+tot]]
				str_two = str_two .. string.rep(&quot; &quot;, 54 - (str_two:len() + mmp.ret_len_nums(cdb.temploc[alone[i]]))) .. &quot;(&quot;
				displayed[alone[i+tot]] = true
			else
				str_two = &quot;\n&quot;
			end
			echo(str)
			mmp.echonums(cdb.temploc[alone[i]], true)
			echo(&quot;)&quot;)
			echo(str_two)
			if alone[i+tot] then 
				mmp.echonums(cdb.temploc[alone[i+tot]], true)
				echo(&quot;)\n&quot;)	
			end		
		end
	end
end

if #cdb.temphidden &gt; 0 then whogroups[&quot;hidden from who&quot;] = cdb.temphidden end

local locgroups = {}
local count = 0
for k, v in pairs(whogroups) do
	count = count + 1
	table.insert(locgroups, k)
end

local tot = math.ceil(count - (count/2))

local str
local str_two
local displayed = {}
for i, v in ipairs(locgroups) do
	if not displayed[v] then
		str = locgroups[i] .. &quot;:&quot;
		str = str .. string.rep(&quot; &quot;, 41 - str:len())
		displayed[locgroups[i]] = true
		if locgroups[i+tot] then
			str_two = string.rep(&quot; &quot;, 50 - str:len()) .. locgroups[i+tot] .. &quot;:&quot;
			displayed[locgroups[i+tot]] = true
		else
			str_two = &quot;&quot;
		end
		echo(&quot;\n&quot;)
		cecho(&quot;&lt;spring_green&gt;&quot; .. str)
		cecho(&quot;&lt;spring_green&gt;&quot; .. str_two .. &quot;\n&quot;)
		local group = whogroups[locgroups[i]]
		local count = #group
		local names
		if count == 1 then 
			names = table.concat(group)
		else
			names = table.concat(group, &quot;, &quot;, 1, (count - 1))
		end
		if count &gt; 1 then names = names .. &quot; and &quot; .. group[count] .. &quot;.&quot; end
		str = names
		if whogroups[locgroups[i+tot]] then
			local group = whogroups[locgroups[i+tot]]
			local count = #group
			local names
			if count == 1 then 
				names = table.concat(group)
			else
				names = table.concat(group, &quot;, &quot;, 1, (count - 1))
			end
			if count &gt; 1 then names = names .. &quot; and &quot; .. group[count] .. &quot;.&quot; end
			str = str .. string.rep(&quot; &quot;, 50 - str:len()) .. names
		end
		echo(str .. &quot;\n&quot;)
	end
end

display_footer()

cdb.tempwho = {}
cdb.tempwholist = {}
cdb.temploc = {}
cdb.temphidden = {}</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>There are</string>
                            <string>^There are (\d+) players on this plane and (\d+) players on other planes\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>prompt</name>
                        <script>tmp.who_header = nil
setTriggerStayOpen(&quot;who&quot;, 0)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>afflictions</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>add</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>left venom</name>
                            <script>local tar = tmp.target:title()
local t = cdb.chars[tar]

if tmp.rebounded then
	tmp.rebounded = false
	return
end
if tmp.blockvenom then
	tmp.blockvenom = false
	return
end

local venom = inv.weap.venoms.left[1]
			
ks.to_aff(tar, venom)
table.remove(inv.weap.venoms.left, 1)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You discern that a layer of venom has rubbed off your weapon.</string>
                                <string>^(You|With|\w+) (strike|jerks|a|batter|bite|brutally|cruelly|drive|gash|gouge|lacerate|lay|neatly|nimbly|plow|press|rend|shear|slam|slash)</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>right venom</name>
                            <script>local tar = tmp.target:title()
local t = cdb.chars[tar]

if tmp.rebounded then
	tmp.rebounded = false
	return
end
if tmp.blockvenom then
	tmp.blockvenom = false
	return
end

local side = &quot;right&quot;

if tonumber(multimatches[2][2]) == 1.99 then
	side = &quot;left&quot;
end

venom = inv.weap.venoms[side][1]

ks.to_aff(tar, venom)
table.remove(inv.weap.venoms[side], 1)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You discern that a layer of venom has rubbed off your weapon.</string>
                                <string>^Balance Used\: (.*) seconds$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>venom</name>
                            <script>local tar = tmp.target:title()
local t = cdb.chars[tar]

if tmp.rebounded then
	tmp.rebounded = false
	return
end
if tmp.blockvenom then
	tmp.blockvenom = false
	return
end

if t.defs.immunity then
	cdb.def(tar, &quot;immunity&quot;)
	return
end

local side = inv.side()
local venom = inv.weap.venoms[side][1]

if ks.to_aff then
	ks.to_aff(tar, venom)
else
	local vn_stacked = {
		[&quot;right_leg_broken&quot;] = &quot;left_leg_broken&quot;,
		[&quot;left_arm_broken&quot;] = &quot;right_arm_broken&quot;
	}
	local aff = ks.lib[venom]

	if vn_stacked[aff] and t.affs[aff] then
		cdb.aff(vn_stacked[aff])
	elseif ks.lib[aff].def then
		cdb.def(name, aff)
	else
		cdb.aff(name, aff, true)
	end
end
table.remove(inv.weap.venoms[side], 1)
</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You discern that a layer of venom has rubbed off your weapon.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>carnifex</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>limbs</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList/>
                                <regexCodePropertyList/>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>crushed_kneecaps</name>
                                    <script>local str = selectString(&quot;Savagery Crush Knees&quot;, 1)
if isAnsiFgColor(0) then setTriggerStayOpen(&quot;crushed_kneecaps&quot;, 0) end</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>8</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You use Savagery Crush Knees on</string>
                                        <string>^You use Savagery Crush Knees on (\w+)\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>parry</name>
                                        <script>local tar = multimatches[2][2]
tmp.t_parried = multimatches[2][3]


</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>parries the attack on</string>
                                            <string>^(\w+) parries the attack on (?:his|her) (.+) with a deft maneuver\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>0</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>balance used</name>
                                        <script>local breaks = {
	&quot;right leg&quot;,
	&quot;left leg&quot;
}

for i, v in ipairs(breaks) do
	if tmp.t_parried ~= v then
		cdb.aff(tmp.target:title(), v:gsub(&quot; &quot;, &quot;_&quot;) .. &quot;_broken&quot;, true)
	end
end

cdb.aff(tmp.target:title(), &quot;crushed_kneecaps&quot;, true)

setTriggerStayOpen(&quot;crushed_kneecaps&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>Balance Used:</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>2</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>crushed_elbows</name>
                                    <script>local str = selectString(&quot;Savagery Crush Elbows&quot;, 1)
if isAnsiFgColor(0) then setTriggerStayOpen(&quot;crushed_elbows&quot;, 0) end</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>8</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You use Savagery Crush Elbows on</string>
                                        <string>^You use Savagery Crush Elbows on (\w+)\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>parry</name>
                                        <script>local tar = multimatches[2][2]
tmp.t_parried = multimatches[2][3]</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>parries the attack on</string>
                                            <string>^(\w+) parries the attack on (?:his|her) (.+) with a deft maneuver\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>0</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>balance used</name>
                                        <script>local breaks = {
	&quot;right arm&quot;,
	&quot;left arm&quot;
}

for i, v in ipairs(breaks) do
	if tmp.t_parried ~= v then
		cdb.aff(tmp.target:title(), v:gsub(&quot; &quot;, &quot;_&quot;) .. &quot;_broken&quot;, true)
	end
end

cdb.aff(tmp.target:title(), &quot;crushed_elbows&quot;, true)

setTriggerStayOpen(&quot;crushed_elbows&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>Balance Used:</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>2</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>crushed_chest</name>
                                    <script>local str = selectString(&quot;Savagery Crush Chest&quot;, 1)
if isAnsiFgColor(0) then setTriggerStayOpen(&quot;crushed_chest&quot;, 0) end</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>8</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You use Savagery Crush Chest on</string>
                                        <string>^You use Savagery Crush Chest on (\w+)\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>parry</name>
                                        <script>setTriggerStayOpen(&quot;crushed_chest&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>parries the attack on</string>
                                            <string>^(\w+) parries the attack on (?:his|her) (.+) with a deft maneuver\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>0</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>balance used</name>
                                        <script>local tar = tmp.target:title()
local t = cdb.chars[tar]

if t.affs.cracked_ribs then
	cdb.aff(tar, &quot;crushed_chest&quot;, true)
else
	cdb.aff(tar, &quot;cracked_ribs&quot;, true)
end</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>Balance Used:</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>2</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>doublebash one</name>
                                    <script></script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>1</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string> and pull back with ease, readying a second blow.</string>
                                        <string>^You powerfully swing .* down upon (\w+)\'s (.+) and pull back with ease\, readying a second blow\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>divert</name>
                                        <script>setTriggerStayOpen(&quot;doublebash one&quot;, 2)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>jerks to the side</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>0</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>soul</name>
                                        <script></script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>soul stands at</string>
                                            <string>^\w+\'s soul stands at \d+\%\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>0</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>doublebash two</name>
                                    <script>local tar = matches[2]
local limb = matches[3]</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>1</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>^You crush (\w+)\'s (.+) beneath a mighty overhead blow from .*\.$</string>
                                        <string>^Winding up\, you brutally smash .* into (\w+)\'s (.+)\.$</string>
                                        <string>^Lifting up .*\, you slam it into (\w+)\'s (.+) with numbing force\.$</string>
                                        <string>^You send (\w+)\'s (.+) reeling with a mighty strike from .*\.$</string>
                                        <string>^You step in\, gruesomely smashing up (\w+)\'s (.+) with .*\.$</string>
                                        <string>^You mutilate (\w+)\'s (.+) with a vengeful blow from .*\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>1</integer>
                                        <integer>1</integer>
                                        <integer>1</integer>
                                        <integer>1</integer>
                                        <integer>1</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>divert</name>
                                        <script>setTriggerStayOpen(&quot;doublebash two&quot;, 2)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>jerks to the side</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>0</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>soul</name>
                                        <script></script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>soul stands at</string>
                                            <string>^\w+\'s soul stands at \d+\%\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>0</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>batter</name>
                                    <script></script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>1</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>you repeatedly smash it into</string>
                                        <string>^Striking out at \w+ with .*\, you repeatedly smash it into (?:his|her) unguarded head\, leaving (?:him|her) beaten and bloodied\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>divert</name>
                                        <script>setTriggerStayOpen(&quot;batter&quot;, 2)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>jerks to the side</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>0</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>soul</name>
                                        <script>local tar = tmp.target:title()

cdb.aff(tar, &quot;blurry_vision&quot;, true)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>soul stands at</string>
                                            <string>^\w+\'s soul stands at \d+\%\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>0</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>gutcheck</name>
                                    <script></script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>1</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>in your hands, you slam the haft into</string>
                                        <string>^Spinning .* in your hands\, you slam the haft into (\w+)\'s gut\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>divert</name>
                                        <script>setTriggerStayOpen(&quot;gutcheck&quot;, 2)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>jerks to the side</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>0</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>soul</name>
                                        <script></script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>soul stands at</string>
                                            <string>^\w+\'s soul stands at \d+\%\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>0</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                </Trigger>
                            </TriggerGroup>
                            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>tracked</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList/>
                                <regexCodePropertyList/>
                            </TriggerGroup>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>distortion</name>
                                <script>local str = selectString(&quot;Deathlore Distortion&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]

cdb.aff(tar, &quot;distortion&quot;, true)

local time = tar .. &quot;_distortion&quot;
if timers[time] then killTimer(timers[time]) end
timers[time] = tempTimer(8, [[cdb.chars.]] .. tar .. [[.affs.distortion = nil]])</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Deathlore Distortion on</string>
                                    <string>^You use Deathlore Distortion on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>glasslimb</name>
                                <script>local str = selectString(&quot;Deathlore Frailty&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]

cdb.aff(tar, &quot;glasslimb&quot;, true)
fs.on(&quot;glasslimb&quot;, 7)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Deathlore Frailty on</string>
                                    <string>^You use Deathlore Frailty on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>gutcheck vomiting</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;vomiting&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>begins heaving up the contents of</string>
                                    <string>^(\w+) suddenly falls to the ground as (?:he|she) begins heaving up the contents of (:?his|her) stomach\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hound growl</name>
                                <script>local str = selectString(&quot;Warhounds Growl&quot;, 1)
if isAnsiFgColor(0) then return end

cdb.aff(multimatches[2][2], &quot;stupidity&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Warhounds Growl</string>
                                    <string>^You use Warhounds Growl on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hound tundralhowl</name>
                                <script>local tar = multimatches[2][2]
local t = cdb.chars[tar]

if t.affs.shivering then
	cdb.aff(tar, &quot;frozen&quot;, true)
elseif not t.defs.insulation then
	cdb.aff(tar, &quot;shivering&quot;, true)
else
	cdb.def(tar, &quot;insulation&quot;)
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Warhounds Tundralhowl</string>
                                    <string>^You use Warhounds Tundralhowl on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hypertension</name>
                                <script>local str = selectString(&quot;Deathlore Bloodburst&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]

cdb.aff(tar, &quot;hypertension&quot;, true)
cdb.chars[tar].traits.bloodburst = cdb.chars[tar].traits.bloodburst or 0
cdb.chars[tar].traits.bloodburst = cdb.chars[tar].traits.bloodburst + 1</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Deathlore Bloodburst on</string>
                                    <string>^You use Deathlore Bloodburst on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>implant</name>
                                <script>local str = selectString(&quot;Deathlore Implant (proc)&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]

local implant = cdb.chars[tar].traits.implant

cdb.aff(tar, implant.aff, true)
cdb.chars[tar].traits.implant = nil
</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Deathlore Implant (proc) on</string>
                                    <string>^(\w+) shudders as a dormant venom in (?:his|her) body releases itself into (?:his|her) bloodstream\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>ruptured_eardrum</name>
                                <script>local tar = multimatches[2][2]
cdb.aff(tar, &quot;ruptured_eardrum&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Warhounds Rupture on</string>
                                    <string>^You whistle sharply for .*\, eliciting a booming series of barks from the animal to stun (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>skewer</name>
                                <script>local str = selectString(&quot;Savagery Skewer&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = tmp.target:title()

-- cdb.dam(tar, &quot;torso&quot;, 12.49)
-- cdb.trait(tar, &quot;impaled&quot;, true)
o.traits.impaling = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Savagery Skewer on</string>
                                    <string>^You use Savagery Skewer on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soul_disease</name>
                                <script>local tar = multimatches[2][2]

cdb.aff(tar, &quot;soul_disease&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Deathlore Disease on</string>
                                    <string>^You use Deathlore Disease on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soul_poison</name>
                                <script>local tar = multimatches[2][2]

cdb.aff(tar, &quot;soul_poison&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Deathlore Poison on</string>
                                    <string>You use Deathlore Poison on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soulchill</name>
                                <script>local str = selectString(&quot;Deathlore Chill&quot;, 1)
if isAnsiFgColor(0) then return end

cdb.aff(multimatches[2][2], &quot;soulchill&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Deathlore Chill</string>
                                    <string>^You use Deathlore Chill on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soulpuncture</name>
                                <script>local str = selectString(&quot;Deathlore Puncture&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]

cdb.aff(tar, &quot;soulpuncture&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Deathlore Puncture on</string>
                                    <string>^You use Deathlore Puncture on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>wraith</name>
                                <script>local str = selectString(&quot;Deathlore Wraith&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]

cdb.aff(tar, &quot;wraith&quot;, true)

local time = tar .. &quot;_wraith&quot;
if timers[time] then killTimer(timers[time]) end
timers[time] = tempTimer(61, [[cdb.chars.]] .. tar .. [[.affs.wraith = nil]])</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Deathlore Wraith on</string>
                                    <string>^You use Deathlore Wraith on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>wrench</name>
                                <script>local str = selectString(&quot;Savagery Skewer&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = tmp.target:title()

if not (cdb.chars[tar].traits.impaled and o.traits.impaling) then return end

-- cdb.dam(tar, &quot;torso&quot;, 12.49)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Savagery Wrench</string>
                                    <string>^You use Savagery Wrench on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>withdraw</name>
                                <script>o.traits.impaling = nil

local tar = multimatches[2][2]:title()

-- cdb.trait(tar, &quot;impaled&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>With a snarl of contempt, you allow</string>
                                    <string>^With a snarl of contempt\, you allow (\w+) to slide free of your weapon\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>indorani</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>third person</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList/>
                                <regexCodePropertyList/>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>adder strike</name>
                                    <script>local str = selectString(multimatches[1][1], 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][3]:title()
local aff = ks.lib.to_aff[multimatches[2][2]]

cdb.aff(tar, aff, true)
cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>uses Tarot Adder Strike (</string>
                                        <string>^\w+ uses Tarot Adder Strike \((\w+)\) on (\w+)\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>chill</name>
                                    <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;shivering&quot;, true)
cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>grabs</string>
                                        <string>^\w+ grabs (\w+)\'s arm\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>lovers tarot</name>
                                    <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;lovers_effect&quot;, true)
cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>throws a Lovers tarot at</string>
                                        <string>^\w+ throws a Lovers tarot at (\w+) and as it strikes true\, a look of hopeless\, star-crossed love crosses (?:his|her) face\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>moon tarot</name>
                                    <script>local str = selectString(multimatches[1][1], 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][3]:title()

cdb.aff(tar, multimatches[2][2], true)
cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>uses Tarot Moon (</string>
                                        <string>^\w+ uses Tarot Moon \((\w+)\) on (\w+)\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>sun tarot</name>
                                    <script>local str = selectString(multimatches[1][1], 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][3]:title()

cdb.aff(tar, multimatches[2][2], true)
cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>uses Tarot Sun (</string>
                                        <string>^\w+ uses Tarot Sun \((\w+)\) on (\w+)\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>shrivel arms</name>
                                    <script>local tar = multimatches[2][2]:title()
local t = cdb.chars[tar]

if t.affs.right_leg_broken then
	cdb.aff(tar, &quot;left_leg_broken&quot;, true)
else
	cdb.aff(tar, &quot;right_leg_broken&quot;, true)
end

cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>arm, which withers away at the touch.</string>
                                        <string>^\w+ reaches out to stroke (\w+)\'s arm\, which withers away at the touch\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>shrivel legs</name>
                                    <script>local tar = multimatches[2][2]:title()
local t = cdb.chars[tar]

cdb.aff(tar, &quot;pacifism&quot;, nil)

if t.affs.left_leg_broken then
	cdb.aff(tar, &quot;right_leg_broken&quot;, true)
else
	cdb.aff(tar, &quot;left_leg_broken&quot;, true)
end</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>leg, which shrivels feebly away.</string>
                                        <string>^\w grabs (\w+)\'s leg\, which shrivels feebly away\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>shrivel limb</name>
                                    <script>local tar = multimatches[2][2]:title()
local limb = multimatches[2][3]:gsub(&quot; &quot;, &quot;_&quot;)
local aff = limb .. &quot;_broken&quot;

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, aff, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>reaches out to grab</string>
                                        <string>^\w+ reaches out to grab (\w+)\'s (.+)\, and it shrivels away\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>justice tarot</name>
                                    <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;justice&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>head and mutters something, then flings a tarot card at</string>
                                        <string>^\w+ bows (?:his|her) head and mutters something\, then flings a tarot card at (\w+)\. A set of scales appears above (?:his|her) head and one side of the scale quickly descends\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </TriggerGroup>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>aeon tarot</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacificism&quot;)
cdb.aff(tar, &quot;aeon&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Standing the Aeon on your open palm, you blow it lightly at</string>
                                    <string>^Standing the Aeon on your open palm\, you blow it lightly at (\w+) and watch as it seems to slow (?:his|her) movement through the time stream.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>adder strike</name>
                                <script>local tar = multimatches[2][3]:title()
local venom = multimatches[2][2]

cdb.aff(tar, &quot;pacifism&quot;, nil)

ks.to_aff(tar, venom)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The Adder rises up from behind you,</string>
                                    <string>^The Adder rises up from behind you, (\w+) dripping from its fangs\. With a sudden lurch\, it clamps its jaw tightly onto (\w+)\'s neck and pumps (?:him|her) with the venom\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bubonis</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, multimatches[2][3], true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^A filthy bubonis entity swirls about \w+\, its actions confused in motion\.$</string>
                                    <string>^Your bubonis has afflicted (\w+) with (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>chill</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;shivering&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You reach out and grab</string>
                                    <string>^You reach out and grab (\w+)\'s arm\, chilling (?:him|her) to the bone\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>chimera roar</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.def(tar, &quot;deafness&quot;, false)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The lion head upon your chimera lets forth a powerful roar at</string>
                                    <string>^The lion head upon your chimera lets forth a powerful roar at (\w+)\, but (?:he|she) appears unfazed by the attack\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>crone</name>
                                <script>local tar = multimatches[2][2]:title()
local limb = multimatches[2][3]:gsub(&quot; &quot;, &quot;_&quot;)
local aff = limb .. &quot;_broken&quot;

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, aff, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The crone withers</string>
                                    <string>^The crone withers (\w+)\'s (.+) into uselessness\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>firelord</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;ablaze&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Flames spew from a firelord, engulfing</string>
                                    <string>^Flames spew from a firelord\, engulfing (\w+) and consuming (?:his|her) flesh\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>justice tarot</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;justice&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>With a mocking prayer, you fling your tarot card at</string>
                                    <string>^With a mocking prayer\, you fling your tarot card at (\w+)\. A set of scales appears above (?:his|her) head and one side of the scale quickly descends\. Justice will be done\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>lovers tarot</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;lovers_effect&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You throw a Lovers tarot at</string>
                                    <string>^You throw a Lovers tarot at (\w+) and as it strikes true\, a look of utter love covers (?:his|her) face\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>moon tarot</name>
                                <script>local tar = multimatches[1][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, multimatches[2][2], true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^As you fling the Moon tarot at (\w+)\, it turns an ominous, sickly red, before striking (?:him|her) in the head\.$</string>
                                    <string>^The Moon tarot has passed on the (\w+) affliction\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>screech</name>
                                <script>--todo: do this by players-in-room list</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You screech wildly at the top of your voice.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shrivel arms</name>
                                <script>local tar = multimatches[2][3]:title()
local limb = multimatches[2][2]:gsub(&quot; &quot;, &quot;_&quot;)
local aff = limb .. &quot;_broken&quot;

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, aff, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You reach out and stroke the</string>
                                    <string>^You reach out and stroke the (.+) of (\w+)\, and it withers away\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shrivel legs</name>
                                <script>local tar = multimatches[2][2]:title()
local limb = multimatches[2][3]:gsub(&quot; &quot;, &quot;_&quot;)
local aff = limb .. &quot;_broken&quot;

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, aff, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>in an iron grip, and it shrivels feebly under your necromantic might.</string>
                                    <string>^You reach out and grasp (\w+)\'s (.+) in an iron grip\, and it shrivels feebly under your necromantic might\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>slime</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;lethargy&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>shudders as a slime further engulfs</string>
                                    <string>^(\w+) shudders as a slime further engulfs (?:him|her)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>sun tarot</name>
                                <script>local tar = multimatches[1][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, multimatches[2][2], true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^As you fling the Sun tarot at (\w+)\, it turns a violent magenta before striking (?:him|her) square in the chest\.$</string>
                                    <string>^The Sun tarot has passed on the (\w+) affliction\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>sun tarot strips deafness</name>
                                <script>local tar = multimatches[1][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.def(tar, &quot;deafness&quot;, false)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^As you fling the Sun tarot at (\w+)\, it turns a violent magenta before striking (?:him|her) square in the chest\.$</string>
                                    <string>The Sun tarot has stripped</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>2</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>luminary</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>third person</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList/>
                                <regexCodePropertyList/>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>angel sear</name>
                                    <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;angel_sear&quot;, true)
cdb.aff(tar, &quot;ablaze&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>guardian angel's eyes glow like embers as</string>
                                        <string>^\w+\'s guardian angel\'s eyes glow like embers as (\w+) bursts into flame\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>chasten</name>
                                    <script>local tar = multimatches[2][3]:title()
if tar == &quot;You&quot; then return end

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, multimatches[2][2], true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>uses Spirituality Chasten</string>
                                        <string>^\w+ uses Spirituality Chasten \((\w+)\) on (\w+)\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>dazzle</name>
                                    <script>local tar = multimatches[2][2]:title()
if tar == &quot;You&quot; then return end

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;confusion&quot;, true)
cdb.aff(tar, &quot;dizziness&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>directs a dazzling ray of light at</string>
                                        <string>^\w+ directs a dazzling ray of light at (\w+)\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>heatwave</name>
                                    <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;berserking&quot;, true)
cdb.aff(tar, &quot;hallucinations&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Clasping</string>
                                        <string>^Clasping (?:his|her) hands onto (\w+)\'s head\, \w+ injects a wave of heat through (his|her) palms and into (\w+)\'s skull\, causing (?:his|her) cheeks to flush\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>hellsight</name>
                                    <script>local tar = multimatches[2][2]:title()
if tar == &quot;You&quot; then return end

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;hellsight&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>, eyes smouldering with dark intent.</string>
                                        <string>^\w+ stares at (\w+)\, eyes smouldering with dark intent\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>peace</name>
                                    <script>local tar = multimatches[2][2]:title()
if tar == &quot;You&quot; then return end

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;peace&quot;, true)
cdb.aff(tar, &quot;pacifism&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>, eyes shining with the light of divine love.</string>
                                        <string>^\w+ gazes at (\w+)\, eyes shining with the light of divine love\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>shadow</name>
                                    <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;shadow&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>, whose eyes grow wide and face pales with the realization that</string>
                                        <string>^\w+ reaches out to (\w+)\, whose eyes grow wide and face pales with the realization that \w+ is no longer protected from death by the sun\'s rays\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>shield crash</name>
                                    <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;disrupted&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>'s head, disrupting</string>
                                        <string>^\w+ crashes .* into (\w+)\'s head\, disrupting (?:his|her) mental equilibrium\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>shield facesmash</name>
                                    <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;berserking&quot;, true)
cdb.def(tar, &quot;blindness&quot;)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>'s face, causing blood to flow into</string>
                                        <string>^\w+ smashes \w+ shield into (\w+)\'s face\, causing blood to flow into \w+ eyes\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>shield punch</name>
                                    <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;weariness&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>punches</string>
                                        <string>^\w+ punches .* into (\w+)\'s stomach\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>shield slam</name>
                                    <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;asthma&quot;, true)
cdb.aff(tar, &quot;haemophilia&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>'s chest, winding</string>
                                        <string>^\w+ slams .* into (\w+)\'s chest, winding (?:him|her) with the brutal attack\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>shield strike</name>
                                    <script>local tar = multimatches[2][2]:title()
if tar == &quot;You&quot; then return end

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;paresis&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>With a swift movement,</string>
                                        <string>^With a swift movement\, \w+ strikes (\w+) with .*\, the symbol of the Gods flaring as (?:he|she) attacks\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </TriggerGroup>
                            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>limbs</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList/>
                                <regexCodePropertyList/>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>shield crush one</name>
                                    <script>local tar = multimatches[2][2]
cdb.aff(tar, &quot;pacifism&quot;, nil)
enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>3</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>With careful aim you smash your mace into</string>
                                        <string>^With careful aim you smash your mace into (\w+)\'s .+\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>shield crush connected one</name>
                                        <script>setTriggerStayOpen(&quot;shield crush one&quot;, 0)
local tar = tmp.target
local limb = multimatches[2][2]

--! todo: change damage based on wielded shield

cdb.limb(tar, limb, &quot;11.9&quot;)
</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>You connect to the</string>
                                            <string>^You connect to the (.+)\!$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>2</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>shield crush two</name>
                                    <script>setTriggerStayOpen(&quot;shield crush one&quot;, 0)
local tar = tmp.target
cdb.aff(tar, &quot;pacifism&quot;, nil)
enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>3</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You swiftly follow up by slamming</string>
                                        <string>^You swiftly follow up by slamming .* into \w+ .+\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>shield crush connected two</name>
                                        <script>setTriggerStayOpen(&quot;shield crush two&quot;, 0)
local tar = tmp.target
local limb = multimatches[2][2]

--! todo: change damage based on wielded shield

cdb.limb(tar, limb, &quot;11.9&quot;)
</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>You connect to the</string>
                                            <string>^You connect to the (.+)\!$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>2</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>smash</name>
                                    <script>local tar = multimatches[2][2]:title()
local limb = multimatches[2][3]

enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.limb(tar, limb, &quot;29.9&quot;)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You raise up your mace to smash</string>
                                        <string>^You raise up your mace to smash (\w+)\'s (.+)\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </TriggerGroup>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>angel battle</name>
                                <script>local tar = multimatches[2][2]:title()
local aff = multimatches[2][3]:gsub(&quot;-&quot;, &quot;_&quot;)

cdb.aff(tar, &quot;pacifism&quot;, nil)

if aff == &quot;restored hearing&quot; then
	cdb.def(tar, &quot;deafness&quot;)
else
	cdb.aff(tar, aff, true)
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You ask your angel to afflict</string>
                                    <string>^You ask your angel to afflict (\w+) with (.+) and it glares at (?:him|her)\, tormenting (?:his|her) soul\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>angel sear</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;ablaze&quot;, true)
cdb.aff(tar, &quot;angel_sear&quot;, true)
tmp.angel_seared = tmp.angel_seared or {}
table.iremovekey(tmp.angel_seared, tar)
table.insert(tmp.angel_seared, 1, tar)
timers.angel_seared = timers.angel_seared or {}
if timers.angel_seared[tar] then killTimer(timers.angel_seared[tar]) end
timers.angel_seared[tar] = tempTimer(15, [[cdb.aff(tmp.angel_seared[1], &quot;angel_sear&quot;)
													table.remove(tmp.angel_seared, 1)]])

</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your guardian angel's eyes glow like embers as</string>
                                    <string>^Your guardian angel\'s eyes glow like embers as (\w+) is seared and bursts into flame\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>chasten</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, multimatches[2][3], true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You direct a dark bolt of energy through your mace towards</string>
                                    <string>^You direct a dark bolt of energy through your mace towards (\w+)\. The curse of (\w+) is brought down onto your victim\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dazzle</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;confusion&quot;, true)
cdb.aff(tar, &quot;dizziness&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>reels as the beam strikes, dazzled and confused.</string>
                                    <string>^(\w+) reels as the beam strikes, dazzled and confused\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>enflame</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;ablaze&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Flames leap from</string>
                                    <string>^Flames leap from .* and ignite (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>heatwave</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;berserking&quot;, true)
cdb.aff(tar, &quot;hallucinations&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Clasping</string>
                                    <string>^Clasping your hands onto (\w+)\'s head\, you inject a wave of heat through your palms and into (?:his|her) skull\, causing (?:his|her) cheeks to flush\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hellsight afflicted</name>
                                <script>affs.add(tmp.target, multimatches[2][2], true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>cries out, suddently afflicted with</string>
                                    <string>^(?:He|She) cries out\, suddenly afflicted with (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hellsight</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;hellsight&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You stare intently at</string>
                                    <string>^You stare intently at (\w+)\, opening (?:his|her) mind to the unspeakable visions that spew from the bowels of hell\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>lightning</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;sunlight_allergy&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Channelling your inner spark, a bolt of lightning crackles from your hands to strike</string>
                                    <string>^Channelling your inner spark\, a bolt of lightning crackles from your hands to strike (\w+) in the chest\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>peace</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;peace&quot;, true)
cdb.aff(tar, &quot;pacifism&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your eyes shine with the light of divine love, melting the angry heart of</string>
                                    <string>^Your eyes shine with the light of divine love\, melting the angry heart of (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shadow</name>
                                <script>selectCurrentLine()
local str = selectString(&quot;Evoke Shadow&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;)
cdb.aff(tar, &quot;shadow&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Illumination Evoke Shadow on </string>
                                    <string>^You use Illumination Evoke Shadow on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shadow repeat</name>
                                <script>local tar = tmp.target:title()

cdb.aff(tar, &quot;pacifism&quot;)
cdb.aff(tar, &quot;shadow&quot;, true)

fs.release()</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your target is already suffering the effects of being shadowed.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shield brilliance</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.def(tar, &quot;blindness&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>focusing the power of your spark through it and fixing</string>
                                    <string>^You raise up .+\, focusing the power of your spark through it and fixing (\w+)\'s eyes with a brilliant ray of light\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shield crash</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;disrupted&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You crash</string>
                                    <string>^You crash .* into (\w+)\'s head\, disrupting (?:his|her) mental equilibrium\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shield facesmash</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;berserking&quot;, true)
cdb.def(tar, &quot;blindness&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You smash your shield into</string>
                                    <string>^You smash your shield into (\w+)\'s face causing blood to flow into \w+ eyes\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shield punch</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;weariness&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You punch</string>
                                    <string>^You punch .* into (\w+)\'s stomach\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shield slam</name>
                                <script>local tar = multimatches[2][2]:title()
local aff = cdb.chars[tar].status == &quot;living&quot; and &quot;asthma&quot; or &quot;limp_veins&quot;

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, aff, true)
cdb.aff(tar, &quot;haemophilia&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You slam</string>
                                    <string>^You slam .* into (\w+)\'s chest\, winding (?:him|her) with the brutal attack\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shield strike</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;paresis&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>With a swift movement,</string>
                                    <string>^With a swift movement\, you strike (\w+) with .*\, the symbol of the Gods flaring as you attack\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>transfixion</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;writhe_transfix&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You stare fixedly at</string>
                                    <string>^You stare fixedly at (\w+)\, and a ball of flame appears between you\. \w+ becomes absorbed upon the flame\, \w+ attention on nothing else\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>transfixion unblind</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.def(tar, &quot;blindness&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You stare fixedly at</string>
                                    <string>^You stare fixedly at (\w+)\, but your attempt to transfix (?:him|her) is foiled\; your flame sputters as (\w+)\'s blindness drops away\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>spiritwrack</name>
                                <script>local tar = multimatches[2][2]:title()
local aff = multimatches[2][3]:gsub(&quot;-&quot;, &quot;_&quot;)

cdb.aff(tar, &quot;pacifism&quot;, nil)

if aff == &quot;restored hearing&quot; then
	cdb.def(tar, &quot;deafness&quot;)
else
	cdb.aff(tar, aff, true)
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your angel afflicts</string>
                                    <string>^Your angel afflicts (\w+) with (.+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>praenomen</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>third person</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList/>
                                <regexCodePropertyList/>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>mentis whisper</name>
                                    <script>local str = selectString(multimatches[1][1], 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][3]:title()
cdb.aff(tar, &quot;pacifism&quot;, nil)

local cap = multimatches[2][2]
if cap == &quot;Dwhisper&quot; then return end

cdb.aff(tar, cap, true)
</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>uses Mentis Whisper</string>
                                        <string>^\w+ uses Mentis Whisper (\w+) on (\w+)\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </TriggerGroup>
                            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>tracked</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList/>
                                <regexCodePropertyList/>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>dwhisper</name>
                                    <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>5</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You lock your gaze to</string>
                                        <string>^You lock your gaze to (\w+)\'s for the briefest moment and sharply whisper a word of command\, driving the imperative into \w+ mind with the force of your supernatural will\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>affliction</name>
                                        <script>local aff = multimatches[2][2]
local tar = multimatches[2][3]:title()

local t = cdb.chars[tmp.target:title()]

cdb.aff(tar, aff, true)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>into the mind of</string>
                                            <string>^You impart (\w+) into the mind of (\w+)\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>0</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>prompt</name>
                                        <script>setTriggerStayOpen(&quot;dwhisper&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>return isPrompt()</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>4</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                </Trigger>
                            </TriggerGroup>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>effused_blood</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;effused_blood&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You glare at</string>
                                    <string>^You glare at (\w+)\, causing blood to pour from (?:his|her) nose\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>effused_yellowbile</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;effused_yellowbile&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You glare at</string>
                                    <string>^You glare at (\w+)\, who suddenly clutches (?:his|her) stomach\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>effused_phlegm</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;effused_phlegm&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You glare at </string>
                                    <string>^You glare at (\w+)\, who hacks up a mouthful of phlegm\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>blood_curse</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;blood_curse&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You utter</string>
                                    <string>^You utter (\w+)\'s name and notice a confused look dawn on (?:his|her) face\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>blood_poison</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;blood_poison&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You reach out and stab the wrist of</string>
                                    <string>^You reach out and stab the wrist of (\w+) with one of your inhuman fingernails\, watching in fulfillment as they look about\, stricken\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>blood_spew</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;slickness&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You allow foul rot and decay to pool in the back of</string>
                                    <string>^You allow foul rot and decay to pool in the back of your throat and then violently spew black gobbets of the reeking mass out all over (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bloodmeld</name>
                                <script>local tar = multimatches[2][3]:title()
local aff = multimatches[2][2]:gsub(&quot; &quot;, &quot;_&quot;)

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, aff, true)
affs.add(aff, true, false)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>affliction is transfered through the ether to</string>
                                    <string>^Your (.+) affliction is transfered through the ether to (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>ghast</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;paresis&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>suddenly stiffens as a ghast brushes</string>
                                    <string>^(\w+) suddenly stiffens as a ghast brushes (?:him|her) with a finger\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>mesmerize</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;writhe_transfix&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You go motionless and summon the iron strength of your will into a penetrating stare aimed at</string>
                                    <string>^You go motionless and summon the iron strength of your will into a penetrating stare aimed at (\w+)\, mentally commanding (?:his|her) rapt attention\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>mesmerize unblind</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.def(tar, &quot;blindness&quot;, false)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You go motionless and summon the iron strength of your will into a penetrating stare aimed at</string>
                                    <string>^You go motionless and summon the iron strength of your will into a penetrating stare aimed at (\w+)\. (?:He|She) blinks\, able to see again\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>mentis disrupt</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;disrupted&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Using your superior knowledge, you disrupt</string>
                                    <string>^Using your superior knowledge\, you disrupt (\w+)\'s mental balance\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>telepathy disrupt</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;disrupted&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You channel a blast of psychic energy toward</string>
                                    <string>^You channel a blast of psychic energy toward (\w+)\, hammering (?:his|her) mental equilibrium\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>wisp_anxiety</name>
                                <script>local tar = multimatches[2][2]:title()
local aff = multimatches[2][3]

cdb.aff(tar, &quot;pacifism&quot;, nil)

local anxieties = {
	&quot;baldness&quot;,
	&quot;commitment_fear&quot;,
	&quot;body_odor&quot;,
	&quot;sadness&quot;,
	&quot;self_pity&quot;,
	&quot;hubris&quot;
}

for i, v in ipairs(anxieties) do
	cdb.aff(tar, v)
end

cdb.aff(tar, aff:gsub(&quot; &quot;, &quot;_&quot;), true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>glances around nervously as</string>
                                    <string>^(\w+) glances around nervously as \w+ (baldness|commitment fear|body odor|sadness|self pity|hubris) anxiety settles in\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>wisp_bloodshield</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;haemophilia&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>lashes out at you, the wisp strikes</string>
                                    <string>^As (\w+) lashes out at you\, the wisp strikes \w+ violently\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>temptation/seduction</name>
                                <script>local aff = multimatches[2][2]:lower()
local tar = multimatches[2][3]

cdb.aff(tar, aff, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Mentis</string>
                                    <string>^You use Mentis (Temptation|Seduction) Proc on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>sentinel</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>animal afflicted</name>
                                <script>local tar = multimatches[2][2]:title()
cdb.aff(tar, multimatches[2][3], true)
cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>has afflicted</string>
                                    <string>^Your \w+ has afflicted (\w+) with (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dhuriv blind</name>
                                <script>local tar = multimatches[2][2]:title()
if tar ~= tmp.target:title() then setTriggerStayOpen(&quot;dhuriv blind&quot;, 0) end
cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>1</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You open</string>
                                    <string>^You open (\w+)\'s brow with a well\-aimed cut\, blinding (?:him|her) with (?:his|her) own blood and quickly striking again\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>balance used</name>
                                    <script>local tar = tmp.target:title()
if not cdb.chars[tar].defs.blindness then
	cdb.aff(tar, &quot;blurry_vision&quot;, true)
else
	cdb.def(tar, &quot;blindness&quot;, true)
end</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Balance Used:</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>bloodshield</name>
                                    <script>selectCurrentLine()
local str = selectString(&quot;Hematurgy Bloodshield Proc&quot;, 1)
if isAnsiFgColor(0) then return end
local tar = tmp.target:title()
if not cdb.chars[tar].defs.blindness then
	cdb.aff(tar, &quot;blurry_vision&quot;, true)
else
	cdb.def(tar, &quot;blindness&quot;, true)
end</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>uses Hematurgy Bloodshield Proc on you.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>divert</name>
                                    <script>local tar = tmp.target:title()
if not cdb.chars[tar].defs.blindness then
	cdb.aff(tar, &quot;blurry_vision&quot;, true)
else
	cdb.def(tar, &quot;blindness&quot;, true)
end</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string> jerks to the side, the attack barely grazing</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>lifesap</name>
                                    <script>setTriggerStayOpen(&quot;dhuriv blind&quot;, 2)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Health Gain:</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>quills</name>
                                    <script></script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You wince in pain as a few of </string>
                                        <string>^You wince in pain as a few of \w+\'s quills prick you\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dhuriv crosscut</name>
                                <script>local tar = multimatches[2][2]:title()
if tar ~= tmp.target:title() then setTriggerStayOpen(&quot;dhuriv crosscut&quot;, 0) end
cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Lightning fast, you swing your dhurive to slice open</string>
                                    <string>^Lightning fast\, you swing your dhurive to slice open (\w+) from chest to groin\, spinning your weapon about for another strike\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>balance used</name>
                                    <script>local tar = tmp.target:title()
if cdb.chars[tar].affs.haemophilia then
	cdb.aff(tar, &quot;addiction&quot;, true)
else
	cdb.def(tar, &quot;haemophilia&quot;, true)
end</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Balance Used:</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>bloodshield</name>
                                    <script>selectCurrentLine()
local str = selectString(&quot;Hematurgy Bloodshield Proc&quot;, 1)
if isAnsiFgColor(0) then return end
local tar = tmp.target:title()
if cdb.chars[tar].affs.haemophilia then
	cdb.aff(tar, &quot;addiction&quot;, true)
else
	cdb.def(tar, &quot;haemophilia&quot;, true)
end</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>uses Hematurgy Bloodshield Proc on you.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>divert</name>
                                    <script>local tar = tmp.target:title()
if cdb.chars[tar].affs.haemophilia then
	cdb.aff(tar, &quot;addiction&quot;, true)
else
	cdb.def(tar, &quot;haemophilia&quot;, true)
end</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string> jerks to the side, the attack barely grazing</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>lifesap</name>
                                    <script>setTriggerStayOpen(&quot;dhuriv crosscut&quot;, 2)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Health Gain:</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>quills</name>
                                    <script></script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You wince in pain as a few of</string>
                                        <string>^You wince in pain as a few of \w+\'s quills prick you\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dhuriv gouge</name>
                                <script>local tar = multimatches[2][2]:title()
if tar ~= tmp.target:title() then setTriggerStayOpen(&quot;dhuriv gouge&quot;, 0) end
cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>1</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>With a zig-zagging step, you gouge</string>
                                    <string>^With a zig-zagging step\, you gouge (\w+)\'s head with your dhurive and disengage\, leaving (?:him|her) reeling from the blow\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>balance used</name>
                                    <script>local tar = tmp.target:title()
cdb.aff(tar, &quot;impatience&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Balance Used:</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>bloodshield</name>
                                    <script>selectCurrentLine()
local str = selectString(&quot;Hematurgy Bloodshield Proc&quot;, 1)
if isAnsiFgColor(0) then return end
local tar = tmp.target:title()
cdb.aff(tar, &quot;impatience&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>uses Hematurgy Bloodshield Proc on you.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>divert</name>
                                    <script>local tar = tmp.target:title()
cdb.aff(tar, &quot;impatience&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string> jerks to the side, the attack barely grazing</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>lifesap</name>
                                    <script>setTriggerStayOpen(&quot;dhuriv gouge&quot;, 2)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Health Gain:</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>quills</name>
                                    <script></script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You wince in pain as a few of</string>
                                        <string>^You wince in pain as a few of \w+\'s quills prick you\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dhuriv heartbreaker</name>
                                <script>local tar = multimatches[2][2]:title()
if tar ~= tmp.target:title() then setTriggerStayOpen(&quot;dhuriv heartbreaker&quot;, 0) end
cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>1</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You step in, slamming the haft of your dhurive hard into</string>
                                    <string>^You step in\, slamming the haft of your dhurive hard into (\w+)\'s chest\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>balance used</name>
                                    <script>local tar = tmp.target:title()
cdb.aff(tar, &quot;heartflutter&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Balance Used:</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>bloodshield</name>
                                    <script>selectCurrentLine()
local str = selectString(&quot;Hematurgy Bloodshield Proc&quot;, 1)
if isAnsiFgColor(0) then return end
local tar = tmp.target:title()
cdb.aff(tar, &quot;heartflutter&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>uses Hematurgy Bloodshield Proc on you.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>divert</name>
                                    <script>local tar = tmp.target:title()
cdb.aff(tar, &quot;heartflutter&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string> jerks to the side, the attack barely grazing</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>lifesap</name>
                                    <script>setTriggerStayOpen(&quot;dhuriv heartbreaker&quot;, 2)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Health Gain:</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>quills</name>
                                    <script></script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You wince in pain as a few of</string>
                                        <string>^You wince in pain as a few of \w+\'s quills prick you\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dhuriv slam</name>
                                <script>local tar = multimatches[2][2]:title()
if tar ~= tmp.target:title() then setTriggerStayOpen(&quot;dhuriv slam&quot;, 0) end
cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>1</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Spinning your dhurive around your waist, you slam the blunt haft into</string>
                                    <string>^Spinning your dhurive around your waist\, you slam the blunt haft into (\w+)\'s head\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>balance used</name>
                                    <script>local tar = tmp.target:title()
cdb.aff(tar, &quot;indifference&quot;, true)
cdb.aff(tar, &quot;epilepsy&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Balance Used:</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>bloodshield</name>
                                    <script>selectCurrentLine()
local str = selectString(&quot;Hematurgy Bloodshield Proc&quot;, 1)
if isAnsiFgColor(0) then return end
local tar = tmp.target:title()
cdb.aff(tar, &quot;indifference&quot;, true)
cdb.aff(tar, &quot;epilepsy&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>uses Hematurgy Bloodshield Proc on you.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>divert</name>
                                    <script>local tar = tmp.target:title()
cdb.aff(tar, &quot;indifference&quot;, true)
cdb.aff(tar, &quot;epilepsy&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string> jerks to the side, the attack barely grazing</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>lifesap</name>
                                    <script>setTriggerStayOpen(&quot;dhuriv slam&quot;, 2)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Health Gain:</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>quills</name>
                                    <script></script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You wince in pain as a few of</string>
                                        <string>^You wince in pain as a few of \w+\'s quills prick you\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dhuriv slit</name>
                                <script>local tar = multimatches[2][2]:title()
if tar ~= tmp.target:title() then setTriggerStayOpen(&quot;dhuriv slit&quot;, 0) end
cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>1</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You sweep back your dhurive in a reverse slash, opening</string>
                                    <string>^You sweep back your dhurive in a reverse slash, opening (\w+)\'s throat and forcing (?:him|her) to fight for breath\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>balance used</name>
                                    <script>local tar = tmp.target:title()
cdb.aff(tar, &quot;crippled_throat&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Balance Used:</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>bloodshield</name>
                                    <script>selectCurrentLine()
local str = selectString(&quot;Hematurgy Bloodshield Proc&quot;, 1)
if isAnsiFgColor(0) then return end
local tar = tmp.target:title()
cdb.aff(tar, &quot;crippled_throat&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>uses Hematurgy Bloodshield Proc on you.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>divert</name>
                                    <script>local tar = tmp.target:title()
cdb.aff(tar, &quot;crippled_throat&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string> jerks to the side, the attack barely grazing</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>lifesap</name>
                                    <script>setTriggerStayOpen(&quot;dhuriv slit&quot;, 2)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Health Gain:</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>quills</name>
                                    <script></script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You wince in pain as a few of</string>
                                        <string>^You wince in pain as a few of \w+\'s quills prick you\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dhuriv throatcrush</name>
                                <script>local tar = multimatches[2][2]:title()
if tar ~= tmp.target:title() then setTriggerStayOpen(&quot;dhuriv throatcrush&quot;, 0) end
cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>1</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You smash the haft of your dhurive into</string>
                                    <string>^You smash the haft of your dhurive into (\w+)\'s throat\, crushing it with a loud crunch\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>balance used</name>
                                    <script>local tar = tmp.target:title()
cdb.aff(tar, &quot;destroyed_throat&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Balance Used:</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>bloodshield</name>
                                    <script>selectCurrentLine()
local str = selectString(&quot;Hematurgy Bloodshield Proc&quot;, 1)
if isAnsiFgColor(0) then return end
local tar = tmp.target:title()
cdb.aff(tar, &quot;destroyed_throat&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>uses Hematurgy Bloodshield Proc on you.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>divert</name>
                                    <script>local tar = tmp.target:title()
cdb.aff(tar, &quot;destroyed_throat&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string> jerks to the side, the attack barely grazing</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>lifesap</name>
                                    <script>setTriggerStayOpen(&quot;dhuriv throatcrush&quot;, 2)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Health Gain:</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>quills</name>
                                    <script></script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You wince in pain as a few of</string>
                                        <string>^You wince in pain as a few of \w+\'s quills prick you\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dhuriv twirl</name>
                                <script>local tar = multimatches[2][2]:title()
if tar ~= tmp.target:title() then setTriggerStayOpen(&quot;dhuriv twirl&quot;, 0) end
cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>1</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Spinning your dhurive in a rapid series of feints, you disorient</string>
                                    <string>^Spinning your dhurive in a rapid series of feints\, you disorient (\w+) and deliver a grazing cut\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>balance used</name>
                                    <script>local tar = tmp.target:title()
cdb.aff(tar, &quot;confusion&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Balance Used:</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>bloodshield</name>
                                    <script>selectCurrentLine()
local str = selectString(&quot;Hematurgy Bloodshield Proc&quot;, 1)
if isAnsiFgColor(0) then return end
local tar = tmp.target:title()
cdb.aff(tar, &quot;confusion&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>uses Hematurgy Bloodshield Proc on you.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>divert</name>
                                    <script>local tar = tmp.target:title()
cdb.aff(tar, &quot;confusion&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string> jerks to the side, the attack barely grazing</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>lifesap</name>
                                    <script>setTriggerStayOpen(&quot;dhuriv twirl&quot;, 2)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Health Gain:</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>quills</name>
                                    <script></script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You wince in pain as a few of</string>
                                        <string>^You wince in pain as a few of \w+\'s quills prick you\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dhuriv weaken</name>
                                <script>local tar = multimatches[2][2]:title()
if tar ~= tmp.target:title() then setTriggerStayOpen(&quot;dhuriv weaken&quot;, 0) end
cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>1</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>with your dhurive, viciously rending</string>
                                    <string>^You strike at (\w+)\'s (?:right|left) leg with your dhurive\, viciously rending (?:his|her) muscles\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>balance used</name>
                                    <script>local tar = tmp.target:title()
cdb.aff(tar, &quot;lethargy&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Balance Used:</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>bloodshield</name>
                                    <script>selectCurrentLine()
local str = selectString(&quot;Hematurgy Bloodshield Proc&quot;, 1)
if isAnsiFgColor(0) then return end
local tar = tmp.target:title()
cdb.aff(tar, &quot;lethargy&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>uses Hematurgy Bloodshield Proc on you.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>divert</name>
                                    <script>local tar = tmp.target:title()
cdb.aff(tar, &quot;lethargy&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string> jerks to the side, the attack barely grazing</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>lifesap</name>
                                    <script>setTriggerStayOpen(&quot;dhuriv weaken&quot;, 2)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Health Gain:</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>quills</name>
                                    <script></script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You wince in pain as a few of</string>
                                        <string>^You wince in pain as a few of \w+\'s quills prick you\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>icewyrm</name>
                                <script>local tar = tmp.target:title()
cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;shivering&quot;, true)
cdb.aff(tar, &quot;shivering&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You order your icewyrm to freeze</string>
                                    <string>^You order your icewyrm to freeze (\w+)\, and it opens its maw wide to exhale a blast of frigidly cold air toward (?:him|her)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>daunt</name>
                                <script>selectCurrentLine()
local str = selectString(&quot;Woodlore Daunt&quot;, 1)
if isAnsiFgColor(0) then return end

local daunt = {
	[&quot;bear&quot;] = &quot;agoraphobia&quot;,
	[&quot;raloth&quot;] = &quot;claustrophobia&quot;,
	[&quot;crocodile&quot;] = &quot;loneliness&quot;,
	[&quot;cockatrice&quot;] = &quot;vertigo&quot;
}

local aff = daunt[multimatches[2][2]]
local tar = multimatches[2][3]

cdb.aff(tar, aff, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Woodlore Daunt (</string>
                                    <string>^You use Woodlore Daunt \((\w+)\) on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shapeshifter</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>howl hit</name>
                                <script>local howl_hit = {
	[&quot;piercing&quot;] = &quot;no_deaf&quot;,
	[&quot;paralyzing&quot;] = &quot;paresis&quot;,
	[&quot;baleful&quot;] = &quot;sensitivity&quot;,
	[&quot;rousing&quot;] = &quot;recklessness&quot;,
	[&quot;mind_numbing&quot;] = &quot;stupidity&quot;,
	[&quot;stomach_churning&quot;] = &quot;vomiting&quot;,
	[&quot;confining&quot;] = &quot;claustrophobia&quot;,
	[&quot;muddling&quot;] = &quot;magic_impaired&quot;,
	[&quot;deep&quot;] = &quot;plodding&quot;,
	[&quot;dumbing&quot;] = &quot;idiocy&quot;,
	[&quot;mourning&quot;] = &quot;blurry_vision&quot;,
	[&quot;debilitating&quot;] = &quot;weariness&quot;,
	[&quot;berserking&quot;] = &quot;berserk&quot;,
	[&quot;angry&quot;] = &quot;hatred&quot;,
	[&quot;disturbing&quot;] = &quot;disrupted&quot;,
	[&quot;befuddling&quot;] = &quot;confusion&quot;,
	[&quot;lulling&quot;] = &quot;asleep&quot;,
}

local tar = multimatches[2][3]:title()
local howl = multimatches[2][2]:gsub(&quot;-&quot;, &quot;_&quot;)
local aff = howl_hit[howl]

cdb.aff(tar, &quot;pacifism&quot;, nil)
if howl == &quot;forceful&quot; then
	o.traits.prone = true
	return
end
cdb.aff(tar, aff, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>continues to pour from your throat</string>
                                    <string>^Your\s+(.+)\s+\w+ continues to pour from your throat\, hitting (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>thighlock</name>
                                <script>local str = selectString(&quot;Ferality Thighlock&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;)
cdb.aff(tar, &quot;writhe_thighlock&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Ferality Thighlock on</string>
                                    <string>^You use Ferality Thighlock on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>groinrip</name>
                                <script>local str = selectString(&quot;Ferality Groinrip&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;ripped_groin&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Ferality Groinrip on</string>
                                    <string>^You use Ferality Groinrip on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>armpitlock</name>
                                <script>local str = selectString(&quot;Ferality Armpitlock&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;writhe_armpitlock&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Ferality Armpitlock on</string>
                                    <string>^You use Ferality Armpitlock on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>spleenrip</name>
                                <script>local str = selectString(&quot;Ferality Spleenrip&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;ripped_spleen&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Ferality Spleenrip on</string>
                                    <string>^You use Ferality Spleenrip on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>necklock</name>
                                <script>local str = selectString(&quot;Ferality Necklock&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;writhe_necklock&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Ferality Necklock on</string>
                                    <string>^You use Ferality Necklock on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>throatrip</name>
                                <script>local str = selectString(&quot;Ferality Throatrip&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;ripped_throat&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Ferality Throatrip on</string>
                                    <string>^You use Ferality Throatrip on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>spinalrip</name>
                                <script>local str = selectString(&quot;Ferality Spinalrip&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]

cdb.aff(tar, &quot;spinal_rip&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You use Ferality Spinalrip on \w+\.$</string>
                                    <string>^With a primal roar\, you burrow your snout into (\w+)\'s back\, teeth clamping around (?:his|her) spine before you roughly wrench your head\, ripping the bone from flesh\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>rend</name>
                                <script>selectString(multimatches[1][1])
local str = selectString(&quot;Ferality Rend&quot;, 1)
if isAnsiFgColor(0) then
	setTriggerStayOpen(&quot;rend&quot;, 0)
	return
end
enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)
</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>3</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You use Ferality Rend \(.+\) on \w+\.$</string>
                                    <string>^You hear the satisfying snap of bone as you rend \w+\'s .+\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>ferality hit</name>
                                    <script>local tar = multimatches[2][2]:title()
local limb = multimatches[2][3]:gsub(&quot; &quot;, &quot;_&quot;)
local aff = limb .. &quot;_broken&quot;

cdb.aff(tar, aff, true)
setTriggerStayOpen(&quot;rend&quot;, 0)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You rake</string>
                                        <string>^You rake (\w+)\'s (.+) with your claws\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hamstring</name>
                                <script>selectString(multimatches[1][1])
local str = selectString(&quot;Ferality Hamstring&quot;, 1)
if isAnsiFgColor(0) then 
	setTriggerStayOpen(&quot;hamstring&quot;, 0)
	return
end
enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>3</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You use Ferality Hamstring \(.+\) on \w+\.$</string>
                                    <string>^You swipe your claws at \w+\'s .+\, ripping the muscles apart\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>ferality hit</name>
                                    <script>setTriggerStayOpen(&quot;hamstring&quot;, 0)
local tar = multimatches[2][2]:title()
local limb = multimatches[2][3]:gsub(&quot; &quot;, &quot;_&quot;)
local aff = limb .. &quot;_broken&quot;

cdb.aff(tar, aff, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You rake</string>
                                        <string>^You rake (\w+)\'s (.+) with your claws\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>mangle</name>
                                <script>selectString(multimatches[1][1])
local str = selectString(&quot;Ferality Mangle&quot;, 1)
if isAnsiFgColor(0) then 
	setTriggerStayOpen(&quot;mangle&quot;, 0)
	return
end
enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>3</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You use Ferality Mangle \(.+\) on \w+\.$</string>
                                    <string>^You sink your teeth into \w+\'s .+ and jerk your head violently until it is bloody and mangled\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>ferality hit</name>
                                    <script>setTriggerStayOpen(&quot;mangle&quot;, 0)
local tar = multimatches[2][2]:title()
local limb = multimatches[2][3]:gsub(&quot; &quot;, &quot;_&quot;)
local aff = limb .. &quot;_damaged&quot;

cdb.aff(tar, aff, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You rake</string>
                                        <string>^You rake (\w+)\'s (.+) with your claws\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>destroy</name>
                                <script>selectString(multimatches[1][1])
local str = selectString(&quot;Ferality Destroy&quot;, 1)
if isAnsiFgColor(0) then 
	setTriggerStayOpen(&quot;destroy&quot;, 0)
	return
end
enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>3</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You use Ferality Destroy \(.+\) on \w+\.$</string>
                                    <string>^ Mercilessly\, you savage \w+\'s .+\, bones snapping and flesh tearing beneath your jaws\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>ferality hit</name>
                                    <script>setTriggerStayOpen(&quot;destroy&quot;, 0)
local tar = multimatches[2][2]:title()
local limb = multimatches[2][3]:gsub(&quot; &quot;, &quot;_&quot;)
local aff = limb .. &quot;_mangled&quot;

cdb.aff(tar, aff, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You rake</string>
                                        <string>^You rake (\w+)\'s (.+) with your claws\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>gut</name>
                                <script>selectString(multimatches[1][1])
local str = selectString(&quot;Ferality Gut&quot;, 1)
if isAnsiFgColor(0) then 
	setTriggerStayOpen(&quot;gut&quot;, 0)
	return
end
enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>3</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You use Ferality Gut on \w+\.$</string>
                                    <string>^You lunge forward with a mighty roar\, savagely ripping into \w+\'s stomach with your jaws\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>ferality hit</name>
                                    <script>setTriggerStayOpen(&quot;gut&quot;, 0)
local tar = multimatches[2][2]:title()
local limb = multimatches[2][3]:gsub(&quot; &quot;, &quot;_&quot;)
local aff = limb .. &quot;_mangled&quot;

cdb.aff(tar, &quot;torso_mangled&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You rake</string>
                                        <string>^You rake (\w+)\'s torso with your claws\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>faceslash</name>
                                <script>selectString(multimatches[1][1])
local str = selectString(&quot;Ferality Faceslash&quot;, 1)
if isAnsiFgColor(0) then 
	setTriggerStayOpen(&quot;faceslash&quot;, 0)
	return
end
enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>3</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You use Ferality Faceslash on \w+\.$</string>
                                    <string>^With a surge of bloodlust\, you ravage \w+\'s face\, ripping it into an unrecognizable ruin\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>ferality hit</name>
                                    <script>setTriggerStayOpen(&quot;faceslash&quot;, 0)
local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;disfigurement&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You rake</string>
                                        <string>^You rake (\w+)\'s head with your claws\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>spinalcrack</name>
                                <script>selectString(multimatches[1][1])
local str = selectString(&quot;Ferality Spinalcrack&quot;, 1)
if isAnsiFgColor(0) then 
	setTriggerStayOpen(&quot;spinalcrack&quot;, 0)
	return
end
enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>3</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You use Ferality Spinalcrack on \w+\.$</string>
                                    <string>^With a mighty roar\, you batter \w+\'s spine with a heavy blow\, attempting to snap it in half\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>ferality hit</name>
                                    <script>setTriggerStayOpen(&quot;spinalcrack&quot;, 0)
local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;paresis&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You rake</string>
                                        <string>^You rake (\w+)\'s torso with your claws\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bodypunch</name>
                                <script>selectString(multimatches[1][1])
local str = selectString(&quot;Ferality Bodypunch&quot;, 1)
if isAnsiFgColor(0) then
	setTriggerStayOpen(&quot;bodypunch&quot;, 0)
	return
end
enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>3</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You use Ferality Bodypunch on \w+\.$</string>
                                    <string>^Gathering your strength\, you lumber forwards to deliver a mighty punch to \w+\'s torso\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>ferality hit</name>
                                    <script>setTriggerStayOpen(&quot;bodypunch&quot;, 0)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You rake</string>
                                        <string>^You rake (\w+)\'s torso with your claws\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>throatslice</name>
                                <script>selectString(multimatches[1][1])
local str = selectString(&quot;Ferality Throatslice&quot;, 1)
if isAnsiFgColor(0) then
	setTriggerStayOpen(&quot;throatslice&quot;, 0)
	return
end
enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>3</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You use Ferality Throatslice on \w+\.$</string>
                                    <string>^Blood spatters as you rip at \w+\'s throat with your claws\, silencing (?:him|her)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>ferality hit</name>
                                    <script>setTriggerStayOpen(&quot;throatslice&quot;, 0)
local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;throatclaw&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You rake</string>
                                        <string>^You rake (\w+)\'s head with your claws\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>flurry</name>
                                <script>selectString(multimatches[1][1])
local str = selectString(&quot;Ferality Flurry&quot;, 1)
if isAnsiFgColor(0) then
	setTriggerStayOpen(&quot;flurry&quot;, 0)
	return
end
enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>8</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You use Ferality Flurry \(.*\) on \w+\.$</string>
                                    <string>In a flurry of limbs, you strike</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>2</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>ferality hit</name>
                                    <script></script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You rake</string>
                                        <string>^You rake (\w+)\'s (.+) with your claws\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>balance used</name>
                                    <script>setTriggerStayOpen(&quot;flurry&quot;, 0)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Balance Used:</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>syssin</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>tracked</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList/>
                                <regexCodePropertyList/>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>hypnosis broken</name>
                                    <script></script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>Your attempted hypnosis is broken.</string>
                                        <string>^.* is not under your hypnotic spell\, \w+\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>3</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </TriggerGroup>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bite</name>
                                <script>local tar = multimatches[2][2]
local v = multimatches[2][3]

if v == &quot;camus&quot; or v == &quot;sumac&quot; then return end

cdb.aff(tar, &quot;pacifism&quot;, nil)
ks.to_aff(tar, v)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You sink your fangs into</string>
                                    <string>^You sink your fangs into (\w+)\, (\w+) flowing into (?:his|her) veins\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dstab</name>
                                <script>local tar = tmp.target

cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Deftly twirling the weapon in your hand, you jab</string>
                                    <string>Deftly twirling the weapon in your hand, you jab (?:him|her) with it once more\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hypnosis</name>
                                <script>local tar = multimatches[2][2]
local aff = multimatches[2][3]

if cdb.chars[tar].traits.snapped and tmp.snapped == tar:lower() then
	if timers.t_snapped then killTimer(timers.t_snapped) end
	timers.t_snapped = tempTimer(5, [[cdb.chars[tmp.snapped:title()].traits.snapped = nil
												cdb.chars[tmp.snapped:title()].traits.sealed = nil
												cdb.chars[tmp.snapped:title()].traits.hypnotised = nil]])
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>5</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>appears confused for a moment.</string>
                                    <string>^(\w+) appears confused for a moment\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>afflicted</name>
                                    <script>local tar = multimatches[2][2]
local aff = multimatches[2][3]

cdb.aff(tar, aff, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You discern</string>
                                        <string>^You discern that (\w+) has been afflicted with (\w+)\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>stop cap</name>
                                    <script>setTriggerStayOpen(&quot;hypnosis&quot;, 0)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>return isPrompt()</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>4</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>void</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;void&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You order your shadow to surround</string>
                                    <string>^You order your shadow to surround (\w+) in a black void\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>weakvoid</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;void&quot;)
cdb.aff(tar, &quot;weakvoid&quot;, true)

for _, aff in ipairs(tmp.t_lastcured) do
	cdb.aff(tar, aff, true)
end
tmp.t_lastcured = {}</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The shadowy void around</string>
                                    <string>^The shadowy void around (\w+) weakens\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>weakvoid purged</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;weakvoid&quot;)

for _, aff in ipairs(tmp.t_lastcured) do
	cdb.aff(tar, aff, true)
end
tmp.t_lastcured = {}</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The shadowy void around</string>
                                    <string>^The shadowy void around (\w+) disappears\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>thorns</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;thorns&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You smirk as you send tendrils of shadowy thorns to pierce the throat of</string>
                                    <string>^You smirk as you send tendrils of shadowy thorns to pierce the throat of (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>mental_fatigue</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;mental_fatigue&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You weave a dampening net over the mind of</string>
                                    <string>^You weave a dampening net over the mind of (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>numbed_skin</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;numbed_skin&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You smile in satisfaction as you coax the shadows to numb</string>
                                    <string>^You smile in satisfaction as you coax the shadows to numb (\w+)\'s skin\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>void no regex</name>
                                <script>local tar = tmp.target:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;void&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your target is already surrounded by a void.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dissipate</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You will the shadows to dissipate</string>
                                    <string>^You will the shadows to dissipate (\w+)\'s hunger\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>abrasion</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Claws of pure shadow spread from your own, raking across</string>
                                    <string>^Claws of pure shadow spread from your own\, raking across (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>invasion</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Sending your shadows towards</string>
                                    <string>^Sending your shadows towards (\w+)\, you will them to coat (?:his|her) body\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bind</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;writhe_bind&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You quickly bind up</string>
                                    <string>^You quickly bind up (\w+)\'s hands and feet\, leaving (?:him|her) helpless\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>templar</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>tracked</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList/>
                                <regexCodePropertyList/>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>vorpal</name>
                                    <script>local tar = tmp.target:title()
local t = cdb.chars[tar]

cdb.aff(tar, &quot;pacifism&quot;, nil)

if tmp.blockvenom then
	tmp.blockvenom = false
	return
end

if not inv.weap.venoms.left[1] then return end

local venom = inv.weap.venoms.left[1]
			
ks.to_aff(tar, venom)
table.remove(inv.weap.venoms.left, 1)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>1</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>^Shimmering with vorpal power\, .*\'s latent energy at (\w+)\, causing an unseen attack\.$</string>
                                        <string>You discern that a layer of venom has rubbed off your weapon.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>1</integer>
                                        <integer>3</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>vorpal weariness</name>
                                    <script>local tar = tmp.target:title()
local t = cdb.chars[tar]

cdb.aff(tar, &quot;pacifism&quot;, nil)

if tmp.blockvenom then
	tmp.blockvenom = false
	return
end

if not inv.weap.venoms.left[1] then return end

local venom = inv.weap.venoms.left[1]
			
ks.to_aff(tar, venom)
table.remove(inv.weap.venoms.left, 1)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>2</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>^Shimmering with vorpal power\, .*\'s latent energy at (\w+)\, causing an unseen attack\.$</string>
                                        <string>slumps with a weary groan.</string>
                                        <string>You discern that a layer of venom has rubbed off your weapon.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>1</integer>
                                        <integer>0</integer>
                                        <integer>3</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </TriggerGroup>
                            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>limb tracking</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList/>
                                <regexCodePropertyList/>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>trauma</name>
                                    <script>local tar = multimatches[2][2]:title()
local limb = multimatches[2][3]:gsub(&quot; &quot;, &quot;_&quot;)

--! Right now, this assumes an accompanying hit with a roughly 120-damage single-handed small bludgeon.
--! There's not really a reason to dsk with trauma otherwise.
cdb.dam(tar, limb, 8)
</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>, it sends a pulse of destructive power into it.</string>
                                        <string>^As .* strikes (\w+)\'s (.+)\, it sends a pulse of destructive power into it\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </TriggerGroup>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>conviction</name>
                                <script>local tar = multimatches[2][2]:title()
local t = cdb.chars[tar]

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;conviction&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>sparks of energy fizzle across</string>
                                    <string>^As .* strikes\, sparks of energy fizzle across (\w+)\'s body as (:?his|her) defences are reduced\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>mental_disruption</name>
                                <script>local tar = multimatches[2][2]:title()
local t = cdb.chars[tar]

cdb.aff(tar, &quot;pacifism&quot;, nil)

if multimatches[2][3] == &quot;equilibrium&quot; then
	cdb.aff(tar, &quot;mental_disruption&quot;, true)
elseif multimatches[2][3] == &quot;balance&quot; then
	cdb.aff(tar, &quot;physical_disruption&quot;, true)
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>A flash of energy cascades down</string>
                                    <string>^A flash of energy cascades down .*\, disrupting (\w+)\'s (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>crippled</name>
                                <script>local tar = multimatches[2][2]:title()
local t = cdb.chars[tar]

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;crippled&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string> a surge of energy cascades along it</string>
                                    <string>^As .* strikes\, a surge of energy cascades along it\, striking (\w+)\'s legs\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>crippled_body</name>
                                <script>local tar = multimatches[2][2]:title()
local t = cdb.chars[tar]

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;crippled_body&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>a surge of energy cascades along it</string>
                                    <string>^As .* strikes\, a surge of energy cascades along it\, striking (\w+)\'s body\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>iceblast</name>
                                <script>local tar = multimatches[2][2]:title()
local t = cdb.chars[tar]

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;shivering&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>built up charge into a blast of icy cold air and</string>
                                    <string>^You release .*\'s built up charge into a blast of icy cold air and direct it at (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>destruction</name>
                                <script>local tar = multimatches[2][2]:title()
local t = cdb.chars[tar]

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.def(tar, multimatches[2][3], false)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Purple blasts of energy lash out from</string>
                                    <string>^Purple blasts of energy lash out from .*\, consuming (\w+)\'s (.+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>penance</name>
                                <script>local tar = multimatches[2][2]:title()
local t = cdb.chars[tar]

cdb.aff(tar, &quot;pacifism&quot;, nil)
cdb.aff(tar, &quot;penance&quot;, true)
can.nobal(&quot;penance&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You spy an opening in</string>
                                    <string>^You spy an opening in (\w+)\'s defenses and quickly assume a steady\, braced stance\. With practiced ease\, you position your weapon and gather your resolve\, before engaging your art  with a yell\. .* warms in your grasp and flashes just once as you impose a Penance upon (him|her)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>withering</name>
                                <script>local tar = multimatches[2][2]:title()
local t = cdb.chars[tar]

cdb.aff(tar, &quot;pacifism&quot;)
cdb.aff(tar, &quot;withering&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You reach out towards</string>
                                    <string>^You reach out towards (\w+)\, twisting (?:his|her) aura into a malevolent force that eminates an intense evil from its owner\. It begins to feed from (?:him|her)\, fueling itself into a supernatural power\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>impale</name>
                                <script>local tar = multimatches[2][2]:title()
local t = cdb.chars[tar]

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;writhe_impaled&quot;, true)
o.traits.impaling = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string> back and plunge it deep into the body of</string>
                                    <string>^You draw your \w+ back and plunge it deep into the body of (\w+) impaling (?:him|her)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>lunge impale</name>
                                <script>local tar = multimatches[2][2]:title()
local t = cdb.chars[tar]

cdb.aff(tar, &quot;pacifism&quot;, nil)

cdb.aff(tar, &quot;writhe_impaled&quot;, true)
o.traits.impaling = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>With a cry of delight you skewer</string>
                                    <string>^With a cry of delight you skewer (\w+) on your \w+\, who writhes and screams as the weapon is driven deep into (?:his|her) flesh\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>teradrim</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>limbs</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList/>
                                <regexCodePropertyList/>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>earth slam</name>
                                    <script>local tar = multimatches[2][2]:title()
tmp.limb = multimatches[2][3]

enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)

cdb.aff(tar, &quot;pacifism&quot;)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>5</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You advance upon</string>
                                        <string>^You advance upon (\w+)\, flail spinning rapidly in hand\. Flicking your wrist\, you quickly send the spiked balls to slam into \w+ (.+)\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>dodge</name>
                                        <script>setTriggerStayOpen(&quot;earth slam&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>Stepping quickly out of the way,</string>
                                            <string>^Stepping quickly out of the way\, \w+ dodges the attack\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>2</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>parry</name>
                                        <script>setTriggerStayOpen(&quot;earth slam&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>parries the attack on</string>
                                            <string>^(\w+) parries the attack on (?:his|her) (.+) with a deft maneuver\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>0</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>rebounding</name>
                                        <script>setTriggerStayOpen(&quot;earth slam&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>The attack rebounds back onto you!</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>3</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>balance</name>
                                        <script>setTriggerStayOpen(&quot;earth slam&quot;, 0)
local tar = tmp.target
local limb = tmp.limb

if defs.active.red_major then
	cdb.limb(tar, limb, &quot;12.48&quot;)
else
end

tmp.limb = nil</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>Balance Used:</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>2</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>earth facesmash</name>
                                    <script>local tar = multimatches[2][2]:title()

enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)

cdb.aff(tar, &quot;pacifism&quot;)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>3</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You bring your flail crashing down into</string>
                                        <string>^You bring your flail crashing down into (\w+)\'s head with a powerful overhead swing\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>dodge</name>
                                        <script>setTriggerStayOpen(&quot;earth facesmash&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>Stepping quickly out of the way,</string>
                                            <string>^Stepping quickly out of the way\, \w+ dodges the attack\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>2</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>parry</name>
                                        <script>setTriggerStayOpen(&quot;earth facesmash&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>parries the attack on</string>
                                            <string>^(\w+) parries the attack on (?:his|her) (.+) with a deft maneuver\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>0</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>rebounding</name>
                                        <script>setTriggerStayOpen(&quot;earth facesmash&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>The attack rebounds back onto you!</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>3</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>balance</name>
                                        <script>setTriggerStayOpen(&quot;earth facesmash&quot;, 0)
local tar = tmp.target

if defs.active.red_major then
	cdb.limb(tar, &quot;head&quot;, &quot;16.23&quot;)
else
end

tmp.limb = nil</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>Balance Used:</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>2</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>earth fracture</name>
                                    <script>local tar = multimatches[2][2]:title()
tmp.limb = multimatches[2][3]

enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)

cdb.aff(tar, &quot;pacifism&quot;)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>3</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You spin your flail in a blazing arc towards</string>
                                        <string>^You spin your flail in a blazing arc towards (\w+)\'s (.+)\, crushing it\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>dodge</name>
                                        <script>setTriggerStayOpen(&quot;earth fracture&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>Stepping quickly out of the way,</string>
                                            <string>^Stepping quickly out of the way\, \w+ dodges the attack\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>2</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>parry</name>
                                        <script>setTriggerStayOpen(&quot;earth fracture&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>parries the attack on</string>
                                            <string>^(\w+) parries the attack on (?:his|her) (.+) with a deft maneuver\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>0</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>rebounding</name>
                                        <script>setTriggerStayOpen(&quot;earth fracture&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>The attack rebounds back onto you!</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>3</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>balance</name>
                                        <script>setTriggerStayOpen(&quot;earth fracture&quot;, 0)
local tar = tmp.target:title()
local t = cdb.chars[tar]
local limb = tmp.limb
local _limb = limb:gsub(&quot; &quot;, &quot;_&quot;)
local aff = _limb .. &quot;_broken&quot;
local light = _limb .. &quot;_bruised&quot;
local moderate = _limb .. &quot;_bruised_moderate&quot;
local critical = _limb .. &quot;_bruised_critical&quot;

local dam
if defs.active.red_major then
	if t.affs[critical] then
		dam = &quot;29.34&quot;
	elseif t.affs[moderate] then
		dam = &quot;18.11&quot;
	elseif t.affs[light] then
		dam = &quot;10.6&quot;
	else
		dam = &quot;6.86&quot;
	end
else
	if t.affs[critical] then
	
	elseif t.affs[moderate] then

	elseif t.affs[light] then

	else

	end
end

cdb.aff(tar, aff, true)
cdb.limb(tar, limb, dam)
tmp.limb = nil</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>Balance Used:</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>2</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>earth gutsmash</name>
                                    <script>local tar = multimatches[2][2]:title()

enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)

cdb.aff(tar, &quot;pacifism&quot;)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>3</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You quickly spin your flail to build its momentum before sending the trio of spiked balls careening into</string>
                                        <string>^You quickly spin your flail to build its momentum before sending the trio of spiked balls careening into (\w+)\'s gut\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>dodge</name>
                                        <script>setTriggerStayOpen(&quot;earth gutsmash&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>Stepping quickly out of the way,</string>
                                            <string>^Stepping quickly out of the way\, \w+ dodges the attack\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>2</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>parry</name>
                                        <script>setTriggerStayOpen(&quot;earth gutsmash&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>parries the attack on</string>
                                            <string>^(\w+) parries the attack on (?:his|her) (.+) with a deft maneuver\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>0</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>rebounding</name>
                                        <script>setTriggerStayOpen(&quot;earth gutsmash&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>The attack rebounds back onto you!</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>3</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>balance</name>
                                        <script>setTriggerStayOpen(&quot;earth gutsmash&quot;, 0)
local tar = tmp.target

if defs.active.red_major then
	cdb.limb(tar, &quot;torso&quot;, &quot;16.23&quot;)
else
end

tmp.limb = nil</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>Balance Used:</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>2</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>sand shred</name>
                                    <script>local tar = multimatches[2][2]:title()
tmp.limb = multimatches[2][3]

enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)

cdb.aff(tar, &quot;pacifism&quot;)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>1</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>With a forceful sweep of the hand, you send a wave of sand to shred</string>
                                        <string>^With a forceful sweep of the hand\, you send a wave of sand to shred (\w+)\'s (.+)\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>equilibrium used</name>
                                        <script>local tar = tmp.target
local limb = tmp.limb

cdb.limb(tar, limb, &quot;6.99&quot;)

tmp.limb = nil</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>Equilibrium Used:</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>2</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>sand storm</name>
                                        <script>local tar = tmp.target
local limb = tmp.limb

cdb.limb(tar, limb, &quot;6.99&quot;)

tmp.limb = nil</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>The fury of the sandstorm lessens as it fuels your attack.</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>3</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>earth furor one</name>
                                    <script>local tar = multimatches[2][2]
tmp.limb = multimatches[2][3]
cdb.aff(tar, &quot;pacifism&quot;)
enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>3</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You lash out with your earthen flail, catching</string>
                                        <string>^You lash out with your earthen flail\, catching (\w+) across the (.+) with a hearty blow\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>dodge</name>
                                        <script>setTriggerStayOpen(&quot;earth furor one&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>Stepping quickly out of the way,</string>
                                            <string>^Stepping quickly out of the way\, \w+ dodges the attack\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>2</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>parry</name>
                                        <script>setTriggerStayOpen(&quot;earth furor one&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>parries the attack on</string>
                                            <string>^(\w+) parries the attack on (?:his|her) (.+) with a deft maneuver\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>0</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>next hit</name>
                                        <script>setTriggerStayOpen(&quot;earth furor one&quot;, 0)
local tar = tmp.target
local limb = tmp.limb

if defs.active.red_major then
	cdb.limb(tar, limb, &quot;10.5&quot;)
else
end</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>You swing the flail around for a second hit,</string>
                                            <string>^You swing the flail around for a second hit\, striking \w+ upon the .+\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>2</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>earth furor two</name>
                                    <script>local tar = multimatches[2][2]
tmp.limb = multimatches[2][3]
cdb.aff(tar, &quot;pacifism&quot;)
enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>3</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>You swing the flail around for a second hit, striking</string>
                                        <string>^You swing the flail around for a second hit\, striking (\w+) upon the (.+)\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>dodge</name>
                                        <script>setTriggerStayOpen(&quot;earth furor two&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>Stepping quickly out of the way,</string>
                                            <string>^Stepping quickly out of the way\, \w+ dodges the attack\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>2</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>parry</name>
                                        <script>setTriggerStayOpen(&quot;earth furor two&quot;, 0)</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>parries the attack on</string>
                                            <string>^(\w+) parries the attack on (?:his|her) (.+) with a deft maneuver\.$</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>0</integer>
                                            <integer>1</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                        <name>balance</name>
                                        <script>setTriggerStayOpen(&quot;earth furor two&quot;, 0)
local tar = tmp.target
local limb = tmp.limb

if defs.active.red_major then
	cdb.limb(tar, limb, &quot;10.5&quot;)
else
end</script>
                                        <triggerType>0</triggerType>
                                        <conditonLineDelta>0</conditonLineDelta>
                                        <mStayOpen>0</mStayOpen>
                                        <mCommand></mCommand>
                                        <packageName></packageName>
                                        <mFgColor>#ff0000</mFgColor>
                                        <mBgColor>#ffff00</mBgColor>
                                        <mSoundFile></mSoundFile>
                                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                        <regexCodeList>
                                            <string>Balance Used:</string>
                                        </regexCodeList>
                                        <regexCodePropertyList>
                                            <integer>2</integer>
                                        </regexCodePropertyList>
                                    </Trigger>
                                </Trigger>
                            </TriggerGroup>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>sand scourge</name>
                                <script>local tar = multimatches[2][2]:title()
local limb = multimatches[2][3]:gsub(&quot; &quot;, &quot;_&quot;)
local aff = limb .. &quot;_broken&quot;

cdb.aff(tar, &quot;pacifism&quot;)
cdb.aff(tar, aff, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>A slender length of sand rises up from the ground to settle comfortably in your hand. With a practiced flick of the wrist, you scourge</string>
                                    <string>^A slender length of sand rises up from the ground to settle comfortably in your hand\. With a practiced flick of the wrist\, you scourge (\w+)\'s (.+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>richochet</name>
                                <script>if not defs.active.ricochet then return end

local tar = multimatches[2][2]:title()
local limb = multimatches[2][3]:gsub(&quot; &quot;, &quot;_&quot;)
local aff = limb .. &quot;_broken&quot;

cdb.aff(tar, &quot;pacifism&quot;)
cdb.aff(tar, aff, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You quickly adjust the momentum of your flail, smashing it into</string>
                                    <string>^You quickly adjust the momentum of your flail\, smashing it into (\w+)\'s (.+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>earth impale</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The stalagmite spears through</string>
                                    <string>^The stalagmite spears through (\w+)\, impaling \w+ upon it\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>earth stonevice</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You grab hold of stalagmite impaling</string>
                                    <string>^You grab hold of stalagmite impaling (\w+) and channel your earthen magic through it to turn \w+ organs to stone\. The stalagmite crumbles away before your power\, leaving (\w+) clutching \w+ petrified gut in pain\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>entwine</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You quickly entwine the chains of your flail around (\w+)\'s .* and attempt to yank it from (?:his|her) hands\.$</string>
                                    <string>^(?:His|her) fierce grip secures the weapon\, but (?:his|her) arm fractures before the shock\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>grapple</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You use Animation Grapple on (\w+)\.$</string>
                                    <string>^.* quickly lumbers over and falls atop \w+\, pinning (?:him|her) beneath its great mass\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>wrench</name>
                                <script>local tar = multimatches[1][2]
local limb = multimatches[2][2]:gsub(&quot; &quot;,&quot;_&quot;)
local aff = limb .. &quot;_dislocated&quot;

cdb.aff(tar, aff, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You use Animation Wrench on (\w+)\.$</string>
                                    <string>^Grabbing hold of \w+\'s (.+)\, .* casually wrenches it out of its socket\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>barrel</name>
                                <script>local tar = multimatches[1][2]

cdb.trait(tar, &quot;prone&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You use Animation Barrel on (\w+)\.$</string>
                                    <string>^.* barrels headlong into \w+\, knocking (?:him|her) over before the force of its great bulk\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>rip</name>
                                <script>local tar = multimatches[1][3]
local limb = multimatches[1][2]:gsub(&quot; &quot;,&quot;_&quot;)
local aff = limb .. &quot;_broken&quot;

cdb.aff(tar, aff, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You use Animation Rip \((.+)\) on (\w+)\.$</string>
                                    <string>^.* reaches out and seizes \w+\'s .+ in its powerful grip\, pulling and twisting until the bone snaps\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dislocation</name>
                                <script>local tar = multimatches[2][2]
local limb = multimatches[2][3]:gsub(&quot; &quot;,&quot;_&quot;)
local aff = limb .. &quot;_dislocated&quot;

cdb.aff(tar, aff)
enableTrigger(&quot;limb damaged&quot;)
enableTrigger(&quot;limb mangled&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>uses Dislocation.</string>
                                    <string>^The prolonged dislocation of (\w+)\'s (.+) has exacerbated the injury\, leaving it severely damaged\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>blue paint</name>
                                <script>local tar = multimatches[1][2]

cdb.aff(tar, &quot;frozen&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^You use Animation Blue Paint on (\w+)\.$</string>
                                    <string>^\w+ shivers slightly as the fist strikes (?:him|her)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>symptoms</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>ablaze</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;ablaze&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Flames leap around</string>
                                    <string>^Flames leap around (\w+)\, charring (?:his|her) flesh\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>frozen disrupt</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;disrupted&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>shivers particularly intensely.</string>
                                    <string>^(\w+) shivers particularly intensely\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>paralysis</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;paresis&quot;)
cdb.aff(tar, &quot;paralysis&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>entire body locked by paralysis.</string>
                                    <string>^(\w+) suddenly seizes up\, (?:his|her) entire body locked by paralysis\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>slickness</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;slickness&quot;, true)
cdb.def(tar, &quot;fangbarrier&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>'s body sloughs off, unable to stick to</string>
                                    <string>^The (?:bone marrow|sileris) coating (\w+)\'s body sloughs off\, unable to stick to (?:his|her) unnaturally slick skin\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>thin_blood</name>
                                <script>--todo: various third-person sources for trackable afflictions</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>1</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(\w+) swoons as (:?he|she) suffers a toxic relapse\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>asleep</name>
                                    <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;asleep&quot;, true)
cdb.def(tar, &quot;insomnia&quot;)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>'s eyes close suddenly as</string>
                                        <string>^(\w+)\'s eyes close suddenly as (:?he|she) falls asleep\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>weariness</name>
                                    <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;weariness&quot;, true)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>slumps with a weary groan.</string>
                                        <string>^(\w+) slumps with a weary groan\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>unconscious</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;unconscious&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>suddenly passes out.</string>
                                    <string>^(\w+)\'s legs collapse under (?:him|her) as (?:he|she) suddenly passes out\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>limbs</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bruising</name>
                                <script>local tar = multimatches[2][3]:title()
local limb = multimatches[2][4]:gsub(&quot; &quot;, &quot;_&quot;)

local lev = {
	[&quot;light&quot;] = &quot;_bruised&quot;,
	[&quot;moderate&quot;] = &quot;_bruised_moderate&quot;,
	[&quot;critical&quot;] = &quot;_bruised_critical&quot;
}

local aff = limb .. lev[multimatches[2][2]]

cdb.aff(tar, aff, true)

</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your strikes cause</string>
                                    <string>^Your strikes cause (\w+) bruising on (\w+)\'s (.+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>limb damaged</name>
                                <script>local tar = multimatches[2][2]:title()
local limb = multimatches[2][3]:gsub(&quot; &quot;,&quot;_&quot;)

cdb.aff(tar, limb .. &quot;_damaged&quot;, true)
cdb.aff(tar, limb .. &quot;_broken&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>breaks from all the damage.</string>
                                    <string>^(\w+)\'s (.+) breaks from all the damage\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>limb mangled</name>
                                <script>local tar = multimatches[2][2]:title()
local limb = multimatches[2][3]:gsub(&quot; &quot;,&quot;_&quot;)

cdb.aff(tar, limb .. &quot;_mangled&quot;, true)
cdb.aff(tar, limb .. &quot;_damaged&quot;, true)
cdb.aff(tar, limb .. &quot;_broken&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>has been beaten into uselessness.</string>
                                    <string>^(\w+)\'s (.+) has been beaten into uselessness\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>remove</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>dodge</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Stepping quickly out of the way, </string>
                                <string>^Stepping quickly out of the way\, (\w+) dodges the attack\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>parry</name>
                            <script>if matches[2] ~= tmp.target:title() then return end

tmp.parried = true
if tmp.t_lastlimbdamage then
	track:t_rdam(matches[3]:gsub(&quot; &quot;,&quot;&quot;), tmp.t_lastlimbdamage)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^(\w+) parries the attack on \w+ (.+) with a deft maneuver\.$</string>
                                <string>^Stepping quickly out of the way\, (\w+) dodges the attack\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>cures</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>writhe</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList/>
                                <regexCodePropertyList/>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>disemboweled</name>
                                    <script>local tar = multimatches[2][2]

cdb.aff(tar, &quot;writhe_impaled&quot;, nil)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>With a vicious snarl you carve a merciless swathe through the steaming guts of</string>
                                        <string>^With a vicious snarl you carve a merciless swathe through the steaming guts of (\w+)\, who gurgles and chokes as you withdraw your dripping \w+\, its blade glistening with gore\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>entanglement failed</name>
                                    <script></script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>^(\w+)\'s bound body can be entangled no further\. The entanglement fails to take hold\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>jawlock</name>
                                    <script>local tar = multimatches[2][2]:title()
local aff = &quot;writhe_&quot; .. multimatches[3][3] .. &quot;lock&quot;

cdb.aff(tar, aff, nil)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>has writhed free of</string>
                                        <string>^(\w+) has writhed free of (?:his|her) (\w+)\-jawlock\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>writhe_transfix</name>
                                    <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;writhe_transfix&quot;, nil)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>state of transfixion.</string>
                                        <string>^(\w+) has writhed free of \w+ state of transfixion\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>writhe_bind</name>
                                    <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;writhe_bind&quot;, nil)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>entanglement by tied ropes.</string>
                                        <string>^(\w+) has writhed free of (:?his|her) entanglement by tied ropes\.</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>writhe_impaled</name>
                                    <script>local tar = multimatches[2][2]

cdb.aff(tar, &quot;writhe_impaled&quot;, nil)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>has writhed free of</string>
                                        <string>^(\w+) has writhed free of (?:his|her) impalement\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </TriggerGroup>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>concentrate</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;disrupted&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>'s eyes lose their focus suddenly.</string>
                                    <string>^(\w+)\'s eyes lose their focus suddenly\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>discern</name>
                                <script>local tar = multimatches[2][2]:title()
local aff = multimatches[2][3]

local sub = {
	[&quot;a broken right arm&quot;] = &quot;right_arm_broken&quot;,
	[&quot;a broken right leg&quot;] = &quot;right_leg_broken&quot;,
	[&quot;a broken left arm&quot;] = &quot;left_arm_broken&quot;,
	[&quot;a broken left leg&quot;] = &quot;left_leg_broken&quot;,
	[&quot;heart flutter&quot;] = &quot;heartflutter&quot;,
	[&quot;scytherus&quot;] = &quot;thin_blood&quot;,
	[&quot;a shriveled throat&quot;] = &quot;crippled_throat&quot;,
	[&quot;throat claw&quot;] = &quot;throatclaw&quot;
}

if sub[aff] then
	cdb.aff(tar, sub[aff], nil)
else
	aff = aff:gsub(&quot; &quot;,&quot;_&quot;)
	cdb.aff(tar, aff, nil)
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You discern that</string>
                                    <string>^You discern that (\w+) has cured the effects of\s(.+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>fitness</name>
                                <script>local str = selectString(&quot;Fitness&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]:title()
local t = cdb.chars[tar]
local aff = &quot;asthma&quot;

if not (t.affs.asthma or t.affs.limp_veins) then
	cdb.def(tar, &quot;fitness&quot;, true)
	return
end

if t.affs.limp_veins then
	aff = &quot;limp_veins&quot;
end

if tar == tmp.target:title() then
	stopwatch.t_fit = nil
	stopwatch.t_fit = createStopWatch()
	startStopWatch(stopwatch.t_fit)
	fs.on(&quot;t_fit&quot;, .9)
end

tmp.t_fit  = tmp.t_fit or {}
table.insert(tmp.t_fit, 1, tar)

timers.t_fit = timers.t_fit or {}
if timers.t_fit[tar] then killTimer(timers.t_fit[tar]) end
timers.t_fit[tar] = tempTimer(.9, [[cdb.aff(tmp.t_fit[1], &quot;asthma&quot;, nil)
														cdb.aff(tmp.t_fit[1], &quot;limp_veins&quot;, nil)
														table.remove(tmp.t_fit, 1)
														stopwatch.t_fit = nil]])



</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>uses Fitness.</string>
                                    <string>^(\w+) uses Fitness\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>focus</name>
                                <script>local tar = multimatches[2][2]:title()
local t = cdb.chars[tar]

cdb.sort_cure(tar, &quot;focus&quot;)

cdb.aff(tar, &quot;impatience&quot;)
cdb.aff(tar, &quot;asleep&quot;)
cdb.aff(tar, &quot;unconscious&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>A look of extreme focus crosses the face of</string>
                                    <string>^A look of extreme focus crosses the face of (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>herb</name>
                                <script>local tar = multimatches[2][2]:title()
local cure = multimatches[2][3]
local t = cdb.chars[tar]

cdb.aff(tar, &quot;anorexia&quot;)
cdb.aff(tar, &quot;indifference&quot;)
cdb.aff(tar, &quot;asleep&quot;)
cdb.aff(tar, &quot;unconscious&quot;)

if timers.shadow_used then
	local to_sb = tonumber(timers.shadow_used - getStopWatchTime(stopwatch.shadow))
	local delay = 1.1 - to_sb
	if delay &gt; 0 then fs.on(&quot;sleight&quot;, delay) end
else
	fs.on(&quot;sleight&quot;, 1.1)
end

if cure == &quot;hawthorn&quot; then
	if t.affs.ruptured_eardrum then
		cdb.aff(tar, &quot;ruptured_eardrum&quot;)
		return
	else
		cdb.def(tar, &quot;deafness&quot;, true)
		return
	end
elseif cure == &quot;bayberry&quot; then
	cdb.def(tar, &quot;blindness&quot;, true)
	return
end

cdb.sort_cure(tar, cure)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>eats</string>
                                    <string>^(\w+) eats (?:a|a piece of|some)\s?(?:black|irid|prickly)?\s(ash|bayberry|bellwort|bloodroot|cohosh|ginseng|goldenseal|hawthorn|kelp|lobelia|moss)\s?(?:bark|berry|leaf|root|seed)?\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>pipe</name>
                                <script>local tar = multimatches[2][2]:title()
local cure = multimatches[2][3]
local t = cdb.chars[tar]

cdb.aff(tar, &quot;asthma&quot;)
cdb.aff(tar, &quot;asleep&quot;)
cdb.aff(tar, &quot;unconscious&quot;)

if cure == &quot;skullcap&quot; then
	if t.defs.rebounding then return end

	tmp.rebounding  = tmp.rebounding or {}
	table.insert(tmp.rebounding, 1, tar)

	timers.t_rebounding = timers.t_rebounding or {}
	if timers.t_rebounding[tar] then killTimer(timers.t_rebounding[tar]) end
	timers.t_rebounding[tar] = tempTimer(6, [[cdb.def(tmp.rebounding[1], &quot;rebounding&quot;, true)
												table.remove(tmp.rebounding, 1)
												send(&quot; &quot;)]])
end

if not affs.lib[cure] then return end

for i, v in ipairs(affs.lib[cure]) do
	if t.affs[v] and not affs.blocked(aff) then
		cdb.aff(tar, v)
		break
	end
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>takes a long drag off</string>
                                    <string>^(\w+) takes a long drag off \w+ pipe filled with (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>poultice</name>
                                <script>local tar = multimatches[2][2]:title()
local cure = multimatches[2][3]
local limb = multimatches[2][4]:gsub(&quot; &quot;, &quot;_&quot;)
local t = cdb.chars[tar]

cdb.aff(tar, &quot;slickness&quot;)
cdb.aff(tar, &quot;asleep&quot;)
cdb.aff(tar, &quot;unconscious&quot;)

if cure == &quot;jecis&quot; then
	if t.affs.crushed_chest and limb == &quot;torso&quot; then
		cdb.aff(tar, &quot;crushed_chest&quot;)
		return
	end	
	cdb.chars[tar].restoring = multimatches[2][4]
	local tar = tar:lower()
	tmp.restored = tmp.restored or {}
	tmp.restored.names = tmp.restored.names or {}
	tmp.restored.limbs = tmp.restored.limbs or {}

	table.iremovekey(tmp.restored.names, tar)
	table.removekey(tmp.restored.limbs, tar)
	table.insert(tmp.restored.names, 1, tar)
	tmp.restored.limbs[tar] = limb

	timers.restore = timers.restore or {}
	if timers.restore[tar] then killTimer(timers.restore[tar]) end

	timers.restore[tar] = tempTimer(3.7, [[
													cdb.sort_cure(tmp.restored.names[1], &quot;restoration&quot;, tmp.restored.limbs[tmp.restored.names[1]:lower()])
													cdb.limb(tmp.restored.names[1], tmp.restored.limbs[tmp.restored.names[1]:lower()], &quot;33.33&quot;, true)
													cdb.chars[tmp.restored.names[1]:title()].restoring = &quot;none&quot;
													table.remove(tmp.restored.names, 1)
													tmp.restored.names[1] = nil]])
elseif cure == &quot;fumeae&quot; and not t.affs.shivering and not t.affs.frozen then
	cdb.def(tar, &quot;insulation&quot;, true)
else
	cdb.sort_cure(tar, cure, limb)
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>poultice against</string>
                                    <string>^(\w+) presses \w+ (\w+) poultice against (?:his|her) (.+)\, rubbing the (?:poultice|last of the poultice) into (?:his|her) flesh\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>rage</name>
                                <script>local tar = multimatches[2][2]:title()
local t = cdb.chars[tar]

cdb.sort_cure(tar, &quot;bellwort&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>'s eyes flash with rage.</string>
                                    <string>^(\w+)\'s eyes flash with rage\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>restore</name>
                                <script>local tar = multimatches[2][2]:title()
local t = cdb.chars[tar]

	local function blocked(aff)
		if not aff then return false end
		if not affs.lib[aff] then return false end
		if not affs.lib[aff].block then return false end

		for i, v in ipairs(affs.lib[aff].block) do
			if t.affs[v] then return true end
		end

		return false
	end

for i, v in ipairs({ &quot;right_leg_broken&quot;, &quot;left_leg_broken&quot;, &quot;right_arm_broken&quot;, &quot;left_arm_broken&quot; }) do
	if t.affs[v] and not blocked(aff) then
		cdb.aff(tar, v)
	end
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>crackles with blue energy that wreathes itself about</string>
                                    <string>^(\w+) crackles with blue energy that wreathes itself about (?:his|her) limbs\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>salve</name>
                                <script>local tar = multimatches[2][2]:title()
local cure = multimatches[2][3]
local limb = multimatches[2][4]:gsub(&quot; &quot;, &quot;_&quot;)
local t = cdb.chars[tar]

cdb.aff(tar, &quot;slickness&quot;, nil)
cdb.aff(tar, &quot;asleep&quot;, nil)
cdb.aff(tar, &quot;unconscious&quot;, nil)

if cure == &quot;restoration&quot; then
	if t.affs.crushed_chest and limb == &quot;torso&quot; then
		cdb.aff(tar, &quot;crushed_chest&quot;)
		return
	end
	cdb.chars[tar].restoring = multimatches[2][4]
	local tar = tar:lower()
	tmp.restored = tmp.restored or {}
	tmp.restored.names = tmp.restored.names or {}
	tmp.restored.limbs = tmp.restored.limbs or {}

	table.iremovekey(tmp.restored.names, tar)
	table.removekey(tmp.restored.limbs, tar)
	table.insert(tmp.restored.names, 1, tar)
	tmp.restored.limbs[tar] = limb

	timers.restore = timers.restore or {}
	if timers.restore[tar] then killTimer(timers.restore[tar]) end

	timers.restore[tar] = tempTimer(3.7, [[
													cdb.sort_cure(tmp.restored.names[1], &quot;restoration&quot;, tmp.restored.limbs[tmp.restored.names[1]:lower()])
													cdb.limb(tmp.restored.names[1], tmp.restored.limbs[tmp.restored.names[1]:lower()], &quot;33.33&quot;, true)
													cdb.chars[tmp.restored.names[1]:title()].restoring = &quot;none&quot;
													table.remove(tmp.restored.names, 1)
													tmp.restored.names[1] = nil]])
elseif cure == &quot;caloric&quot; and not t.affs.shivering and not t.affs.frozen then
	cdb.def(tar, &quot;insulation&quot;, true)
else
	cdb.sort_cure(tar, cure, limb)
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>and rubs it on</string>
                                    <string>^(\w+) takes (?:a|an)\s?(?:salve of)?\s?(\w+)\s?(?:salve)?\s?and rubs it on \w+ (.+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>scour</name>
                                <script>cdb.aff(multimatches[2][2], &quot;slickness&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>skin vigorously with the hot desert sand.</string>
                                    <string>^(\w+) scours (?:his|her) skin vigorously with the hot desert sand\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shed</name>
                                <script>local str = selectString(&quot;Shapeshifting Shed&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;slickness&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>uses Shapeshifting Shed.</string>
                                    <string>^(\w+) uses Shapeshifting Shed\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>sip</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;anorexia&quot;)
cdb.aff(tar, &quot;indifference&quot;)
cdb.aff(tar, &quot;asleep&quot;)
cdb.aff(tar, &quot;unconscious&quot;)
cdb.aff(tar, &quot;voyria&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>takes a drink</string>
                                    <string>^(\w+) takes a drink from .*\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>slice</name>
                                <script>local tar = multimatches[2][2]:title()
local cure = multimatches[2][3] .. &quot;_slice&quot;
local t = cdb.chars[tar]

cdb.aff(tar, &quot;anorexia&quot;)
cdb.aff(tar, &quot;indifference&quot;)
cdb.aff(tar, &quot;asleep&quot;)
cdb.aff(tar, &quot;unconscious&quot;)

if timers.shadow_used then
	local to_sb = tonumber(timers.shadow_used - getStopWatchTime(stopwatch.shadow))
	local delay = 1.1 - to_sb
	if delay &gt; 0 then fs.on(&quot;sleight&quot;, delay) end
else
	fs.on(&quot;sleight&quot;, 1.1)
end

if cure == &quot;heart_slice&quot; then
	if t.affs.ruptured_eardrum then
		cdb.aff(tar, &quot;ruptured_eardrum&quot;)
		return
	else
		cdb.def(tar, &quot;deafness&quot;, true)
		return
	end
elseif cure == &quot;stomach_slice&quot; then
	cdb.def(tar, &quot;blindness&quot;, true)
	return
end

cdb.sort_cure(tar, cure)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>slice.</string>
                                    <string>^(\w+) eats \w+ (\w+) (?:gland)?\s?slice\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>stick</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;anorexia&quot;)
cdb.aff(tar, &quot;indifference&quot;)
cdb.aff(tar, &quot;asleep&quot;)
cdb.aff(tar, &quot;unconscious&quot;)
cdb.aff(tar, &quot;voyria&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>sticks</string>
                                    <string>^(\w+) sticks (?:him|her)self with .*\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>stand</name>
                                <script>local tar = multimatches[2][2]

cdb.chars[tar].traits.prone = nil
cdb.aff(tar, &quot;asleep&quot;)
cdb.aff(tar, &quot;unconscious&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>stands up and stretches</string>
                                    <string>^(\w+) stands up and stretches (?:his|her) arms out wide\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>syringe</name>
                                <script>local tar = multimatches[2][2]:title()
local cure = multimatches[2][3]
local t = cdb.chars[tar]

cdb.aff(tar, &quot;limp_veins&quot;)
cdb.aff(tar, &quot;asleep&quot;)
cdb.aff(tar, &quot;unconscious&quot;)

if cure == &quot;sudorific&quot; then
	if t.defs.rebounding then return end

	tmp.rebounding  = tmp.rebounding or {}
	table.insert(tmp.rebounding, 1, tar)

	timers.t_rebounding = timers.t_rebounding or {}
	if timers.t_rebounding[tar] then killTimer(timers.t_rebounding[tar]) end
	timers.t_rebounding[tar] = tempTimer(6, [[cdb.def(tmp.rebounding[1], &quot;rebounding&quot;, true)
												table.remove(tmp.rebounding, 1)
												send(&quot; &quot;)]])
end

cdb.sort_cure(tar, cure)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>with a syringe filled with</string>
                                    <string>^(\w+) quickly injects \w+ with a syringe filled with (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>wake</name>
                                <script>local tar = matches[2]

cdb.aff(tar, &quot;asleep&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^(\w+) awakens with a start\.$</string>
                                    <string>^(\w+) opens (?:his|her) eyes and yawns mightily\.$</string>
                                    <string>^(\w+) wakes up with a gasp of pain\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>resisted</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>conviction dropped</name>
                                <script>local tar = multimatches[2][2]

cdb.aff(tar, &quot;conviction&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Without conviction,</string>
                                    <string>^Without conviction\, your \w+ empowerment fails to affect (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>elder shaman</name>
                                <script>local tar = multimatches[2][2]
local aff = multimatches[2][3]

cdb.aff(tar, aff, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>summons the will of the Elder Shaman</string>
                                    <string>^(\w+) summons the will of the Elder Shaman to resist the (\w+) affliction\.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>galeward/waterward</name>
                                <script>tmp.blockvenom = true</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>from the effects of the venom.</string>
                                    <string>^(\w+)\'s (gale|water)ward protects (?:him|her) from the effects of the venom\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>cure failed</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>angel sear</name>
                                <script>local tar = multimatches[2][2]

cdb.aff(tar, &quot;angel_sear&quot;, true)
if timers.restore[tar] then
	table.iremovekey(tmp.restored.names, tar)
	table.removekey(tmp.restored.limbs, tar)
	killTimer(timers.restore[tar])
	return
end

for _, aff in ipairs(tmp.t_lastcured) do
	cdb.aff(tar, aff, true)
end
tmp.t_lastcured = {}

</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^A burst of colorful steam rises from (\w+)\'s skin as (?:he|she) attempts to apply a salve to it\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>carnifex</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bloodburst</name>
                                <script>local str = selectString(&quot;Deathlore Bloodburst proc&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]

cdb.aff(tar, &quot;hypertension&quot;)
cdb.chars[tar].traits.bloodburst = nil</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Deathlore Bloodburst proc on</string>
                                    <string>^You use Deathlore Bloodburst proc on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>distortion</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;distortion&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Distortion has left</string>
                                    <string>^Distortion has left (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>glasslimb</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;glasslimb&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The eerie wail from</string>
                                    <string>^The eerie wail from (\w+)\'s resonating bones dies down as (?:he|she) manages to shrug off the glass limb effect\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>glasslimb proc</name>
                                <script>local str = selectString(&quot;Deathlore Frailty&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;glasslimb&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Deathlore Frailty Proc on</string>
                                    <string>^You use Deathlore Frailty Proc on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soul_disease</name>
                                <script>local tar = multimatches[2][2]

cdb.aff(tar, &quot;soul_disease&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>looks more robust and health as</string>
                                    <string>^(\w+) looks more robust and health as (?:his|her) soul\'s disease fades away\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soul_poison</name>
                                <script>local tar = multimatches[2][2]

cdb.aff(tar, &quot;soul_poison&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The tenebrous souls plaguing</string>
                                    <string>^The tenebrous souls plaguing (\w+) fade away with a wail\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soulchill</name>
                                <script>cdb.aff(multimatches[2][2], &quot;soulchill&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Colour returns to</string>
                                    <string>^Colour returns to (\w+) as the chill leaves (?:him|her)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soulpuncture</name>
                                <script>local tar = multimatches[2][2]

cdb.aff(tar, &quot;soulpuncture&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>draws in a ragged breath as the wound in</string>
                                    <string>^(\w+) draws in a ragged breath as the wound in (?:his|her) torso knits together\, stemming the spill of soul\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>wraith</name>
                                <script>cdb.aff(multimatches[2][2], &quot;wraith&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The sliver of soul infecting</string>
                                    <string>^The sliver of soul infecting (\w+) slowly fades\, its essence depleted\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>luminary</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shadow</name>
                                <script>local tar = multimatches[2][2]
cdb.aff(tar, &quot;shadow&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The curse of the sun has left</string>
                                    <string>^The curse of the sun has left (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>defenses</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>attempted</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>fangbarrier</name>
                            <script>local tar = multimatches[2][2]:title()
local t = cdb.chars[tar]

cdb.aff(tar, &quot;slickness&quot;)
cdb.aff(tar, &quot;asleep&quot;)
cdb.aff(tar, &quot;unconscious&quot;)

tmp.t_fb  = tmp.t_fb or {}
table.insert(tmp.t_fb, 1, tar)

timers.t_fb = timers.t_fb or {}
if timers.t_fb[tar] then killTimer(timers.t_fb[tar]) end
timers.t_fb[tar] = tempTimer(6, [[cdb.def(tmp.t_fb[1], &quot;fangbarrier&quot;, true)
											table.remove(tmp.t_fb, 1)
											send(&quot; &quot;)]])</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>applies</string>
                                <string>^(\w+) (?:quickly) applies (?:a sileris berry|the marrow from a slice of bone) to (?:him|her|his|her)(?: self| skin)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shield rebound</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>A dizzying beam of energy strikes you as your attack rebounds off of</string>
                                <string>^A dizzying beam of energy strikes you as your attack rebounds off of (\w+)'s shield\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>add</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shielded</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>angel aura</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>A gentle hum arises from</string>
                                    <string>^A gentle hum arises from (\w+)'s angel, as it raises a shield to protect (?:him|her)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>sand shield</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>hand upwards, a thin barrier of sand rising up before</string>
                                    <string>^(\w+) jerks (?:his|her) hand upwards\, a thin barrier of sand rising up before (?:him|her) in response to the gesture\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shield tattoo</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>A nearly invisible magical shield forms around</string>
                                    <string>^A nearly invisible magical shield forms around (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soul shield</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Several tormented souls swirl forth to encircle</string>
                                    <string>^Several tormented souls swirl forth to encircle (\w+)\'s form\, protecting \w+ from harm\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>wisp shield</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The wisp around the head of</string>
                                    <string>^The wisp around the head of (\w+) glows a dark red momentarily before forming a hardened shield around \w+\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>struck shield</name>
                                <script>local tar = multimatches[1][2]

cdb.def(tar, &quot;shielded&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>^A dizzying beam of energy strikes you as your attack rebounds off of (\w+)\'s shield\.$</string>
                                    <string>Equilibrium Used: </string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>1</integer>
                                    <integer>2</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>fangbarrier</name>
                            <script>local tar = multimatches[2][2]:title()
local t = cdb.chars[tar]

if timers.t_fb and timers.t_fb[tar] then killTimer(timers.t_fb[tar]) end

cdb.def(tar, &quot;fangbarrier&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>has formed around</string>
                                <string>^A (?:thick, hardened shell of bone marrow|supple purple shell of berry juice) has formed around (\w+)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>fangbarrier bite</name>
                            <script>local tar = multimatches[2][2]:title()
local t = cdb.chars[tar]

if timers.t_fb and timers.t_fb[tar] then killTimer(timers.t_fb[tar]) end

cdb.def(tar, &quot;fangbarrier&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You try to bite</string>
                                <string>^You try to bite (\w+)\, but your fangs are stopped by an odd waxy coating\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>fangbarrier mark</name>
                            <script>cdb.def(tmp.target, &quot;fangbarrier&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Mana Lost:</string>
                                <string>Your victim is protected by a hard coating.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>immunity</name>
                            <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;immunity&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>eyes and grits</string>
                                <string>^(\w+) closes (?:his|her) eyes and grits (?:his|her) teeth\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>rebounding</name>
                            <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;rebounding&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You suddenly perceive the vague outline of an aura of rebounding around</string>
                                <string>^You suddenly perceive the vague outline of an aura of rebounding around (\w+)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>rebounded</name>
                            <script>tmp.rebounded = true</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The attack rebounds back onto you!</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>insomnia up</name>
                            <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;insomnia&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>fists and grits</string>
                                <string>^(\w+) clenches (?:his|her) fists and grits (?:his|her) teeth\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>remove</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shielded</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>no regex</name>
                                <script>cdb.def(tmp.target:title(), &quot;shielded&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You touch your tattoo and summon the hammer but find nothing to strike.</string>
                                    <string>Your flames find no shield to destroy.</string>
                                    <string>Your target must be shielded in order to do that.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>third person</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList/>
                                <regexCodePropertyList/>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>flames</name>
                                    <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, nil)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>flames consume</string>
                                        <string>^\w+\'s flames consume (\w+)\'s shield\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>chaos hound</name>
                                    <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, nil)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>The chaos hound rips</string>
                                        <string>^The chaos hound rips (\w+)\'s magical shield to shreds\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>2</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </TriggerGroup>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>aggro</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, nil)
cdb.def(tar, &quot;rebounding&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The protective shield around</string>
                                    <string>^The protective shield around (\w+) dissipates\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bloodlust</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>lust for blood overwhelming it.</string>
                                    <string>^(\w+)\'s shield rapidly dissipates\, (?:his|her) lust for blood overwhelming it\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dhuriv reave</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Dhuriv Reave Strip (</string>
                                    <string>^You use Dhuriv Reave Strip \(\w+\) on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>flames</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your flames consume</string>
                                    <string>^Your flames consume (\w+)\'s shield\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>flay</name>
                                <script>local tar = multimatches[2][2]
local def = &quot;shielded&quot;

cdb.def(tar, def)
cdb.aff(tar, &quot;pacifism&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Subterfuge Flay on</string>
                                    <string>^You send your whip to flay (\w+)\'s shield defence\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>frenzy</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Hissing, you launch yourself at</string>
                                    <string>^Hissing, you launch yourself at (\w+) slamming into (?:his|her) shield\. Enraged\, you strike it repeatedly\, shattering it into a million translucent pieces\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hammer</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You touch your tattoo and a massive, translucent hammer rises up and shatters the magical shield surrounding</string>
                                    <string>^You touch your tattoo and a massive\, translucent hammer rises up and shatters the magical shield surrounding (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hound shatter</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Warhounds Shatter on</string>
                                    <string>^You use Warhounds Shatter on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>raze</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, nil)
if not o.stats.class == &quot;templar&quot; then cdb.def(tar, &quot;rebounding&quot;, nil) end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You raze</string>
                                    <string>^You raze (\w+)\'s magical shield with .*\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shield raze</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, nil)
cdb.def(tar, &quot;rebounding&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You lash out with</string>
                                    <string>^You lash out with .* and shatter (\w+)\'s translucent shield\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soul wraith</name>
                                <script>local str = selectString(&quot;Deathlore Wraith&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]

cdb.def(tar, &quot;shielded&quot;)
cdb.aff(tar, &quot;wraith&quot;)
cdb.aff(tar, &quot;weariness&quot;, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>uses Deathlore Wraith proc.</string>
                                    <string>^(\w+) uses Deathlore Wraith proc\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>warhounds bug</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>magical shield forcibly, shattering it into a thousand particles of light.</string>
                                    <string>^.* strikes (\w+)\'s magical shield forcibly\, shattering it into a thousand particles of light\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>wisp umbrage</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Hematurgy Umbrage on</string>
                                    <string>^You use Hematurgy Umbrage on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>sand slice</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.aff(tar, &quot;pacifism&quot;)
cdb.def(tar, &quot;shielded&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Sand coalesces before you into the form of a blade, and with an indifferent snap of the fingers, you send it to slice</string>
                                    <string>^Sand coalesces before you into the form of a blade\, and with an indifferent snap of the fingers\, you send it to slice (\w+)\'s shielded defence\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>stoneblast</name>
                                <script>if multimatches[2][3] == &quot;rebounding&quot; then return end

local tar = multimatches[2][2]

cdb.def(tar, &quot;shielded&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The stones rip apart </string>
                                    <string>^The stones rip apart (\w+)\'s (\w+) defence\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>rebounding</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>third person</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList/>
                                <regexCodePropertyList/>
                                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                    <name>angel strip</name>
                                    <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;rebounding&quot;, nil)</script>
                                    <triggerType>0</triggerType>
                                    <conditonLineDelta>0</conditonLineDelta>
                                    <mStayOpen>0</mStayOpen>
                                    <mCommand></mCommand>
                                    <packageName></packageName>
                                    <mFgColor>#ff0000</mFgColor>
                                    <mBgColor>#ffff00</mBgColor>
                                    <mSoundFile></mSoundFile>
                                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                    <regexCodeList>
                                        <string>'s angel stares passively, but powerfully, at</string>
                                        <string>^\w+\'s angel stares passively\, but powerfully\, at (\w+)\.$</string>
                                    </regexCodeList>
                                    <regexCodePropertyList>
                                        <integer>0</integer>
                                        <integer>1</integer>
                                    </regexCodePropertyList>
                                </Trigger>
                            </TriggerGroup>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>aggro</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;rebounding&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>aura of weapons rebounding disappears.</string>
                                    <string>^(\w+)\'s aura of weapons rebounding disappears\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>angel strip</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;rebounding&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You bid your angel strip a defence from</string>
                                    <string>^You bid your angel strip a defence from (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>blaze</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;rebounding&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>White flames suddenly encase</string>
                                    <string>^White flames suddenly encase .* as your attack strikes (\w+)\'s rebounding aura\, burning the aura away\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dhuriv reave</name>
                                <script>if multimatches[2][2] == &quot;shielded&quot; then return end

local tar = multimatches[2][3]:title()

cdb.def(tar, &quot;rebounding&quot;, nil)
cdb.def(tar, multimatches[2][2], nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Dhuriv Reave Strip (</string>
                                    <string>^You use Dhuriv Reave Strip \((\w+)\) on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>flay</name>
                                <script>local tar = multimatches[2][2]
local def = &quot;rebounding&quot;

cdb.def(tar, def)
cdb.aff(tar, &quot;pacifism&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Subterfuge Flay on</string>
                                    <string>^You send your whip to flay (\w+)\'s rebounding defence\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>raze</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;rebounding&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You raze</string>
                                    <string>^You raze (\w+)\'s aura of rebounding with .*\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shield raze</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;rebounding&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You lash out with</string>
                                    <string>^You lash out with .* and crumple (\w+)\'s aura of rebounding\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>sand slice</name>
                                <script>local cap = multimatches[2][3]
local tar = multimatches[2][2]
cdb.aff(tar, &quot;pacficism&quot;)
if cap ~= &quot;shielded&quot; then
	cdb.def(tar, &quot;rebounding&quot;)
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Sand coalesces before you into the form of a blade, and with an indifferent snap of the fingers, you send it to slice </string>
                                    <string>^Sand coalesces before you into the form of a blade\, and with an indifferent snap of the fingers\, you send it to slice (\w+)\'s (.+) defence\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>stoneblast</name>
                                <script>local tar = multimatches[2][2]

cdb.def(tar, &quot;rebounding&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The stones rip apart</string>
                                    <string>^The stones rip apart (\w+)\'s \w+ defence\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>fangbarrier</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>flay</name>
                                <script>local tar = multimatches[2][2]
local def = &quot;fangbarrier&quot;

cdb.def(tar, def)
cdb.aff(tar, &quot;pacifism&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Subterfuge Flay on</string>
                                    <string>^You send your whip to flay (\w+)\'s sileris defence\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>deadbreath</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You summon forth the decay in your withered lungs and direct it towards</string>
                                    <string>^You summon forth the decay in your withered lungs and direct it towards (\w+)\, and (his|her) protective coating melts away\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shield/rebounding absent</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>frenzy</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>With a low hiss, you launch yourself at</string>
                                    <string>^With a low hiss\, you launch yourself at (\w+)\, battering (him|her) in a frenzied flurry of strikes\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>strip</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dhuriv reave</name>
                                <script></script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Dhuriv Reave Strip</string>
                                    <string>^You use Dhuriv Reave Strip \((.+)\) on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>ab failed</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>flay</name>
                                <script>local tar = multimatches[2][2]
local def = multimatches[2][3]:gsub(&quot;sileris&quot;, &quot;fangbarrier&quot;):gsub(&quot;shield&quot;, &quot;shielded&quot;)

cdb.def(tar, def)
cdb.aff(tar, &quot;pacifism&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>1</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Subterfuge Flay (failure) on</string>
                                    <string>^You send your whip to flay (\w+)\'s (\w+) defence\, only to discover that (?:he|she) has no such protection\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hound shatter</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You use Warhounds Shatter (failure) on</string>
                                    <string>^You use Warhounds Shatter \(failure\) on (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>raze</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, nil)
cdb.def(tar, &quot;rebounding&quot;, nil)
cdb.def(tar, &quot;speed&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You whip</string>
                                    <string>^You whip .* through the air in front of (\w+)\, to no effect\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>raze speed</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, nil)
cdb.def(tar, &quot;rebounding&quot;, nil)
cdb.def(tar, &quot;speed&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You raze</string>
                                    <string>^You raze (\w+)\'s speed defence with .*\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shield raze</name>
                                <script>local tar = multimatches[2][2]:title()

cdb.def(tar, &quot;shielded&quot;, nil)
cdb.def(tar, &quot;rebounding&quot;, nil)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You lash out at </string>
                                    <string>^You lash out at (\w+) with .* but find no protective barriers to eliminate\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>insulation</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soulchill proc</name>
                                <script>local str = selectString(&quot;Deathlore Soulchill proc&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]

cdb.def(tar, &quot;insulation&quot;)
cdb.aff(tar, &quot;soulchill&quot;, true)

local time = tar:lower() .. &quot;_soulchill&quot;
if timers[time] then killTimer(timers[time]) end
timers[time] = tempTimer(15, [[cdb.chars.]] .. tar .. [[.affs.soulchill = nil]])</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>uses Deathlore Soulchill proc.</string>
                                    <string>^(\w+) uses Deathlore Soulchill proc\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deafness</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>angel spiritwrack</name>
                                <script>local tar = multimatches[2][2]

cdb.def(tar, &quot;deafness&quot;)
cdb.aff(tar, &quot;pacifism&quot;)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your angel restores</string>
                                    <string>^Your angel restores (\w+)\'s hearing\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>traits</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tumble start</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) begins to tumble towards the \w+\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tumbled</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) tumbles out to the (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>bloodmeld on</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^The runes incised on the face of the tablet rise slowly up into the air\, hovering in front of you momentarily before searing themselves into your flesh in an instant\. Just as quickly\, they flow into the center of the rune on (\w+) and sear themselves into (his|her) skin in a circle about the central rune\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>feed started</name>
                        <script>
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^Seeing your opportunity\, you grab (\w+) and pull (him|her) to you\, tilting (his|her) head back to expose soft flesh\. Licking your lips in sordid anticipation\, you bare your fangs and sink them luxuriously into the artery\, savoring the release of sweet fluid\. Raw pleasure overcomes you as the hot blood courses into your mouth\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>feed finished</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You reluctantly pull your fangs free of (\w+)\. With a fiendish grin\, you lick the remaining blood from your mouth\.$</string>
                            <string>^Your feeding is suddenly interrupted as (\w+) writhes free of your embrace\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shiftsoul on</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^Your body quivers as the blood soaks into the gland and begins to smolder in your grasp with unseen heat\. Slowly\, black smoke rises from your palms and suddenly engulfs (\w+) in the deadly fumes\. (He|She) cannot help but suddenly gasp in surprise\, drawing the smoke into (his|her) lungs where a blazing rune of blood appears upon (his|her) chest\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shiftsoul off</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You place your palms together, willing the soul rune placed upon (\w+) to activate\.$</string>
                            <string>^You feel the soul rune placed upon (\w+) grow weak, and finally disperse in a plume of foul smoke\.$</string>
                            <string>You haven't bound anyone with the shiftsoul ritual.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>prone</name>
                        <script>local tar = matches[2]:title()
cdb.trait(tar, &quot;prone&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+)\'s broken legs cause (?:him|her) to fall to the ground in a heap\.$</string>
                            <string>^Losing (?:his|her) balance\, (\w+) falls from (?:his|her) steed to the hard ground\.$</string>
                            <string>^You use Dhuriv Trip on (\w+)\.$</string>
                            <string>^\w+ uses Dhuriv Trip on (\w+)\.$</string>
                            <string>^(\w+) uses Stupidity Fall\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>stand</name>
                        <script>local tar = matches[2]:title()
cdb.trait(tar, &quot;prone&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) stands up and stretches (:?his|her) arms out wide\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shriveled chest</name>
                        <script>selectCurrentLine()
local str = selectString(&quot;Necromancy Shriveled Chest&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]:title()

cdb.trait(tar, &quot;shriveled_chest&quot;, true)
cdb.trait(tar, &quot;shriveling_chest&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You use Necromancy Shriveled Chest (activate) on</string>
                            <string>^You use Necromancy Shriveled Chest \(activate\) on (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shriveling chest</name>
                        <script>selectCurrentLine()
local str = selectString(&quot;Necromancy Shriveled Chest&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]:title()

cdb.trait(tar, &quot;shriveling_chest&quot;, true)
cdb.trait(tar, &quot;shriveled_chest&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You use Necromancy Shriveled Chest on</string>
                            <string>^You use Necromancy Shriveled Chest on (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>spiritwracked</name>
                        <script>local tar = multimatches[2][2]:title()
cdb.trait(tar, &quot;spiritwracked&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You nod gravely at your angel, who begins to glare piercingly at</string>
                            <string>^You nod gravely at your angel\, who begins to glare piercingly at (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>spiritwrack removed</name>
                        <script>for k, v in pairs(cdb.chars) do
	cdb.trait(k, &quot;spiritwracked&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your guardian angel ceases tormenting the spirit of her target.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>resources</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>contemplate</name>
                        <script>local tar = multimatches[2][2]:title()
local m = tonumber(multimatches[2][3])
local mm = tonumber(multimatches[2][4])

deleteLine()

cdb.chars[tar].mana = math.ceil(100*(m/mm))

fs.release()
tmp.contemplated = true</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>'s mana stands at</string>
                            <string>^(\w+)\'s mana stands at (\d+)\/(\d+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>mindburrow</name>
                        <script>can.nobal(&quot;mindburrow&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You use Hematurgy Mindburrow on</string>
                            <string>^You use Hematurgy Mindburrow on (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>defenses</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>deftable firstline</name>
                    <script>local str = selectString(matches[1], 1)
if isAnsiFgColor(0) then return end

defs.active = {}

for k, v in pairs(defs.trait) do
	defs.add(k, false, false)
end
		
if not gmcp or not gmcp.Char then return end

echo(&quot;\n&quot;)
if tonumber(gmcp.Char.Vitals.blind) == 1 then defs.add(&quot;blindness&quot;, true, true, false) end
if tonumber(gmcp.Char.Vitals.deaf) == 1 then defs.add(&quot;deafness&quot;, true, true) end
if tonumber(gmcp.Char.Vitals.cloak) == 1 then defs.add(&quot;cloak&quot;, true, true) end
if tonumber(gmcp.Char.Vitals.fangbarrier) == 1 then defs.add(&quot;fangbarrier&quot;, true, true) end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You have the following active defences:</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>deftable lastline</name>
                    <script>local str = selectString(matches[1], 1)
if isAnsiFgColor(0) then return end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^You are protected by \d+ defences.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>add</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>config message</name>
                        <script>local str = selectString(matches[1], 1)
if isAnsiFgColor(0) then return end

local def = matches[2]

deleteLine()

local gmcp_defs = { &quot;blindness&quot;, &quot;cloak&quot;, &quot;deafness&quot;, &quot;fangbarrier&quot; }
for i, v in ipairs(gmcp_defs) do
	if v == def then
		return
	end
end

defs.add(def, true, false, true)
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You have gained the (.*) defence\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>audit</name>
                        <script>deleteLine()
defs.add(multimatches[2][3] .. &quot;_audit&quot;, false)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your armour offers you</string>
                            <string>^Your armour offers you (\d+)\% increased protection to (\w+) damage\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shared</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>concentration</name>
                                <script>defs.add(&quot;blood_concentrate&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your blood is concentrated.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>constitution</name>
                                <script>defs.add(&quot;constitution&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are using your superior constitution to prevent nausea.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>elemental_fortify</name>
                                <script>defs.add(&quot;elemental_fortify&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are fortified by the elements.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>fitness</name>
                                <script>defs.add(&quot;fitness&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are utilising your bodily control to make yourself more fit.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>gripping</name>
                                <script>defs.add(&quot;gripping&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your hands are gripping your wielded items tightly.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hidden</name>
                                <script>defs.add(&quot;hidden&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have used great guile to conceal yourself.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>lifevision</name>
                                <script>defs.add(&quot;lifevision&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have enhanced your vision to be able to see traces of lifeforce.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>pacing</name>
                                <script>defs.add(&quot;pacing&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are paced for bursts of exertion.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>reflection</name>
                                <script>defs.add(&quot;reflection&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are surrounded by</string>
                                    <string>^You are surrounded by \d+ reflections of yourself\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>resistance</name>
                                <script>defs.add(&quot;resistance&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are resisting magical damage.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shroud</name>
                                <script>defs.add(&quot;shroud&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your actions are cloaked in secrecy.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>standfirm</name>
                                <script>defs.add(&quot;standfirm&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are standing firm against attempts to move you.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>toughness</name>
                                <script>defs.add(&quot;toughness&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your skin is toughened.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>vitality</name>
                                <script>defs.add(&quot;vitality&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You will call upon your fortitude in need.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>warding</name>
                                <script>defs.add(&quot;warding&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your body is steeled against magical energies.</string>
                                    <string>The ward of the Syssin protects your body.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>weathering</name>
                                <script>defs.add(&quot;weathering&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are immune to normal weather.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>nightsight</name>
                                <script>defs.add(&quot;nightsight&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your vision is heightened to see in the dark.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>celerity</name>
                                <script>defs.add(&quot;celerity&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your movements are supernaturally fast.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soulmask</name>
                                <script>defs.add(&quot;soulmask&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your soul is swathed in secrecy.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>celerity</name>
                            <script>defs.add(&quot;celerity&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>As you pant a peculiar growl, your blood flows with greater intensity in your veins and fills you with energy. You stretch your limbs in further preparation.</string>
                                <string>You draw upon your blood pool and send the mystical fluid racing through your entire body. You feel capable of supernaturally-fast movement.</string>
                                <string>You are already moving at supernatural speed.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>constitution</name>
                            <script>defs.add(&quot;constitution&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You clench the muscles in your stomach, determined to assert your superior constitution.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>disregarding</name>
                            <script>defs.add(&quot;disregarding&quot;, true, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You are disregarding your personal safety.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>simultaneity</name>
                            <script>if _gmcp.has_skill(&quot;simultaneity&quot;, &quot;elemancy&quot;) then
	if defs.active.channel_fire then
		defs.add(&quot;bind_fire&quot;, true, false)
		defs.traits(&quot;bind_fire&quot;)
	end

	if defs.active.channel_spirit then
		defs.add(&quot;bind_spirit&quot;, true, false)
		defs.traits(&quot;bind_spirit&quot;)
	end

	if defs.active.channel_water then
		defs.add(&quot;bind_water&quot;, true, false)
		defs.traits(&quot;bind_water&quot;)
	end
elseif _gmcp.has_skill(&quot;simultaneity&quot;, &quot;sciomancy&quot;) then
	if defs.active.channel_air then
		defs.add(&quot;bind_air&quot;, true, false)
		defs.traits(&quot;bind_air&quot;)
	end

	if defs.active.channel_earth then
		defs.add(&quot;bind_earth&quot;, true, false)
		defs.traits(&quot;bind_earth&quot;)
	end

	if defs.active.channel_shadow then
		defs.add(&quot;bind_shadow&quot;, true, false)
		defs.traits(&quot;bind_shadow&quot;)
	end
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>With your superior will and sustained effort, you bind all of the elements under your control to you simultaneously.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>soulmask</name>
                            <script>defs.add(&quot;soulmask&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You utter a short charm to mask your soul from prying eyes.</string>
                                <string>Dark energy surrounds your soul as you chant harshly to yourself, masking it from prying eyes.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>hidden</name>
                            <script>defs.add(&quot;hidden&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You beckon to the nearby shadows which eerily come alive, slithering toward you and up over your body until they conceal you from view.</string>
                                <string>You conceal yourself using all the guile you possess.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name> lifevision</name>
                            <script>defs.add(&quot;lifevision&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You narrow your eyes and blink rapidly, enhancing your vision to seek out sources of lifeforce in others.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>pacing</name>
                            <script>defs.add(&quot;pacing&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You begin to pace yourself and prepare for sudden bursts of exertion.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>warding</name>
                            <script>defs.add(&quot;warding&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You concentrate intensely, erecting an internal shield of warding against magical energies that would damage your body.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>animation</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>twinsoul</name>
                                <script>defs.add(&quot;twinsoul&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your soul is entwined around your golem's.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>avoidance</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>diverting</name>
                            <script>defs.add(&quot;diverting&quot;, true, false)

if multimatches[2][2] == defs.dodge.current then tmp.dodge = false end
</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You begin to focus your efforts on diverting damage from</string>
                                <string>^You begin to focus your efforts on diverting damage from (\w+) attacks\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>dodging</name>
                            <script>defs.add(&quot;dodging&quot;, true, false)
if _gmcp.has_skill(&quot;reflexivediversion&quot;, &quot;avoidance&quot;) then
	defs.add(&quot;diverting&quot;, true, false)
end

if multimatches[2][2] == defs.dodge.current then tmp.dodge = false end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You begin to focus your efforts on dodging</string>
                                <string>^You begin to focus your efforts on dodging (\w+) attacks.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>avoidance_fortify</name>
                                <script>defs.add(&quot;avoidance_fortify&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have prepared yourself for incoming attacks.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>diverting</name>
                                <script>defs.add(&quot;diverting&quot;, true, true)
if multimatches[2][2] ~= defs.dodge.current then
	tmp.dodge = true
else
	tmp.dodge = false
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are diverting</string>
                                    <string>^You are diverting (\w+) attacks.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>dodging</name>
                                <script>defs.add(&quot;dodging&quot;, true, true)
if multimatches[2][2] ~= defs.dodge.current then
	tmp.dodge = true
else
	tmp.dodge = false
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are dodging</string>
                                    <string>^You are dodging (\w+) attacks.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>nimbleness</name>
                                <script>defs.add(&quot;nimbleness&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are extremely nimble.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>battlefury</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>maingauche</name>
                                <script>defs.add(&quot;maingauche&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are prepared to counterattack against physical aggression.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>bladefire</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>bladefury</name>
                            <script>defs.add(&quot;bladefury&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You focus on your latent powers and prepare to unleash the fury of your blade.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bladefury</name>
                                <script>defs.add(&quot;bladefury&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are unleashing the fury of your blade.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>cures</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>density</name>
                                <script>defs.add(&quot;density&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are extremely heavy and difficult to move.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>instawake</name>
                                <script>defs.add(&quot;instawake&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are feeling extremely energetic.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>insulation</name>
                                <script>defs.add(&quot;insulation&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are insulated against the harsh cold.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>defup levitation</name>
                                <script>defs.add(&quot;levitation&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You walk on a small cushion of air.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>rebounding</name>
                                <script>defs.add(&quot;rebounding&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are protected from hand-held weapons with an aura of rebounding.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>speed</name>
                                <script>defs.add(&quot;speed&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your sense of time is heightened, and your reactions are speeded.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>temperance</name>
                                <script>defs.add(&quot;temperance&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are tempered against fire damage.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>venom_resistance</name>
                                <script>defs.add(&quot;venom_resistance&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your resistance to damage by poison has been increased.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>waterbreathing</name>
                                <script>defs.add(&quot;waterbreathing&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are surrounded by a pocket of air.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>corpus</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>elusion</name>
                            <script>defs.add(&quot;elusion&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You will elude physical blows directed at you.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>stalking</name>
                            <script>defs.add(&quot;stalking&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You silently summon the shadows to soften and conceal your footsteps.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>lifescent</name>
                            <script>defs.add(&quot;lifescent&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You attune your olfactory senses to the delicate traces of nearby mortal life.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>masquerade</name>
                            <script>defs.add(&quot;masquerade&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You focus your blood reserves, directing a small amount into the hollow, lifeless capillaries of your face and limbs. A ruddy tint quickly suffuses your complexion and as you will your fangs to retract, you look like the mortal you once were.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>deathlink</name>
                                <script>defs.add(&quot;deathlink&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your blood is strengthening the ties to your coffin.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>elusion</name>
                                <script>defs.add(&quot;elusion&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are eluding your opponents' blows.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>fortify</name>
                                <script>defs.add(&quot;fortify&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your flesh is fortified against damage.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>stalking</name>
                                <script>defs.add(&quot;stalking&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You stalk the night as a predator.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>lifescent</name>
                                <script>defs.add(&quot;lifescent&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You detect the movements of nearby mortals.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>masquerade</name>
                                <script>defs.add(&quot;masquerade&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have made your body appear mortal.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>potence</name>
                                <script>defs.add(&quot;potence&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are unnaturally strong.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>deathlore</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>cruelty</name>
                                <script>defs.add(&quot;cruelty&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your strength has been bolstered.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soul_fortify</name>
                                <script>defs.add(&quot;soul_fortify&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your soul has been fortified.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soul_fracture</name>
                                <script>defs.add(&quot;soul_fracture&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your soulstone is split to support your weapon, body, and armour.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soul_substitute</name>
                                <script>defs.add(&quot;soul_substitute&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You will substitute your soul with another upon dying.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soulharvest</name>
                                <script>defs.add(&quot;soulharvest&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are harvesting the souls of your victims.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soulthirst</name>
                                <script>defs.add(&quot;soulthirst&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your weapons thirst for the souls of your enemies.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>spiritsight</name>
                                <script>defs.add(&quot;spiritsight&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are seeking the souls of the hidden.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>desiccation</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>disturbances</name>
                                <script>defs.add(&quot;disturbances&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are attuned to disturbances within your sand domain.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>sand_conceal</name>
                                <script>defs.add(&quot;sand_conceal&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Sand is softening your footsteps.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>sand_swelter</name>
                                <script>defs.add(&quot;sand_swelter&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are focusing your energy into sweltering your sands.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>devotion</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>focus</name>
                            <script>defs.add(&quot;focus&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You bow your head in silent prayer, allowing your devotional energy to anchor you to the ground.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>truth</name>
                            <script>if defs.active.damariel_symbol then return end
defs.add(&quot;truth&quot;, true, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You invoke a divine demand for truth, and illusion is torn away.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bliss</name>
                                <script>defs.add(&quot;bliss&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are experiencing the pleasure of divine bliss.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>focus</name>
                                <script>defs.add(&quot;focus&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your Devotional energies are anchoring you to the ground.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>inspiration</name>
                                <script>defs.add(&quot;inspiration_&quot; .. multimatches[2][2]:gsub(&quot;resilience&quot;, &quot;constitution&quot;), true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>with divinely-inspired</string>
                                    <string>^Your \w+ (?:is|are) \w+ with divinely-inspired (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>truth</name>
                                <script>defs.add(&quot;truth&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your ability to detect the truth amidst lies is enhanced.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>dhuriv</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>flexibility</name>
                                <script>defs.add(&quot;flexibility&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your flexibility allows you to unentangle more easily.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>balancing</name>
                                <script>defs.add(&quot;balancing&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are focusing on staying on your feet.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>elemancy</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>bind_fire</name>
                            <script>defs.add(&quot;bind_fire&quot;, true)
defs.traits(&quot;bind_fire&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You bind the element of Fire to your superior will.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>channel_fire</name>
                            <script>defs.add(&quot;channel_fire&quot;, true)
defs.traits(&quot;channel_fire&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Elemental fire burns at your behest.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>bind_spirit</name>
                            <script>defs.add(&quot;bind_spirit&quot;, true)
defs.traits(&quot;bind_spirit&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You bind the element of Spirit to your superior will.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>channel_spirit</name>
                            <script>defs.add(&quot;channel_spirit&quot;, true)
defs.traits(&quot;channel_spirit&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The formidable powers of the Spirit are yours.</string>
                                <string>Your spirits lift, and a feeling of euphoria overtakes you.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>bind_water</name>
                            <script>defs.add(&quot;bind_water&quot;, true)
defs.traits(&quot;bind_water&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You bind the element of Water to your superior will.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>channel_water</name>
                            <script>defs.add(&quot;channel_water&quot;, true)
defs.traits(&quot;channel_water&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Purest water soothes you into calm.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>fireveil</name>
                                <script>defs.add(&quot;fireveil&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are protected by a veil of fire.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>waterward</name>
                                <script>defs.add(&quot;waterward&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>A thin layer of water ripples over your body.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>hematurgy</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>bloodmeld</name>
                            <script>if matches[2] ~= tmp.target:title() then return end

defs.add(&quot;bloodmeld&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The runes incised on the face of the tablet rise slowly up into the air, hovering in front of you momentarily before searing themselves into your flesh in an instant. Just as quickly, they flow into the center of the rune on</string>
                                <string>^The runes incised on the face of the tablet rise slowly up into the air\, hovering in front of you momentarily before searing themselves into your flesh in an instant\. Just as quickly\, they flow into the center of the rune on (\w+) and sear themselves into (?:his|her) skin in a circle about the central rune\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>sanguispect</name>
                            <script>defs.add(&quot;sanguispect&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Smoke from your pipe surrounds your tablet, absorbing the blood from within the incised runes. The smoke circles your chest, slowly spinning about until dissipating into the surrounding air and quickly being pulled back within the center of the rune painted on your skin. Your blood seems to concentrate within your chest, and you feel protected by its presence.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>scythestance</name>
                            <script>defs.add(&quot;scythestance&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You are already in your defensive stance.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shadowblow</name>
                            <script>defs.add(&quot;shadowblow&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Chilling shadows begin gathering around the runes inscribed on the tablet. You place your palm upon the shadows, and they crawl up your arm like ivy, clinging tightly.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shiftsoul</name>
                            <script>if multimatches[2][2] ~= tmp.target:title() then return end

defs.add(&quot;shiftsoul&quot;, true, false)
defs.traits(&quot;shiftsoul&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your body quivers as the blood soaks into the gland and begins to smolder in your grasp with unseen heat. Slowly, black smoke rises from your palms and suddenly engulfs</string>
                                <string>^Your body quivers as the blood soaks into the gland and begins to smolder in your grasp with unseen heat\. Slowly\, black smoke rises from your palms and suddenly engulfs (\w+) in the deadly fumes\. (?:He|She) cannot help but suddenly gasp in surprise\, drawing the smoke into (?:his|her) lungs where a blazing rune of blood appears upon (?:his|her) chest\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>wisp_bloodshield</name>
                            <script>defs.add(&quot;wisp_bloodshield&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You chant a guttural sound, and the wisp begins to spin wildly about your body.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>wisp_form</name>
                            <script>defs.add(&quot;wisp_form&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>With deliberate gestures, you cup the air around you and push it gently across your cold heart, summoning your blood wisp ally.</string>
                                <string>Your wisp is already floating about you.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>wisp_sacrifice</name>
                            <script>defs.add(&quot;wisp_sacrifice&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Drawing the wisp inside you, you sacrifice it for the sake of your blood pool.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>acid_blood</name>
                                <script>defs.add(&quot;acidblood&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Acidic blood flows in your veins.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>astralblur</name>
                                <script>defs.add(&quot;astralblur&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your vital signs are clouded from view.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bloodchill</name>
                                <script>defs.add(&quot;bloodchill&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Cold blood runs through your veins.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bloodmeld</name>
                                <script>defs.add(&quot;bloodmeld&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your blood is melded with another.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bloodshade</name>
                                <script>defs.add(&quot;bloodshade&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your blood protects you from the sun.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>broken_circle</name>
                                <script>defs.add(&quot;broken_circle&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The broken circle expands your ritualist's mind.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>mindsurge</name>
                                <script>defs.add(&quot;mindsurge&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your words bring pain to the mind.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>numbsense</name>
                                <script>defs.add(&quot;numbsense&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are blessed with numbed senses.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>sanguispect</name>
                                <script>defs.add(&quot;sanguispect&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your body is shielded by blood.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>scythestance</name>
                                <script>defs.add(&quot;scythestance&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are in a defensive stance.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shadowblow</name>
                                <script>defs.add(&quot;shadowblow&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Shadows are gathered around your arm, waiting to defend you.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shun_life</name>
                                <script>defs.add(&quot;shun_life&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>An aura of blood is scaring away the living.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>slicktongue</name>
                                <script>defs.add(&quot;slicktongue&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your tongue is slick with power.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>stillmind</name>
                                <script>defs.add(&quot;stillmind&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are benefiting from a stillmind.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>tonguelash</name>
                                <script>defs.add(&quot;tonguelash&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have sharpened your tongue.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>trill</name>
                                <script>defs.add(&quot;trill&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your tongue has been split.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>wisp_anxiety</name>
                                <script>defs.add(&quot;wisp_anxiety&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your wisp is causing anxiety to your enemies.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>wisp_bloodshield</name>
                                <script>defs.add(&quot;wisp_bloodshield&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your wisp is spinning wildly around you.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>wisp_form</name>
                                <script>defs.add(&quot;wisp_form&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your blood wisp floats about your head.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>wisp_sacrifice</name>
                                <script>defs.add(&quot;wisp_sacrifice&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have sacrificed your wisp for blood.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>wisp_stigmata</name>
                                <script>defs.add(&quot;wisp_stigmata&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your wisp is enticing the blood from your enemies.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>stilltongue</name>
                                <script>defs.add(&quot;stilltongue&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your tongue bears the wostu rune and will not move.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>horsemanship</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>mounted</name>
                            <script>--!todo: mounted handling

defs.add(&quot;mounted&quot;, true, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You are riding (.+)\.$</string>
                                <string>^You climb up on (.+)\.$</string>
                                <string>^You are already mounted on (.+)\.$</string>
                                <string>^You swiftly swing up onto (.+)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>illumination</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>discharge</name>
                            <script>defs.add(&quot;discharge&quot;, true, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You press your palms together and a faint blue aura surrounds your body.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>illumination_temperance</name>
                            <script>defs.add(&quot;illumination_temperance&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You call upon your inner spark to temper your body's toughness.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shine</name>
                            <script>defs.add(&quot;shine&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Evoking the power of light, you begin to glow with a radiance far surpassing anything known in Aetolia.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>boilingblood</name>
                                <script>defs.add(&quot;boilingblood&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your blood is boiling.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>discharge</name>
                                <script>defs.add(&quot;discharge&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are prepared to discharge energy.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>fireblock</name>
                                <script>defs.add(&quot;fireblock&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>A shield of flame protects you from blazing fires.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>illumination_temperance</name>
                                <script>defs.add(&quot;illumination_temperance&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your body has been tempered by the strength of your Inner Fire.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>lightshield</name>
                                <script>defs.add(&quot;lightshield&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are protected from light-based damage sources.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>rebirth</name>
                                <script>defs.add(&quot;rebirth&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have prepared your Inner Spark to bring about your Rebirth.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shine</name>
                                <script>defs.add(&quot;shine&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are glowing with a radiant light.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>kaido</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>boost_kaido_regeneration</name>
                                <script>defs.add(&quot;boost_kaido_regeneration&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your regeneration is boosted.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>consciousness</name>
                                <script>defs.add(&quot;consciousness&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are maintaining consciousness at all times.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>immunity</name>
                                <script>defs.add(&quot;immunity&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your blood is steeled against poisons.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>kaido_regeneration</name>
                                <script>defs.add(&quot;kaido_regeneration&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are regenerating lost health through the power of Kaido.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>kai_trance</name>
                                <script>defs.add(&quot;kai_trance&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are utilising the trance to store Kai energy.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>projectiles</name>
                                <script>defs.add(&quot;projectiles&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are alert to incoming projectiles.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>splitting</name>
                                <script>defs.add(&quot;splitting&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your mind is split, allowing constant meditation.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>boost_kaido_regeneration</name>
                            <script>defs.add(&quot;boost_kaido_regeneration&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You call upon your Kai power to boost your health regeneration.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>consciousness</name>
                            <script>defs.add(&quot;consciousness&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You will remain conscious at all times.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>immunity</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You close your eyes and grit your teeth, feeling the heat of the blood pumping through your veins.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>kai_trance</name>
                            <script>defs.add(&quot;kai_trance&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your mantra is complete - the Kai Trance is upon you.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>splitting</name>
                            <script>defs.add(&quot;splitting&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You begin to devote a portion of your Kaido-trained mind to constant, unconscious meditation.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>mentis</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bloodsense</name>
                                <script>defs.add(&quot;bloodsense&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are sensing the bleeding of others.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>naturalism</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>greenfoot</name>
                                <script>defs.table(&quot;greenfoot&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Plants sprout before your footsteps.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>whispers</name>
                                <script>defs.add(&quot;whispers&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are attuned to the whispers of movement in your overgrowths.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>necromancy</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>blackwind</name>
                                <script>defs.add(&quot;blackwind&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>As an insubstantial black wind, you are immune to most attacks.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>deathaura</name>
                                <script>defs.add(&quot;deathaura&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are emanating an aura of death harmful to those around you.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>gravechill</name>
                                <script>defs.add(&quot;gravechill&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The cold of the grave has filled your body.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>putrefaction</name>
                                <script>defs.add(&quot;putrefaction&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are bathed in the glorious protection of decaying flesh.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>soulcage</name>
                                <script>defs.add(&quot;soulcage&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your being is protected by the soulcage.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>vengeance</name>
                                <script>defs.add(&quot;vengeance&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have sworn vengeance upon those who would slay you.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deathaura</name>
                            <script>defs.add(&quot;deathaura&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You let the blackness of your soul pour forth.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>gravechill</name>
                            <script>defs.add(&quot;gravechill&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The chill of the grave fills your inner core and limbs, waiting to spread through your decays.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>putrefaction</name>
                            <script>defs.add(&quot;putrefaction&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You concentrate for a moment and your flesh begins to dissolve away, becoming slimy and wet.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>numerology</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>fixed</name>
                                <script>defs.add(&quot;fixed&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have been fixed to the ground.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>link</name>
                                <script>defs.add(&quot;link&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The states of your body and mind are joined.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>numerology_constitution</name>
                                <script>defs.add(&quot;numerology_constitution&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have fortified your health.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>spheres</name>
                                <script>defs.add(&quot;spheres&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are attuned to the music of the spheres.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>recognition</name>
                                <script>defs.add(&quot;recognition&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are recognizing masking afflictions.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>veiled</name>
                                <script>defs.add(&quot;veiled&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are veiled.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>contemplate</name>
                            <script>local def = &quot;contemplate_&quot; .. multimatches[2][2]:gsub(&quot;'&quot;, &quot;_&quot;)

defs.add(def, true, false)
defs.traits(def, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You begin to contemplate the mysteries of</string>
                                <string>^You begin to contemplate the mysteries of (\w+)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>fixed</name>
                            <script>defs.add(&quot;fixed&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You clear your mind of all but the strength of immovability and fix yourself in place.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>link</name>
                            <script>defs.add(&quot;link&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You meditate deeply on the connection between your body and your mind, strengthening and merging the bond until your physical and mental faculties become one.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>numerology_constitution</name>
                            <script>defs.add(&quot;numerology_constitution&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>As you focus mightily upon jherza, you feel health and vigor coursing through your veins.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>spheres</name>
                            <script>defs.add(&quot;spheres&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Finally, your heart stops racing as your soul cries in harmony with the heavens themselves.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>recognition</name>
                            <script>defs.add(&quot;recognition&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You are in complete control of your body, and your enemies can no longer deceive you about its ailments.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>veiled</name>
                            <script>defs.add(&quot;veiled&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You concentrate upon your location, snatching knowledge of your whereabouts from all others and gathering the veil of obscurity about your form.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>primality</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>lifebloom</name>
                                <script>defs.add(&quot;lifebloom&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have been gifted with the bloom of life.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>raceskills</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>miasma</name>
                            <script>defs.add(&quot;miasma&quot;, true, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You have the miasma of an Azudim.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>safeguard</name>
                            <script>defs.add(&quot;safeguard&quot;, true, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You have the safeguard of an Idreth.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>ward</name>
                            <script>defs.add(&quot;ward&quot;, true, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You are protected by the strength of the Ankyreans.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>warmth</name>
                            <script>defs.add(&quot;warmth&quot;, true, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You have the warmth of a Yeleni.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>refining</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>disperse</name>
                                <script>defs.add(&quot;disperse&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are ready to disperse the next entanglement.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>divine_speed</name>
                                <script>defs.add(&quot;divine_speed&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have been granted the speed of the Divine.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>mist_blue</name>
                                <script>defs.add(&quot;mist_blue&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are diffused by a blue mist.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>mist_green</name>
                                <script>defs.add(&quot;mist_green&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are diffused by a green mist.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>mist_red</name>
                                <script>defs.add(&quot;mist_red&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are diffused by a red mist.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>mist_yellow</name>
                                <script>defs.add(&quot;mist_yellow&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are diffused by a yellow mist.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>vigor</name>
                                <script>defs.add(&quot;vigor&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have been invigorated with strength.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>energy_shell</name>
                                <script>defs.add(&quot;energy_shell&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are protected by a residual shell.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>eld_crit</name>
                                <script>defs.add(&quot;eld_crit&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your hits are empowered against the Eld.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>righteousness</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>aura</name>
                                <script>defs.add(multimatches[2][2]:lower() .. &quot;_aura&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are protected by an aura of</string>
                                    <string>^You are protected by an aura of (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>blessing</name>
                                <script>local blessings = {
	&quot;accuracy&quot;,
	&quot;cleansing&quot;,
	&quot;healing&quot;,
	&quot;justice&quot;,
	&quot;meditation&quot;,
	&quot;pestilence&quot;,
	&quot;protection&quot;,
	&quot;purity&quot;,
	&quot;redemption&quot;,
	&quot;spellbane&quot;,
}

for _, e in ipairs(blessings) do
	if multimatches[2][2]:match(e) then
		defs.add(e:lower() .. &quot;_blessing&quot;, true, true)
	end
end</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are benefiting from the blessings of</string>
                                    <string>^You are benefiting from the blessings of (.*)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>aura</name>
                            <script>defs.add(multimatches[2][2]:lower() .. &quot;_aura&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You focus momentarily as you envelop yourself in the righteous aura of</string>
                                <string>^You focus momentarily as you envelop yourself in the righteous aura of (\w+)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>blessing</name>
                            <script>defs.add(multimatches[2][2]:lower() .. &quot;_blessing&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>aura and draw its power into you, focusing it onto your body.</string>
                                <string>^You focus on your (\w+) aura and draw its power into you\, focusing it onto your body\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>sanguis</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>blood_affinity</name>
                                <script>defs.add(&quot;blood_affinity&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have formed an affinity with your minion.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>blood_affinity</name>
                            <script>defs.add(&quot;blood_affinity&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You cast a hard gaze at</string>
                                <string>^You cast a hard gaze at a \w+ and will your blood bond to strengthen and fortify\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>savagery</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bruteforce</name>
                                <script>defs.add(&quot;bruteforce&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are striking with great force.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>fearless</name>
                                <script>defs.add(&quot;fearless&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are completely fearless.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>furor</name>
                                <script>defs.add(&quot;furor&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are in a bloody rage.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>herculeanrage</name>
                                <script>defs.add(&quot;herculeanrage&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have flown into a battle rage.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>reckless</name>
                                <script>defs.add(&quot;reckless&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are fighting recklessly.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>reveling</name>
                                <script>defs.add(&quot;reveling&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are deriving pleasure from pain inflicted upon others.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>stalwart</name>
                                <script>defs.add(&quot;stalwart&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are blocking exits with tenacity.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>sciomancy</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>galeward</name>
                                <script>defs.add(&quot;galeward&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>A swirling layer of air protects you.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>stoneskin</name>
                                <script>defs.add(&quot;stoneskin&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Magically supple granite coats your body.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>bind_air</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You bind the element of Water to your superior will.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>channel_air</name>
                            <script>defs.add(&quot;channel_air&quot;, true)
defs.traits(&quot;channel_air&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The power of air is harnessed to your will.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>bind_earth</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You bind the element of Water to your superior will.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>channel_earth</name>
                            <script>defs.add(&quot;channel_earth&quot;, true)
defs.traits(&quot;channel_earth&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The strength of earth is at your command.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>bind_shadow</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You bind the element of Water to your superior will.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>channel_shadow</name>
                            <script>defs.add(&quot;channel_shadow&quot;, true)
defs.traits(&quot;channel_shadow&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The primal force of the Shadow bends to your will.</string>
                                <string>A cold shadow grips your heart, veiling your emotions.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shamanism</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>oath_blade</name>
                                <script>defs.add(&quot;oath_blade&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have enacted the Oath of Nature's Blade.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>oath_durdalis</name>
                                <script>defs.add(&quot;oath_durdalis&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have enacted the Oath of the Durdalis.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>oath_forestwalker</name>
                                <script>defs.add(&quot;oath_forestwalker&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have enacted the Oath of the Forestwalker.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>oath_primeval</name>
                                <script>defs.add(&quot;oath_primeval&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have enacted the Oath of the Primeval.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>oath_rhythm</name>
                                <script>defs.add(&quot;oath_rhythm&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have enacted the Oath of the Rhythm.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>oath_shaman</name>
                                <script>defs.add(&quot;oath_shaman&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have enacted the Oath of the Elder Shaman.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>oath_tranquility</name>
                                <script>defs.add(&quot;oath_tranquility&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have enacted the Oath of Tranquility.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>protection</name>
                                <script>defs.add(&quot;protection&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>A protective rune guards you from harm.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shaman_warding</name>
                                <script>defs.add(&quot;shaman_warding&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>A ball of lightning wards your limbs.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shamanism_spiritsight</name>
                                <script>defs.add(&quot;shamanism_spiritsight&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are discerning the spirit of others.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>spiritbond</name>
                                <script>defs.add(&quot;spiritbond&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You share a deepened bond with your familiar.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>tethering</name>
                                <script>defs.add(&quot;tethering&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are focusing on keeping your familiar tethered to this realm.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shapeshifting</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>cornering</name>
                            <script>defs.add(&quot;cornering&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You will now begin to corner your enemies.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>stealth</name>
                            <script>defs.add(&quot;stealth&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You will now move in total silence.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>berserk</name>
                                <script>defs.add(&quot;berserk&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have the berserk defence.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bodyheat</name>
                                <script>defs.add(&quot;bodyheat&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have the bodyheat defence.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>cornering</name>
                                <script>defs.add(&quot;cornering&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You will corner your enemies.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hardening</name>
                                <script>defs.add(&quot;hardening&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your bones have been hardened greatly.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>heatsight</name>
                                <script>defs.add(&quot;heatsight&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are sensing the heat of others.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>metabolism</name>
                                <script>defs.add(&quot;metabolism&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have the metabolism defence.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>mutated</name>
                                <script>defs.add(&quot;mutated&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have mutated into the form of a</string>
                                    <string>^You have mutated into the form of a \w+\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>quietus_reprieve</name>
                                <script>defs.add(&quot;quietus_reprieve&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have the quietus_reprieve defence.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>salivating</name>
                                <script>defs.add(&quot;salivating&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have the salivating defence.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>stealth</name>
                                <script>defs.add(&quot;stealth&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your movements are incredibly stealthy.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>thickhide</name>
                                <script>defs.add(&quot;thickhide&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your hide is thickened.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>spirituality</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>symbols</name>
                                <script>defs.add(multimatches[2][2]:lower() .. &quot;_symbol&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are aided by the symbol of</string>
                                    <string>^You are aided by the symbol of (\w+)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>subterfuge</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>listening</name>
                            <script>defs.add(&quot;listening&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You listen intently to the</string>
                                <string>^You listen intently to the \w+\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>phased</name>
                            <script>defs.add(&quot;phased&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>A short burst of azure light fills your vision and when it is gone, you find yourself phased out of sync with the rest of reality.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>weaving</name>
                            <script>defs.add(&quot;weaving&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You summon up all your agility and begin to weave back and forth to avoid blows.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>ghosted</name>
                                <script>defs.add(&quot;ghosted&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are shimmering with a ghostly light.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>lipreading</name>
                                <script>defs.add(&quot;lipreading&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are lipreading to overcome deafness.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>listening</name>
                                <script>defs.add(&quot;listening&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are listening in on another conversation.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>phased</name>
                                <script>defs.add(&quot;phased&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Phased slightly out of reality, you are effectively untouchable.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shadowsight</name>
                                <script>defs.add(&quot;shadowsight&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are watching the shadows.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shadowslip</name>
                                <script>defs.add(&quot;shadowslip&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You will slip into the shadows after killng.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>weaving</name>
                                <script>defs.add(&quot;weaving&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Cobra-like, you weave back and forth to dodge blows.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>survival</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>clarity</name>
                                <script>defs.add(&quot;clarity&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your mind is filled with clarity.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>insomnia</name>
                                <script>defs.add(&quot;insomnia&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have insomnia, and cannot easily go to sleep.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>metawake</name>
                                <script>defs.add(&quot;insomnia&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are concentrating on maintaining distance from the dreamworld.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>selfishness</name>
                                <script>defs.add(&quot;selfishness&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are feeling quite selfish.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>telesense</name>
                                <script>defs.add(&quot;telesense&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are attuned to local telepathic interference.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>vigilance</name>
                                <script>defs.add(&quot;vigilance&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are vigilant to attempts to hypnotise you.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tarot</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>hierophant</name>
                            <script>defs.add(&quot;hierophant&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You quickly fling a Hierophant tarot card at yourself and feel somewhat protected.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>adder</name>
                                <script>defs.add(&quot;adder&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The Adder waits to strike.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>devilpact</name>
                                <script>defs.add(&quot;devilpact&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have made a deal with the Devil.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>eclipse</name>
                                <script>defs.add(&quot;eclipse&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>The Eclipse is looming to mask your Sun and Moon.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hierophant</name>
                                <script>defs.add(&quot;hierophant&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are protected by the intimidating presence of the Hierophant.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tekura</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>armblock</name>
                                <script>defs.add(&quot;armblock&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You will attack the arms of hostile opponents.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>bodyblock</name>
                                <script>defs.add(&quot;bodyblock&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are trying to absorb blows to your body.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>evadeblock</name>
                                <script>defs.add(&quot;evadeblock&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are using Tekura to evade incoming attacks.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>legblock</name>
                                <script>defs.add(&quot;legblock&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You will attack the legs of hostile opponents.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>pinchblock</name>
                                <script>defs.add(&quot;pinchblock&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You will try to pinch block a weakened foe.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>tekura_dodging</name>
                                <script>defs.add(&quot;tekura_dodging&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are watching your surroundings for danger.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>telepathy</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>mindcloak</name>
                            <script>defs.add(&quot;mindcloak&quot;, true, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You will now begin to concentrate on cloaking your telepathy.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>mindnet</name>
                            <script>defs.add(&quot;mindnet&quot;, true, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You cast an invisible mind net out into the distance, allowing it to settle about the surrounding land.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>mindcloak</name>
                                <script>defs.add(&quot;mindcloak&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are cloaking your attempts at establishing a mindlock.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>mindnet</name>
                                <script>defs.add(&quot;mindnet&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have cast a mindnet over the local area.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>terramancy</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>momentum</name>
                            <script>defs.add(&quot;momentum&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You bow your head, concentrating and matching your heartbeat to the vibrations of the earth beneath you. When you raise your eyes, you feel your body ready to strike.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>runemark</name>
                            <script>local minor = multimatches[2][2] .. &quot;_minor&quot;
local major = multimatches[2][3] .. &quot;_major&quot;

defs.add(minor, true, false)
defs.add(major, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You quickly inscribe</string>
                                <string>^You quickly inscribe a (\w+) rune upon a (\w+) rune on yourself with ink\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>entwine</name>
                                <script>defs.add(&quot;entwine&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are preparing to entwine your flail against hostile weapons.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>earth_resonance</name>
                                <script>defs.add(&quot;earth_resonance&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your soul is resonating with the earth.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>earthenform</name>
                                <script>defs.add(&quot;earthenform&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have embraced your earthen form.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>imbue_erosion</name>
                                <script>defs.add(&quot;imbue_erosion&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your flail imbued with the raw force of the desert.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>imbue_stonefury</name>
                                <script>defs.add(&quot;imbue_stonefury&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have imbued the fury of the Earthen into your flail.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>imbue_will</name>
                                <script>defs.add(&quot;imbue_will&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are channeling the will of the Earthen.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>momentum</name>
                                <script>defs.add(&quot;momentum&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are moving with increased momentum.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>richochet</name>
                                <script>defs.add(&quot;ricochet&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are attempting to bounce your attempts off parried blows.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>runemark</name>
                                <script>defs.add(multimatches[2][2] .. &quot;_minor&quot;, true, true)
defs.add(multimatches[2][3] .. &quot;_major&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>minor rune painted upon a</string>
                                    <string>^You have a (\w+) minor rune painted upon a (\w+) major rune\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>stonebind</name>
                                <script>defs.add(&quot;stonebind&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your arms have been bound in stone.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>surefooted</name>
                                <script>defs.add(&quot;surefooted&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are concentrating on maintaining a sure foot.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tattoos</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>tattoos</name>
                            <script>defs.add(multimatches[2][2] .. &quot;_tattoo&quot;, true, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>tattoo has been activated</string>
                                <string>^Your (\w+) tattoo has been activated\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>book_tattoo</name>
                            <script>defs.add(&quot;book_tattoo&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>As you touch the book tattoo, you feel your mind begin to race.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>book_tattoo</name>
                                <script>defs.add(&quot;book_tattoo&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your mind is racing from the effects of the Book tattoo.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>chameleon</name>
                                <script>defs.add(&quot;chameleon&quot;, true, true)
</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have assumed the identity of</string>
                                    <string>^You have assumed the identity of .*\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>2</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>mindseye</name>
                                <script>defs.add(&quot;mindseye&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your senses are magically heightened.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>shielded</name>
                                <script>defs.add(&quot;shielded&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are surrounded by a nearly invisible magical shield.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>starburst</name>
                                <script>defs.add(&quot;starburst&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You walk with the grace of the stars.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tracking</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>alacrity</name>
                                <script>defs.add(&quot;alacrity&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are reloading your crossbow with ease.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>masked_scent</name>
                                <script>defs.add(&quot;masked_scent&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have the masked_scent defence.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>vision</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>hypersight</name>
                            <script>defs.add(&quot;hypersight&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You concentrate your mind and engage your ability of hypersight.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>alertness</name>
                                <script>defs.add(&quot;alertness&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your senses are attuned to nearby movement.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>deathsight</name>
                                <script>defs.add(&quot;deathsight&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your mind has been touched by the essence of the Underking.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>detection</name>
                                <script>defs.add(&quot;detection&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are detecting the presence of foci.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>eagleeye</name>
                                <script>defs.add(&quot;eagleeye&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your vision is trained for incoming projectiles.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hypersight</name>
                                <script>defs.add(&quot;hypersight&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are utilising hypersight.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>skywatch</name>
                                <script>defs.add(&quot;skywatch&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are aware of movement in the skies.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>thirdeye</name>
                                <script>defs.add(&quot;thirdeye&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You possess the sight of the third eye.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>treewatch</name>
                                <script>defs.add(&quot;treewatch&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are watching the trees for signs of movement.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>nightsight</name>
                                <script>defs.add(&quot;nightsight&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your vision sharpens with light as you gain nightsight.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>vocalizing</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>attuning</name>
                            <script>defs.add(&quot;attuning&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You focus on attuning your calls against attack, your subconscious mind protects you from ceasing your</string>
                                <string>^You focus on attuning your calls against attack\, your subconscious mind protects you from ceasing your \w+\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>boneshaking</name>
                            <script>defs.add(&quot;boneshaking&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You begin to relax and constrict your throat alternately, letting your</string>
                                <string>^You begin to relax and constrict your throat alternately\, letting your \w+ gain strength as they pour out of your throat\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>snarling</name>
                            <script>defs.add(&quot;snarling&quot;, true, false)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You begin a low snarl, concealing the true sound of your</string>
                                <string>^You begin a low snarl, concealing the true sound of your \w+\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>attuning</name>
                                <script>defs.add(&quot;attuning&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your vocal cords are protected by attuning.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>boneshaking</name>
                                <script>defs.add(&quot;boneshaking&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your howls are shaking the bones of your victims.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>echoing</name>
                                <script>defs.add(&quot;echoing&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your howls are echoing back upon you.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>snarling</name>
                                <script>defs.add(&quot;snarling&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are snarling to hide your howls.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>trait</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>howl begin</name>
                                <script>local to_def = {
	[&quot;Angry&quot;] = &quot;howl_hatred&quot;,
	[&quot;Baleful&quot;] = &quot;howl_sensitivity&quot;,
	[&quot;Berserking&quot;] = &quot;howl_berserking&quot;,
	[&quot;Befuddling&quot;] = &quot;howl_confusion&quot;,
	[&quot;Comforting&quot;] = &quot;howl_mana&quot;,
	[&quot;Confining&quot;] = &quot;howl_claustrophobia&quot;,
	[&quot;Debilitating&quot;] = &quot;howl_weariness&quot;,
	[&quot;Deep&quot;] = &quot;howl_plodding&quot;,
	[&quot;Deranged&quot;] = &quot;howl_hallucinations&quot;,
	[&quot;Dumbing&quot;] = &quot;howl_idiocy&quot;,
	[&quot;Disruptive&quot;] = &quot;howl_portalbane&quot;,
	[&quot;Distasteful&quot;] = &quot;howl_anorexia&quot;,
	[&quot;Disturbing&quot;] = &quot;howl_disrupted&quot;,
	[&quot;Enfeebling&quot;] = &quot;howl_enfeebling&quot;,
	[&quot;Fearful&quot;] = &quot;howl_fear&quot;,
	[&quot;Forceful&quot;] = &quot;howl_prone&quot;,
	[&quot;Hypnotic&quot;] = &quot;howl_hypersomnia&quot;,
	[&quot;Invigorating&quot;] = &quot;howl_endurance&quot;,
	[&quot;Lethargic&quot;] = &quot;howl_lethargy&quot;,
	[&quot;Lulling&quot;] = &quot;howl_asleep&quot;,
	[&quot;Mind_numbing&quot;] = &quot;howl_stupidity&quot;,
	[&quot;Mourning&quot;] = &quot;howl_blurry_vision&quot;,
	[&quot;Muddling&quot;] = &quot;howl_magic_impaired&quot;,
	[&quot;Paralyzing&quot;] = &quot;howl_paresis&quot;,
	[&quot;Piercing&quot;] = &quot;howl_no_deaf&quot;,
	[&quot;Rejuvenating&quot;] = &quot;howl_willpower&quot;,
	[&quot;Roaring&quot;] = &quot;howl_health_drain&quot;,
	[&quot;Rousing&quot;] = &quot;howl_recklessness&quot;,
	[&quot;Screeching&quot;] = &quot;howl_mana_drain&quot;,
	[&quot;Serenading&quot;] = &quot;howl_serenading&quot;,
	[&quot;Soothing&quot;] = &quot;howl_health&quot;,
	[&quot;Stomach_churning&quot;] = &quot;howl_vomiting&quot;,
	[&quot;Traumatic&quot;] = &quot;howl_amnesia&quot;,
}

local howl = multimatches[2][2]:gsub(&quot;-&quot;, &quot;_&quot;)

defs.add(to_def[howl], true, false)
defs.traits(to_def[howl])</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Vocalization (begin).</string>
                                    <string>^You use\s+(.+)\s+Vocalization \(begin\)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>howl tick</name>
                                <script>local to_def = {
	[&quot;Angry&quot;] = &quot;howl_hatred&quot;,
	[&quot;Baleful&quot;] = &quot;howl_sensitivity&quot;,
	[&quot;Berserking&quot;] = &quot;howl_berserking&quot;,
	[&quot;Befuddling&quot;] = &quot;howl_confusion&quot;,
	[&quot;Comforting&quot;] = &quot;howl_mana&quot;,
	[&quot;Confining&quot;] = &quot;howl_claustrophobia&quot;,
	[&quot;Debilitating&quot;] = &quot;howl_weariness&quot;,
	[&quot;Deep&quot;] = &quot;howl_plodding&quot;,
	[&quot;Deranged&quot;] = &quot;howl_hallucinations&quot;,
	[&quot;Dumbing&quot;] = &quot;howl_idiocy&quot;,
	[&quot;Disruptive&quot;] = &quot;howl_portalbane&quot;,
	[&quot;Distasteful&quot;] = &quot;howl_anorexia&quot;,
	[&quot;Disturbing&quot;] = &quot;howl_disrupted&quot;,
	[&quot;Enfeebling&quot;] = &quot;howl_enfeebling&quot;,
	[&quot;Fearful&quot;] = &quot;howl_fear&quot;,
	[&quot;Forceful&quot;] = &quot;howl_prone&quot;,
	[&quot;Hypnotic&quot;] = &quot;howl_hypersomnia&quot;,
	[&quot;Invigorating&quot;] = &quot;howl_endurance&quot;,
	[&quot;Lethargic&quot;] = &quot;howl_lethargy&quot;,
	[&quot;Lulling&quot;] = &quot;howl_asleep&quot;,
	[&quot;Mind_numbing&quot;] = &quot;howl_stupidity&quot;,
	[&quot;Mourning&quot;] = &quot;howl_blurry_vision&quot;,
	[&quot;Muddling&quot;] = &quot;howl_magic_impaired&quot;,
	[&quot;Paralyzing&quot;] = &quot;howl_paresis&quot;,
	[&quot;Piercing&quot;] = &quot;howl_no_deaf&quot;,
	[&quot;Rejuvenating&quot;] = &quot;howl_willpower&quot;,
	[&quot;Roaring&quot;] = &quot;howl_health_drain&quot;,
	[&quot;Rousing&quot;] = &quot;howl_recklessness&quot;,
	[&quot;Screeching&quot;] = &quot;howl_mana_drain&quot;,
	[&quot;Serenading&quot;] = &quot;howl_serenading&quot;,
	[&quot;Soothing&quot;] = &quot;howl_health&quot;,
	[&quot;Stomach_churning&quot;] = &quot;howl_vomiting&quot;,
	[&quot;Traumatic&quot;] = &quot;howl_amnesia&quot;,
}

local howl = multimatches[2][2]:gsub(&quot;-&quot;, &quot;_&quot;):title()

defs.add(to_def[howl], true, false)
defs.traits(to_def[howl])</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>continues to pour from your throat, hitting</string>
                                    <string>^Your\s+(.+)\s+(howl|roar|shriek|squeal) continues to pour from your throat\, hitting</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>howl end</name>
                                <script>local to_def = {
	[&quot;Angry&quot;] = &quot;howl_hatred&quot;,
	[&quot;Baleful&quot;] = &quot;howl_sensitivity&quot;,
	[&quot;Berserking&quot;] = &quot;howl_berserking&quot;,
	[&quot;Befuddling&quot;] = &quot;howl_confusion&quot;,
	[&quot;Comforting&quot;] = &quot;howl_mana&quot;,
	[&quot;Confining&quot;] = &quot;howl_claustrophobia&quot;,
	[&quot;Debilitating&quot;] = &quot;howl_weariness&quot;,
	[&quot;Deep&quot;] = &quot;howl_plodding&quot;,
	[&quot;Deranged&quot;] = &quot;howl_hallucinations&quot;,
	[&quot;Dumbing&quot;] = &quot;howl_idiocy&quot;,
	[&quot;Disruptive&quot;] = &quot;howl_portalbane&quot;,
	[&quot;Distasteful&quot;] = &quot;howl_anorexia&quot;,
	[&quot;Disturbing&quot;] = &quot;howl_disrupted&quot;,
	[&quot;Enfeebling&quot;] = &quot;howl_enfeebling&quot;,
	[&quot;Fearful&quot;] = &quot;howl_fear&quot;,
	[&quot;Forceful&quot;] = &quot;howl_prone&quot;,
	[&quot;Hypnotic&quot;] = &quot;howl_hypersomnia&quot;,
	[&quot;Invigorating&quot;] = &quot;howl_endurance&quot;,
	[&quot;Lethargic&quot;] = &quot;howl_lethargy&quot;,
	[&quot;Lulling&quot;] = &quot;howl_asleep&quot;,
	[&quot;Mind_numbing&quot;] = &quot;howl_stupidity&quot;,
	[&quot;Mourning&quot;] = &quot;howl_blurry_vision&quot;,
	[&quot;Muddling&quot;] = &quot;howl_magic_impaired&quot;,
	[&quot;Paralyzing&quot;] = &quot;howl_paresis&quot;,
	[&quot;Piercing&quot;] = &quot;howl_no_deaf&quot;,
	[&quot;Rejuvenating&quot;] = &quot;howl_willpower&quot;,
	[&quot;Roaring&quot;] = &quot;howl_health_drain&quot;,
	[&quot;Rousing&quot;] = &quot;howl_recklessness&quot;,
	[&quot;Screeching&quot;] = &quot;howl_mana_drain&quot;,
	[&quot;Serenading&quot;] = &quot;howl_serenading&quot;,
	[&quot;Soothing&quot;] = &quot;howl_health&quot;,
	[&quot;Stomach_churning&quot;] = &quot;howl_vomiting&quot;,
	[&quot;Traumatic&quot;] = &quot;howl_amnesia&quot;,
}

local howl = multimatches[2][2]:gsub(&quot;-&quot;, &quot;_&quot;)

defs.rem(to_def[howl], true)
defs.traits(to_def[howl], true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Vocalization (end).</string>
                                    <string>^You use\s+(.*)\s+Vocalization \(end\)\.$</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>0</integer>
                                    <integer>1</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>woodlore</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>barksin</name>
                                <script>defs.add(&quot;barkskin&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>Your skin is hard and tough, like the bark of an oak tree.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>coagulation</name>
                                <script>defs.add(&quot;coagulation&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have the coagulation defence.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>concealed</name>
                                <script>defs.add(&quot;concealed&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You have the concealed defence.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hardiness</name>
                                <script>defs.add(&quot;hardiness&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are hardened against the cold.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>foreststride</name>
                                <script>defs.add(&quot;foreststride&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are striding through the forests with ease.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>lifesap</name>
                                <script>defs.add(&quot;lifesap&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are sapping the life energy of others.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>weaponry</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>hand_returning</name>
                            <script>defs.add(&quot;hand_returning&quot;, true, false)
if defs.active.inventory_returning then
	defs.rem(&quot;inventory_returning&quot;, true)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You begin to focus on returning your thrown weapons to your hand.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>inventory_returning</name>
                            <script>defs.add(&quot;inventory_returning&quot;, true, false)
if defs.active.inventory_returning then
	defs.rem(&quot;hand_returning&quot;, true)
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You begin to focus on returning your thrown weapons to your inventory.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>deftable</name>
                            <script></script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList/>
                            <regexCodePropertyList/>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>hand_returning</name>
                                <script>defs.add(&quot;hand_returning&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are returning thrown weapons to your hand.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                                <name>inventory_returning</name>
                                <script>defs.add(&quot;inventory_returning&quot;, true, true)</script>
                                <triggerType>0</triggerType>
                                <conditonLineDelta>0</conditonLineDelta>
                                <mStayOpen>0</mStayOpen>
                                <mCommand></mCommand>
                                <packageName></packageName>
                                <mFgColor>#ff0000</mFgColor>
                                <mBgColor>#ffff00</mBgColor>
                                <mSoundFile></mSoundFile>
                                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                                <regexCodeList>
                                    <string>You are returning thrown weapons to your inventory.</string>
                                </regexCodeList>
                                <regexCodePropertyList>
                                    <integer>3</integer>
                                </regexCodePropertyList>
                            </Trigger>
                        </TriggerGroup>
                    </TriggerGroup>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>remove</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>config msg</name>
                        <script>local str = selectString(multimatches[2][1], 1)
if isAnsiFgColor(0) then return end

deleteLine()

defs.rem(multimatches[2][2], true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>defence has been stripped.</string>
                            <string>^Your (.+) defence has been stripped\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>wildcard</name>
                        <script>defs.rem(matches[2], true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^A small brown lemming scurries around you furiously\, stripping your (.+) defence\.$</string>
                            <string>^Swinging \w+ dhurive at you\, \w+ \w+ your (.+) defence\.$</string>
                            <string>^With a wave of its spindly limbs\, a water sprite sends a stream of elemental water towards you\. Your (.+) defence has been washed away\.$</string>
                            <string>^Your (.+) defence has been stripped by \w+'s angel\.</string>
                            <string>^Your (.+) defence erodes away\.$</string>
                            <string>^You suddenly feel that it would be a fine idea to relax your (.+) defence\.$</string>
                            <string>^Your (.+) defence is stripped away\.$</string>
                            <string>^A sinuous weasel irritably scurries around you\, stripping your (.+) defence\.$</string>
                            <string>^Your (.+) defence is degraded away\.$</string>
                            <string>^Your (.+) defence has been stripped as your body vibrates in sync with a dissonant vibration\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>acid_blood</name>
                        <script>defs.rem(&quot;acid_blood&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The tingling beneath your skin subsides.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>all blessings</name>
                        <script>local blessings = {
	&quot;accuracy&quot;,
	&quot;cleansing&quot;,
	&quot;healing&quot;,
	&quot;justice&quot;,
	&quot;meditation&quot;,
	&quot;pestilence&quot;,
	&quot;protection&quot;,
	&quot;purity&quot;,
	&quot;redemption&quot;,
	&quot;spellbane&quot;,
}

for _, e in ipairs(blessings) do
	defs.rem(e .. &quot;_blessing&quot;, true)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cleanse yourself of any active blessings.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>attuning</name>
                        <script>defs.rem(&quot;attuning&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your vocal cords are no longer attuned against attack.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>aura</name>
                        <script>defs.rem(multimatches[2][2] .. &quot;_aura&quot;, true)
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You focus and the aura of</string>
                            <string>^You focus and the aura of (\w+) flickers and fades away\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>bladefury</name>
                        <script>defs.rem(&quot;bladefury&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease focusing on unleashing the fury of your blade.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>blessing</name>
                        <script>defs.rem(multimatches[2][2] .. &quot;_blessing&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You focus and cleanse yourself of the</string>
                            <string>^You focus and cleanse yourself of the (\w+) blessing\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>blood_affinity</name>
                        <script>defs.rem(&quot;blood_affinity&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your blood bond fades to its normal state, and your body's health is once again your own.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>bloodshade</name>
                        <script>defs.rem(&quot;bloodshade&quot;, true, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease using the power of the bloodshade ritual.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>boneshaking</name>
                        <script>defs.rem(&quot;boneshaking&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your howls are no longer strong enough to shake the bones of your victims.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>celerity &amp; endurance</name>
                        <script>if defs.active.celerity then
	defs.rem(&quot;celerity&quot;, true)
end

if defs.active.endurance then
	defs.rem(&quot;endurance&quot;, true)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You are no longer moving so quickly.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>channels</name>
                        <script>local catch = multimatches[2][2]:lower()
local channel = &quot;channel_&quot; .. catch
local bind = &quot;bind_&quot; .. catch

defs.rem(channel, true)
defs.traits(channel, true)

defs.rem(bind, true)
defs.traits(bind, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You sever the link to the realm of</string>
                            <string>^You sever the link to the realm of (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>channels secondary</name>
                        <script>local catch = multimatches[2][2]:lower()
local channel = &quot;channel_&quot; .. catch
local bind = &quot;bind_&quot; .. catch

defs.rem(channel, true)
defs.traits(channel, true)

defs.rem(bind, true)
defs.traits(bind, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You do not have a channel open to the</string>
                            <string>^You do not have a channel open to the (\w+) element\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>concentration</name>
                        <script>defs.rem(&quot;concentration&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You feel your blood becoming thinner again.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>consciousness</name>
                        <script>defs.rem(&quot;consciousness&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You will no longer concentrate on retaining full consciousness.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>contemplate</name>
                        <script>local def = &quot;contemplate_&quot; .. multimatches[2][2]

defs.rem(def, true)
defs.traits(def, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease contemplating</string>
                            <string>^You cease contemplating (yuef|ef\'tig|rafic|jherza|yi|jhako|lgakt)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>diverting</name>
                        <script>defs.rem(&quot;diverting&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease your attempts to divert attacks.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>dodging</name>
                        <script>defs.rem(&quot;dodging&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease your attempts to dodge attacks.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>elusion</name>
                        <script>defs.rem(&quot;elusion&quot;, true)
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease eluding.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>furor</name>
                        <script>defs.rem(&quot;furor&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You take deep, ragged breaths as your bloody rage comes to an end.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>hand_returning &amp; inventory_returning</name>
                        <script>defs.rem(&quot;hand_returning&quot;, true)
defs.rem(&quot;inventory_returning&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease to focus on returning your thrown weapons to your hand.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>herculeanrage</name>
                        <script>defs.rem(&quot;herculeanrage&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You take a deep breath and relax, allowing your rage to subside.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>hidden</name>
                        <script>defs.rem(&quot;hidden&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You emerge from your hiding place.</string>
                            <string>You are suddenly revealed!</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>hierophant</name>
                        <script>defs.rem(&quot;hierophant&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The protection of the Hierophant fades.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>hypersight</name>
                        <script>defs.rem(&quot;hypersight&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease to concentrate on hypersight.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>lifescent</name>
                        <script>defs.rem(&quot;lifescent&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your concentration on the scents of nearby life fades.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>masquerade</name>
                        <script>defs.rem(&quot;masquerade&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease masquerading.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>mindcloak</name>
                        <script>defs.rem(&quot;mindcloak&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You allow the mindcloak to drop.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>mindnet</name>
                        <script>defs.rem(&quot;mindnet&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease concentration and your mind net vanishes.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>mindsurge</name>
                        <script>defs.rem(&quot;mindsurge&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The runes on your tongue and forehead flare up one last time before disappearing entirely.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>momentum</name>
                        <script>defs.rem(&quot;momentum&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You feel your momentum fade.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>mounted</name>
                        <script>defs.rem(&quot;mounted&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^With acrobatic grace\, you quickly hop off of .*\.$</string>
                            <string>^You step down off of .*\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>numerology_constitution</name>
                        <script>defs.rem(&quot;numerology_constitution&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your constitution wears off.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>phased</name>
                        <script>defs.rem(&quot;phased&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>There's a flash of light and you're pulled back into phase with reality.</string>
                            <string>Your surroundings shatter into a cloud of glowing stars which dissipate to leave you back where you began.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>putrefaction</name>
                        <script>defs.rem(&quot;putrefaction&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You concentrate briefly and your flesh is once again solid.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>wisp_sacrifice</name>
                        <script>defs.rem(&quot;wisp_sacrifice&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The sacrifice of your wisp has worn off, and you feel your blood pool return to normal.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>reckless</name>
                        <script>defs.rem(&quot;reckless&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease your reckless actions as you shift into a normal stance.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>recognition</name>
                        <script>defs.rem(&quot;recognition&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease concentrating on the true nature of your body.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>reveling</name>
                        <script>defs.rem(&quot;reveling&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You give a vigorous shake of your head with a grimace, clearing your vision of the bloodlust that rages within you.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>sanguispect</name>
                        <script>defs.rem(&quot;sanguispect&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The rune on your skin flares with light and disappears, dispersing the blood within your chest to heal you.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>shine</name>
                        <script>defs.rem(&quot;shine&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You have calmed your inner light.</string>
                            <string>The brilliant aura surrounding you slowly fades to a mere glimmer before disappearing.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>snarling</name>
                        <script>defs.rem(&quot;snarling&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your snarls stop, revealing the full sound of your howls.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>soul_fracture</name>
                        <script>defs.rem(&quot;soul_fracture&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You reform your soulstone.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>spheres</name>
                        <script>defs.rem(&quot;spheres&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The music of the spheres fades, leaving you weak and unsteady.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>splitting</name>
                        <script>defs.rem(&quot;splitting&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease the process of Kai meditation, joining the split segments of your mind once more.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>stalking</name>
                        <script>defs.rem(&quot;stalking&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The shadows fade, leaving your footfalls audible once again.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>stealth</name>
                        <script>defs.rem(&quot;stealth&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease concentrating on stealth.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>tonguelash</name>
                        <script>defs.rem(&quot;tonguelash&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your tongue has lost its edge.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>vigilance</name>
                        <script>defs.rem(&quot;vigilance&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You are not currently vigilant.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>weaving</name>
                        <script>defs.rem(&quot;weaving&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease to twist your body to avoid attacks.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>wisp_bloodshield</name>
                        <script>defs.rem(&quot;wisp_bloodshield&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You chant a guttural sound, and the wisp ceases to spin about your body.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>wisp_form</name>
                        <script>defs.rem(&quot;wisp_form&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your wisp fades from dark red into nothingness.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>parry</name>
                        <script>defs.rem(&quot;parrying&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^\w+ steps into the attack on (?:his|her) .+\, grabs your arm\, and shakes you violently\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>delays</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>speed</name>
                        <script>fs.on(&quot;speed&quot;, 4.5)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You stick yourself with a nervine serum.</string>
                            <string>You take a drink of an elixir of speed from</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>2</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>fangbarrier</name>
                        <script>fs.on(&quot;fangbarrier&quot;, 6.5)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You quickly squeeze the marrow from the bone, applying it to your skin.</string>
                            <string>You apply a sileris berry to yourself.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>rebounding</name>
                        <script>fs.on(&quot;rebounding&quot;, 6.5)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You quickly inject yourself with a syringe filled with sudorific.</string>
                            <string>You take a long drag off your pipe filled with skullcap.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>add and remove</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>interchange</name>
                        <script>local howls = {
	&quot;howl_amnesia&quot;,
	&quot;howl_anorexia&quot;,
	&quot;howl_asleep&quot;,
	&quot;howl_berserking&quot;,
	&quot;howl_blurry_vision&quot;,
	&quot;howl_enfeebling&quot;,
	&quot;howl_claustrophobia&quot;,
	&quot;howl_confusion&quot;,
	&quot;howl_disrupted&quot;,
	&quot;howl_endurance&quot;,
	&quot;howl_fear&quot;,
	&quot;howl_hallucinations&quot;,
	&quot;howl_hatred&quot;,
	&quot;howl_health&quot;,
	&quot;howl_health_drain&quot;,
	&quot;howl_hypersomnia&quot;,
	&quot;howl_idiocy&quot;,
	&quot;howl_lethargy&quot;,
	&quot;howl_magic_impaired&quot;,
	&quot;howl_mana&quot;,
	&quot;howl_mana_drain&quot;,
	&quot;howl_prone&quot;,
	&quot;howl_no_deaf&quot;,
	&quot;howl_paresis&quot;,
	&quot;howl_plodding&quot;,
	&quot;howl_portalbane&quot;,
	&quot;howl_recklessness&quot;,
	&quot;howl_sensitivity&quot;,
	&quot;howl_serenading&quot;,
	&quot;howl_stupidity&quot;,
	&quot;howl_vomiting&quot;,
	&quot;howl_weariness&quot;,
	&quot;howl_willpower&quot;
}

for i, v in ipairs(howls) do
	defs.rem(v, true)
	defs.traits(v, true)
	defs.nokeep(v, false)
end

local to_def = {
	[&quot;Angry&quot;] = &quot;howl_hatred&quot;,
	[&quot;Baleful&quot;] = &quot;howl_sensitivity&quot;,
	[&quot;Berserking&quot;] = &quot;howl_berserking&quot;,
	[&quot;Befuddling&quot;] = &quot;howl_confusion&quot;,
	[&quot;Comforting&quot;] = &quot;howl_mana&quot;,
	[&quot;Confining&quot;] = &quot;howl_claustrophobia&quot;,
	[&quot;Debilitating&quot;] = &quot;howl_weariness&quot;,
	[&quot;Deep&quot;] = &quot;howl_plodding&quot;,
	[&quot;Deranged&quot;] = &quot;howl_hallucinations&quot;,
	[&quot;Dumbing&quot;] = &quot;howl_idiocy&quot;,
	[&quot;Disruptive&quot;] = &quot;howl_portalbane&quot;,
	[&quot;Distasteful&quot;] = &quot;howl_anorexia&quot;,
	[&quot;Disturbing&quot;] = &quot;howl_disrupted&quot;,
	[&quot;Enfeebling&quot;] = &quot;howl_enfeebling&quot;,
	[&quot;Fearful&quot;] = &quot;howl_fear&quot;,
	[&quot;Forceful&quot;] = &quot;howl_prone&quot;,
	[&quot;Hypnotic&quot;] = &quot;howl_hypersomnia&quot;,
	[&quot;Invigorating&quot;] = &quot;howl_endurance&quot;,
	[&quot;Lethargic&quot;] = &quot;howl_lethargy&quot;,
	[&quot;Lulling&quot;] = &quot;howl_asleep&quot;,
	[&quot;Mind_numbing&quot;] = &quot;howl_stupidity&quot;,
	[&quot;Mourning&quot;] = &quot;howl_blurry_vision&quot;,
	[&quot;Muddling&quot;] = &quot;howl_magic_impaired&quot;,
	[&quot;Paralyzing&quot;] = &quot;howl_paresis&quot;,
	[&quot;Piercing&quot;] = &quot;howl_no_deaf&quot;,
	[&quot;Rejuvenating&quot;] = &quot;howl_willpower&quot;,
	[&quot;Roaring&quot;] = &quot;howl_health_drain&quot;,
	[&quot;Rousing&quot;] = &quot;howl_recklessness&quot;,
	[&quot;Screeching&quot;] = &quot;howl_mana_drain&quot;,
	[&quot;Serenading&quot;] = &quot;howl_serenading&quot;,
	[&quot;Soothing&quot;] = &quot;howl_health&quot;,
	[&quot;Stomach_churning&quot;] = &quot;howl_vomiting&quot;,
	[&quot;Traumatic&quot;] = &quot;howl_amnesia&quot;,
}

local howl_one = multimatches[2][2]:gsub(&quot;-&quot;, &quot;_&quot;):title()
local howl_two = multimatches[2][3]:gsub(&quot;-&quot;, &quot;_&quot;):title()
local howl_three = multimatches[2][4]:gsub(&quot;-&quot;, &quot;_&quot;):title()

defs.add(to_def[howl_one], true, false)
defs.traits(to_def[howl_one])
defs.keep(to_def[howl_one])

defs.add(to_def[howl_two], true, false)
defs.traits(to_def[howl_two])
defs.keep(to_def[howl_two])

defs.add(to_def[howl_three], true, false)
defs.traits(to_def[howl_three])
defs.keep(to_def[howl_three])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You use Vocalization Interchange</string>
                            <string>^You use Vocalization Interchange \((.+)\,\s+(.+)\,\s+(.+)\)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>parry</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>parrying</name>
                        <script>defs.add(&quot;parrying&quot;, true, false)
local limb = matches[2]

if limb == defs.parry.limb then tmp.parry = false end
if defs.parry.on_sync then
	e.warn(&quot;Will re-parry on next sync.&quot;, true, false)
end
if not defs.parry.on_sync and defs.parry.timer ~= false then
	timers.parry_timer = tempTimer(defs.parry.timer, [[tmp.parry = true]])
	e.warn(&quot;Will re-parry in &lt;dark_orange&gt;&quot; .. defs.parry.timer .. &quot; &lt;navajo_white&gt;seconds.&quot;, true, false)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You will now attempt to parry attacks to your (.+)\.$</string>
                            <string>^You begin guarding your (.+) with your paws\.$</string>
                            <string>^You will now attempt to intercept and counter attacks coming at your (.+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>parrying removed</name>
                        <script>defs.rem(&quot;parrying&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You cease your attempts at parrying.</string>
                            <string>You cease guarding your vital areas with your paws.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>deftable</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>parrying</name>
                            <script>defs.add(&quot;parrying&quot;, true, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You will attempt to parry attacks to your (.+)\.$</string>
                                <string>^You will attempt to throw those who attack your (.+)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>resource depleted</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>blood_affinity</name>
                        <script>defs.nokeep(&quot;blood_affinity&quot;, true)
fs.release()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You already share an enhanced blood bond with another.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>no divine_speed</name>
                        <script>defs.nokeep(&quot;divine_speed&quot;, true)
fs.release()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You must be under the influence of a Divine's favour to do that.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>no target blood</name>
                        <script>if multimatches[2][2] ~= tmp.target:title() then return end

defs.nokeep(&quot;bloodmeld&quot;, true)
defs.nokeep(&quot;shiftsoul&quot;, true)
fs.release()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You do not have enough of</string>
                            <string>^You do not have enough of (\w+)\'s blood\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>no allsight</name>
                        <script>tmp.mindseye = true</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You have no allsight.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>no mindseye</name>
                        <script>if tmp.mindseye then defs.nokeep(&quot;mindseye&quot;) end
tmp.mindseye = false</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You have no mindseye.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>entourage</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>kill firstline</name>
                    <script>tmp.entourage = true</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You order</string>
                        <string>^You order .* to kill \w+\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>passive firstline</name>
                    <script>tmp.entourage = nil</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You order</string>
                        <string>^You order .* to assume a passive stance\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>inventory</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>pipes</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pipelist header</name>
                        <script>local list = multimatches[2][2]

if not ((list == &quot;Pipes&quot; and o.stats.status == &quot;living&quot;) or (list == &quot;Syringes&quot; and o.stats.status == &quot;undead&quot;)) then 
	setTriggerStayOpen(&quot;pipelist header&quot;, 0)
	return
end

inv.pipelist = {
	check = true,
	number = 0,
	elm = 0,
	skullcap = 0,
	valerian = 0,
	empty = 0
}

inv.pipes.empty = {}
inv.pipes.filled = {}
disableTimer(&quot;light pipes&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>100</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>******************</string>
                            <string>^.*\[ (Pipes|Syringes) \].*$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>pipelist capture</name>
                            <script>local list = {
	[&quot;a skullcap flow&quot;] = &quot;skullcap&quot;,
	[&quot;a valerian leaf&quot;] = &quot;valerian&quot;,
	[&quot;antispasma&quot;] = &quot;valerian&quot;,
	[&quot;demulcent&quot;] = &quot;elm&quot;,
	[&quot;slippery elm&quot;] = &quot;elm&quot;,
	[&quot;sudorific&quot;] = &quot;skullcap&quot;,
	[&quot;empty&quot;] = &quot;empty&quot;
}

local cap = list[matches[2]]
inv.pipelist[cap] = inv.pipelist[cap] + 1
if cap ~= &quot;empty&quot; then inv.pipe_full(cap) end
if matches[3] ~= &quot;artifact&quot; then enableTimer(&quot;light pipes&quot;) end
if matches[4] == &quot;no&quot; then inv.pipe_empty(&quot;light&quot;) end

inv.pipelist.number = inv.pipelist.number + 1</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^\d+\s+.*\s+(a skullcap flow|a valerian leaf|antispasma|demulcent|slippery elm|sudorific|empty)\s+\d+\s+((\d+)|artifact)\s+(yes|no)$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>pipelist footer</name>
                            <script>setTriggerStayOpen(&quot;pipelist header&quot;, 0)

local function pop_pipes()
	local empty = inv.pipelist.empty
	if empty == 0 then return end
	if empty &gt; 3 then empty = 3 end

	local elm = inv.pipelist.elm
	local valerian = inv.pipelist.valerian
	local skullcap = inv.pipelist.skullcap
	local fill = &quot;elm&quot;
	local fill2 = &quot;valerian&quot;
	local fill3 = &quot;skullcap&quot;

	if elm &lt;= valerian and elm &lt;= skullcap then
		fill = &quot;elm&quot;
		elm = elm + 1
	elseif valerian &lt;= skullcap then
		fill = &quot;valerian&quot;
		valerian = valerian + 1
	else
		fill = &quot;skullcap&quot;
		skullcap = skullcap + 1
	end

	if elm &lt;= valerian and elm &lt;= skullcap then
		fill2 = &quot;elm&quot;
		elm = elm + 1
	elseif valerian &lt;= skullcap then
		fill2 = &quot;valerian&quot;
		valerian = valerian + 1
	else
		fill2 = &quot;skullcap&quot;
		skullcap = skullcap + 1
	end

	if elm &lt;= valerian and elm &lt;= skullcap then
		fill3 = &quot;elm&quot;
		elm = elm + 1
	elseif valerian &lt;= skullcap then
		fill3 = &quot;valerian&quot;
		valerian = valerian + 1
	else
		fill3 = &quot;skullcap&quot;
		skullcap = skullcap + 1
	end

	e.echo(&quot;Refilling: &quot; .. fill .. &quot;, &quot; .. fill2 .. &quot;, then &quot; .. fill3 .. &quot;.&quot;, true, false)

	if empty == 1 then
		inv.pipe_empty(fill)
	elseif empty == 2 then
		inv.pipe_empty(fill)
		inv.pipe_empty(fill2)
	elseif empty == 3 then
		inv.pipe_empty(fill)
		inv.pipe_empty(fill2)
		inv.pipe_empty(fill3)
	end

	inv.pipelist.empty = inv.pipelist.empty - empty

	if inv.pipelist.empty &gt; 0 then
		pop_pipes()
	end
end

pop_pipes()</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>*******************************************************************************</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pipe empty</name>
                        <script>inv.pipe_empty(inv.lastpipe)
inv.lastpipe = nil</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your pipe is now empty.</string>
                            <string>The syringe is now empty.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pipe emptied</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You tap out the contents of your pipe.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>syringe emptied</name>
                        <script>local to_live = {
	antispasmadic = &quot;valerian&quot;,
	demulcent = &quot;elm&quot;,
	sudorific = &quot;skullcap&quot;
}

if o.stats.status == &quot;undead&quot; then inv.pipe_empty(to_live[multimatches[2][2]]) end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You squirt out the remaining</string>
                            <string>^You squirt out the remaining (\w+) from the syringe\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pipe full</name>
                        <script>local list = {
	[&quot;a skullcap flower&quot;] = &quot;skullcap&quot;,
	[&quot;a valerian leaf&quot;] = &quot;valerian&quot;,
	[&quot;an antispasmadic&quot;] = &quot;valerian&quot;,
	[&quot;a demulcent&quot;] = &quot;elm&quot;,
	[&quot;slippery elm&quot;] = &quot;elm&quot;,
	[&quot;a sudorific&quot;] = &quot;skullcap&quot;,
}

local cap = list[matches[2]]

inv.pipe_full(cap)
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You fill your pipe with (a skullcap flower|a valerian leaf|slippery elm)\.$</string>
                            <string>^You quickly fill your syringe with (an antispasmadic|a demulcent|a sudorific) tincture\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pipes lit</name>
                        <script>if o.stats.status == &quot;living&quot; then
	inv.pipe_full(&quot;light&quot;)
	disableTimer(&quot;light pipes&quot;)
	enableTimer(&quot;light pipes&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You light your supply of pipes, igniting the herbs within.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>syringes flicked</name>
                        <script>if o.stats.status == &quot;undead&quot; then
	inv.pipe_full(&quot;light&quot;)
	disableTimer(&quot;light pipes&quot;)
	enableTimer(&quot;light pipes&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You quickly flick your supply of syringes, mixing the tinctures within.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>flare</name>
                        <script>for i, v in ipairs(inv.pipes.filled) do
	inv.pipe_empty(v)
end
inv.pipe_empty(&quot;light&quot;)
fs.release()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>and bits of fire dance about you</string>
                            <string>^\w+ snaps (?:his|her) fingers\, and bits of fire dance about you\, (?:causing your lit pipes to burn more quickly|evaporating the fluids within your syringes)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>pipes out</name>
                        <script>if o.stats.status ~= &quot;living&quot; then return end

enableTimer(&quot;light pipes&quot;)
disableTimer(&quot;light pipes&quot;)
enableTimer(&quot;light pipes&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your pipes have gone cold and dark.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>venoms</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>envenom</name>
                        <script>local side = inv.side()

table.insert(inv.weap.venoms[side], 1, matches[2])

disableTrigger(&quot;left venom&quot;)
disableTrigger(&quot;right venom&quot;)
enableTrigger(&quot;venom&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You rub some (\w+) on .*\.$</string>
                            <string>^You wipe some (\w+) onto .* using your rag\.$</string>
                            <string>^You secrete a layer of (\w+) onto .* in your (\w+) hand\.$</string>
                            <string>^You secrete a layer of (\w+) onto .*\.$</string>
                            <string>^You envenom your weapon with (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>wipe</name>
                        <script>inv.weap.venoms = {
	left = {},
	right = {}
}

</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>There are no venoms on that item at present.</string>
                            <string>^Being careful not to poison yourself\, you wipe off all the venoms from .*\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>left hand envenom</name>
                        <script>local side = inv.side()
table.insert(inv.weap.venoms[side], 1, multimatches[2][2])

disableTrigger(&quot;left venom&quot;)
disableTrigger(&quot;right venom&quot;)
enableTrigger(&quot;venom&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You envenom your left-hand weapon with</string>
                            <string>^You envenom your left\-hand weapon with (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>right hand envenom</name>
                        <script>table.insert(inv.weap.venoms.right, 1, multimatches[2][2])

enableTrigger(&quot;left venom&quot;)
enableTrigger(&quot;right venom&quot;)
disableTrigger(&quot;venom&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You envenom your right-hand weapon with</string>
                            <string>^You envenom your right\-hand weapon with (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>double envenom</name>
                        <script>local side = inv.side()

table.insert(inv.weap.venoms[side], 1, multimatches[2][3])
table.insert(inv.weap.venoms[side], 1, multimatches[2][2])

disableTrigger(&quot;left venom&quot;)
disableTrigger(&quot;right venom&quot;)
enableTrigger(&quot;venom&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You envenom your weapon with</string>
                            <string>^You envenom your weapon with (\w+) and (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>enchantments</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                </TriggerGroup>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>killswitch</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>web listening</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>web listening target</name>
                        <script>local caller = multimatches[2][2]:lower()
local tar = multimatches[2][3]

if not tmp.web_listening or (not tmp.web_listening[caller] and not tmp.web_listening.all) then return end

set_target(tar, nil, tmp.double_call)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>(Web):</string>
                            <string>^\(Web\)\: (\w+) says\, \&quot;Target\: (\w+)\.\&quot;</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>web listening location</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^\(Web\)\: \w+ says, \&quot;(\w+),? where are you(?:\?|\.)\&quot;$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>carnifex</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>warhounds</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>warhounds switch</name>
                            <script>local str = selectString(&quot;Warhounds Switch&quot;, 1)
if isAnsiFgColor(0) then return end

if tmp.warhounds_switch then 
	tmp.active_warhound = tmp.warhounds_switch
	tmp.warhounds_switch = nil
end</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You use Warhounds Switch.</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>soul</name>
                        <script>local tar = multimatches[2][2]

cdb.chars[tar].soul = tonumber(multimatches[2][3])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>'s soul stands at</string>
                            <string>^(\w+)\'s soul stands at (\d+)\%\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>implant</name>
                        <script>local str = selectString(&quot;Deathlore Implant&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]
local _aff = ks.lib[multimatches[2][3]]
local _trig = ks.lib[multimatches[2][4]]

cdb.chars[tar].traits.implant = { aff = _aff, trig = _trig }

if timers.implant then killTimer(timers.implant) end
if cdb.chars[tar].soul &lt;= 50 then
	timers.implant = tempTimer(60, [[cdb.chars.]] .. tar .. [[.traits.implant = nil]])
else
	timers.implant = tempTimer(45, [[cdb.chars.]] .. tar .. [[.traits.implant = nil]])
end

o.cd.implant = true
if timers.cd_implant then killTimer(timers.cd_implant) end
timers.cd_implant = tempTimer(40, [[o.cd.implant = nil]])
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>1</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You use Deathlore Implant on</string>
                            <string>^Your soulstone crackles with a cold blue light as you pry open (\w+)\'s soul, stealthily implanting a dose of (\w+) to lie dormant until (\w+) enters (?:his|her) bloodstream\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>deathlore soulthirst return</name>
                        <script>if fs.soulthirst_return then return end
e.warn(&quot;SOUL RETURN STARTED!&quot;, true, false)
fs.on(&quot;soulthirst_return&quot;, 30)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You use Deathlore Soulthirst Return </string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>deathlore soulthirst strike</name>
                        <script>fs.off(&quot;soulthirst_return&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You use Deathlore Soulthirst Strike</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>luminary</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>firebomb ready</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Forming a ball of fire between your palms, you quickly clap your hands together around the flame, absorbing the globe into your body causing flames sprout up from your exposed skin.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>firebomb fired</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>With sudden motion, the flames surrounding you flicker out as your skin grows increasingly hot. With a rush of power, the flames expel themselves from you, burning everything in a torrent of fire.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>praenomen</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>hematurgy</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList/>
                        <regexCodePropertyList/>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>already bloody</name>
                            <script>local tar = multimatches[2][2]
cdb.aff(tar, &quot;pacificism&quot;)
o.traits.bloody = tar:lower()

fs.release()</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>Your scythe is already slick with</string>
                                <string>^Your scythe is already slick with (\w+)\'s blood\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>bloody</name>
                            <script>local str = selectString(&quot;Hematurgy Bloody&quot;, 1)
if isAnsiFgColor(0) then return end

local tar = multimatches[2][2]
cdb.aff(tar, &quot;pacificism&quot;)
o.traits.bloody = tar:lower()</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You use Hematurgy Bloody on</string>
                                <string>^You use Hematurgy Bloody on (\w+)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>0</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>bloody (end)</name>
                            <script>local str = selectString(&quot;Hematurgy Bloody&quot;, 1)
if isAnsiFgColor(0) then return end

o.traits.bloody = nil</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You use Hematurgy Bloody (end).</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>3</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>chant</name>
                            <script>local tar = tmp.target
local cap = multimatches[2][2]:gsub(&quot;Invocation&quot;, &quot;Eldritch&quot;):gsub(&quot;Thirst&quot;, &quot;unnatural_thirst&quot;):lower()

ks.sets.praenomen.chanted[cap] = true</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>You use Hematurgy Ritual Chant (</string>
                                <string>^You use Hematurgy Ritual Chant \((\w+)\)\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>bloodmeld</name>
                            <script>local tar = multimatches[2][2]

ks.sets.praenomen.chanted.bloodmeld = false

cdb.aff(tar, &quot;bloodmeld&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The etpod rune sinks menacingly into </string>
                                <string>^The etpod rune sinks menacingly into (\w+)\'s flesh\, searing through (?:his|her) sternum and into (?:his|her) bloodstream with an horrific sizzle and stench\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>thirst</name>
                            <script>local tar = multimatches[2][2]

ks.sets.praenomen.chanted.unnatural_thirst = false

cdb.aff(tar, &quot;unnatural_thirst&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>The rune on</string>
                                <string>^The rune on (\w+)i lifts off (?:his|her) chest and begins to swirl in the air before slamming violently back into (?:his|her) throat\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>2</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shiftsoul</name>
                            <script>local tar = multimatches[1][2]

ks.sets.praenomen.chanted.shiftsoul = false

cdb.trait(tar, &quot;shiftsoul&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You use Hematurgy Shiftsoul on (\w+)\.$</string>
                                <string>^The rune on \w+\'s chest shudders and sizzles\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>shiftsoul gone</name>
                            <script>local tar = multimatches[1][2]

ks.sets.praenomen.chanted.shiftsoul = false

cdb.trait(tar, &quot;shiftsoul&quot;)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You use Hematurgy Shiftsoul (end) on (\w+)\.$</string>
                                <string>^You feel the rune placed on \w+\'s soul grow weaker before dispersing in a plume of foul smoke\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>eldritch</name>
                            <script>local tar = multimatches[1][2]

ks.sets.praenomen.chanted.eldritch_invocation = false

cdb.aff(tar, &quot;eldritch_invocation&quot;, true)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>1</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>^You use Hematurgy Eldritch Invocation on(\w+)\.$</string>
                                <string>^A smirk overcomes your features as you point a gnarled finger towards \w+ while a string of eldritch tones escapes your mouth\. The rune on \w+ reels in response\, transfixing itself to (?:his|her) scalp\.$</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>1</integer>
                                <integer>1</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </TriggerGroup>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>templar</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>left charge</name>
                        <script>o.vitals.left_charge = tonumber(multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>LC:</string>
                            <string>LC\:(\d+)</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>right charge</name>
                        <script>o.vitals.right_charge = tonumber(multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>RC:</string>
                            <string>RC\:(\d+)</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>sentinel</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>crossbow load</name>
                        <script>tmp.xbow_venom = multimatches[2][2]</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>1</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You quickly reach behind to draw a normal bolt from your quiver, locking it securely into place upon the crossbow.</string>
                            <string>^You coat your arrow with (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>crossbow arrow</name>
                        <script>--! todo: add resins to this

local aff = ks.lib[tmp.xbow_venom]

if not aff then return end

local tar = tmp.target

if tmp.sweepshoot_tar then
	tar = tmp.sweepshoot_tar
end

cdb.aff(tar, aff, true)
tmp.xbow_venom = nil</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your arrow strikes true.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>syssin</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>suggested</name>
                        <script>if (not tmp.suggest) or #tmp.suggest == 0 then return end

for _, aff in ipairs(tmp.suggest) do
	table.insert(tmp.suggested, aff)
end

tmp.suggest = {}</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You issue the suggestion, concealing it deep within</string>
                            <string>^You issue the suggestion\, concealing it deep within (\w+)\'s mind\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>seal</name>
                        <script>tmp.seal = nil
cdb.trait(tmp.target, &quot;sealed&quot;, true)
tmp.suggested = nil
tmp.to_suggest = nil</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You draw</string>
                            <string>^You draw (.*) out of (?:his|her) hypnotic daze\, your suggestions indelibly printed on (:?his|her) mind\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>hypnotise</name>
                        <script>local tar = multimatches[2][2]

cdb.trait(tar, &quot;hypnotised&quot;, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You fix</string>
                            <string>You fix (\w+) with an entrancing stare\, and smile in satisfaction as you realise that (?:his|her) mind is yours\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>snap</name>
                        <script>local cap = multimatches[2][2]
if cap == &quot;a cloaked figure&quot; then cap = nil end
if cap and cap ~= tmp.target:title() then return end
local tar = cap:title() or tmp.target:title()
local t = cdb.chars[tar]

if not t.traits.sealed then return end

tmp.snapped = tar:lower()

if timers.t_snapped then killTimer(timers.t_snapped) end
	timers.t_snapped = tempTimer(5, [[cdb.chars[tmp.snapped:title()].traits.snapped = nil
												cdb.chars[tmp.snapped:title()].traits.sealed = nil
												cdb.chars[tmp.snapped:title()].traits.hypnotised = nil]])

if cap then
	cdb.trait(cap, &quot;snapped&quot;, true)
	cdb.trait(cap, &quot;sealed&quot;)
	cdb.trait(cap, &quot;hypnotised&quot;)
	--table.insert(tmp.snapped, 1, cap)
else
	cdb.trait(tmp.target, &quot;snapped&quot;, true)
	cdb.trait(tmp.target, &quot;sealed&quot;)
	cdb.trait(tmp.target, &quot;hypnotised&quot;)
	--table.insert(tmp.snapped, 1, tmp.target)
end

--local time = #tmp.suggested * 3.5
--tempTimer(time, [[cdb.trait(tmp.snapped[1], &quot;snapped&quot;)
						--table.remove(tmp.snapped, 1)]])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You snap your fingers</string>
                            <string>^You snap your fingers in front of (:?\w+|a cloaked figure)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>hypnotise active</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>is already going through the effects of hypnosis. You will have to wait, Syssin.</string>
                            <string>^(\w+) is already going through the effects of hypnosis\. You will have to wait\, Syssin\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>hypnosis broken</name>
                        <script>cdb.trait(tmp.target, &quot;hypnotised&quot;)
cdb.trait(tmp.target, &quot;snapped&quot;)
cdb.trait(tmp.target, &quot;sealed&quot;)

tmp.suggested = {}</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your attempted hypnosis is broken.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>target cleared</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You can find no such target as</string>
                        <string>^You can find no such target as \'(\w+)\'\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>equivalence</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>uses Primality Equivalence Boosted on you.</string>
                        <string>^\w+ uses Primality Equivalence Boosted on you\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>0</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>prompt</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>not prompt</name>
                    <script>fs.prompt_gag = nil</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>return not isPrompt()</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>4</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>prompt call</name>
                    <script>if prompt then
	if prompt.gag then
		selectCurrentLine()
		deleteLine()
		echo(&quot;\n&quot;)
		if not fs.prompt_gag then echo(&quot;\n&quot;) end
	end
	prompt.call()
end
if tmp.shrine_energy then
	echo(&quot;\n&quot;)
	e.echo(&quot;Total shrine energy on log: &lt;deep_sky_blue&gt;&quot; ..tmp.shrine_energy)
	tmp.shrine_energy = nil
end
disableTrigger(&quot;limb damaged&quot;)
disableTrigger(&quot;limb mangled&quot;)
tmp.moved_room = nil</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>return isPrompt()</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>4</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>refining</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>minor focus</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Dim motes of light cascade around the untapped focal point here, wavering in and out of reality with each resonance of the leyline.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>0</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>focus extracted</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Latent energies flare around the focus, crackling ominously with power before winking out with a hushed whisper. Motes of pale light drift upwards from the dying leyline's focus, smoldering like a dying ember into the firmament as the focal point collapses into the ether.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>0</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>eld shackled</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You draw upon the power of the leylines and divert their energy to shackle</string>
                        <string>^You draw upon the power of the leylines and divert their energy to shackle (.+) eld\, thick\, undulating white tethers capturing it and rooting it to the ground\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>extraction complete</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Latent energies flare around the focus, crackling ominously with power before winking out with a hushed whisper. Motes of pale light drift upwards from the dying leyline's focus, smoldering like a dying ember into the firmament as the focal point collapses into the ether.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>user interface</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>chat capture</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>comms capture</name>
                        <script>ui:append(tmp.last_chan)
disableTrigger(&quot;comms capture&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^[A-Za-z\s\'\,\`\-\.]+ (?:says?|asks?|exclaims?|roars?|whispers?)(?: you| to you| to .+?| .+?)?\, \&quot;.+?\&quot;$</string>
                            <string>^(\[Covenant\] )?([\(\&lt;]+[A-Za-z'\- ]+[\)\&gt;]+\: )?\w+ (?:\([A-Za-z'\-, ]+\) )?says?,( in \w+,)? \&quot;.+\&quot;$</string>
                            <string>^.+ tells you, &quot;.+&quot;$</string>
                            <string>^You tell .+, &quot;.+&quot;$</string>
                            <string>^(?:\w+|you) signs?\: .+$</string>
                            <string>^Speaking from the back of (?:his|her) mind.+$</string>
                            <string>^(?:His|Her) voice laden with crackling fire.+$</string>
                            <string>^From afar\, \w+ hisses harshly to you.+$</string>
                            <string>^\w+ tells you\, in \w+\,.+$</string>
                            <string>(Tells):</string>
                            <string>^&lt;Omniscience&gt;.+$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>omni capture</name>
                        <script>ui:append(&quot;Misc&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>&lt;Omni</string>
                            <string>^&lt;Omniscience&gt;.+$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>gags</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>gag_baseline</name>
                        <script>deleteLine()
if prompt.gag then fs.prompt_gag = true end
	
</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>1</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You are blind.</string>
                            <string>You are deaf.</string>
                            <string>You are surrounded by a cloak of protection.</string>
                            <string>You are protected from the fangs of serpents.</string>
                            <string>You must have shadow balance to do that.</string>
                            <string>This location is already flooded in darkness.</string>
                            <string>^You secrete a layer of \w+ onto .* in your \w+ hand\.$</string>
                            <string>There are no venoms on that item at present.</string>
                            <string>^Being careful not to poison yourself\, you wipe off all the venoms from .*\.$</string>
                            <string>You have no amnesia.</string>
                            <string>You will execute the following command when you</string>
                            <string>You are not fallen or kneeling.</string>
                            <string>You have cleared your</string>
                            <string>You do not have an aura to dissolve.</string>
                            <string>^You are not benefiting from the \w+ blessing\.$</string>
                            <string>You can find nothing that will go into your cache.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>1</integer>
                            <integer>3</integer>
                            <integer>1</integer>
                            <integer>3</integer>
                            <integer>2</integer>
                            <integer>3</integer>
                            <integer>2</integer>
                            <integer>3</integer>
                            <integer>1</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>gag prompt</name>
                            <script>deleteLine()
setTriggerStayOpen(&quot;gag_baseline&quot;, 0)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>return isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>gag_level_one</name>
                        <script>deleteLine()
if prompt.gag then fs.prompt_gag = true end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>1</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^The final blow proves too much for .*\, who expires\, pitifully\.$</string>
                            <string>^You remove \d+ .+\, bringing the total in the cache to \d+\.$</string>
                            <string>^You store \d+ .+\, bringing the total to \d+\.$</string>
                            <string>There is no ylem energy mist in this location to absorb.</string>
                            <string>A jolt of raw energy travels through your weapon as it</string>
                            <string>A pang of loss precedes a screeching wail as</string>
                            <string>Spinning the weapon deftly in your hands,</string>
                            <string>^(\w+)\'s soul stands at (\d+)\%\.$</string>
                            <string>You use Deathlore Soulthirst</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>3</integer>
                            <integer>2</integer>
                            <integer>2</integer>
                            <integer>0</integer>
                            <integer>1</integer>
                            <integer>2</integer>
                        </regexCodePropertyList>
                        <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                            <name>gag prompt</name>
                            <script>deleteLine()
setTriggerStayOpen(&quot;gag_level_one&quot;, 0)</script>
                            <triggerType>0</triggerType>
                            <conditonLineDelta>0</conditonLineDelta>
                            <mStayOpen>0</mStayOpen>
                            <mCommand></mCommand>
                            <packageName></packageName>
                            <mFgColor>#ff0000</mFgColor>
                            <mBgColor>#ffff00</mBgColor>
                            <mSoundFile></mSoundFile>
                            <colorTriggerFgColor>#000000</colorTriggerFgColor>
                            <colorTriggerBgColor>#000000</colorTriggerBgColor>
                            <regexCodeList>
                                <string>return isPrompt()</string>
                            </regexCodeList>
                            <regexCodePropertyList>
                                <integer>4</integer>
                            </regexCodePropertyList>
                        </Trigger>
                    </Trigger>
                    <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>gag_level_two</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>stuff</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>gag_level_three</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>stuff</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>warnings</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>reclamation</name>
                        <script>ui:visual_alert(&quot;UNSTOPPABLE RECLAMATION!&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You feel yourself unable to prevent your return to nature.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>alertness</name>
                        <script>deleteLine()

local tar = multimatches[2][2]
local dir = multimatches[2][3]
e.warn(&quot;ALERTNESS: &quot; .. tar:title() .. &quot; - &quot; .. dir .. &quot;!&quot;, true, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your enhanced senses inform you that </string>
                            <string>^Your enhanced senses inform you that (\w+) has appeared to the (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>alertness here</name>
                        <script>deleteLine()

local tar = multimatches[2][2]
e.warn(&quot;ALERTNESS: &quot; .. tar:upper() .. &quot; - HERE!&quot;, true, true)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>Your enhanced senses inform you that</string>
                            <string>^Your enhanced senses inform you that (\w+) has entered your current location\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>2</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>hunting grounds</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>A baleful horn resounds from the depths of the Hunting Grounds as</string>
                            <string>^A baleful horn resounds from the depths of the Hunting Grounds as (\w+) enters\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>highlights</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>balance</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#aa5500</mFgColor>
                        <mBgColor>#000000</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You have recovered balance on all limbs.</string>
                            <string>You have recovered balance on your left arm.</string>
                            <string>You have recovered balance on your right arm.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>equilibrium</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#5555ff</mFgColor>
                        <mBgColor>#000000</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You have recovered equilibrium.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>free</name>
                        <script></script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ffffff</mFgColor>
                        <mBgColor>#000000</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>You stand up and stretch your arms out wide.</string>
                            <string>You are no longer stunned.</string>
                            <string>Your muscles unlock; you are no longer paralysed.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                            <integer>3</integer>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>go to URL</name>
                        <script>local str = matches[1]

selectString(str, 1)
setUnderline(true)
setLink([[openUrl(&quot;]] .. str .. [[&quot;)]], &quot;Click to open this link.&quot;) 
resetFormat()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>(http|Http|ftp|https|Https|Ftp):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;amp;:/~\+#]*[\w\-\@?^=%&amp;amp;/~\+#])?</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
                <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>counts</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList/>
                    <regexCodePropertyList/>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>essence gained</name>
                        <script>tmp.shrine_energy = tmp.shrine_energy or 0
tmp.shrine_energy = tmp.shrine_energy + tonumber(multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>shrine energy:</string>
                            <string>^\d+\/\d+\/\d+ \d+\:\d+\:\d+\s+\-\s+Gained (\d+) shrine energy\: .*\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>essence lost</name>
                        <script>tmp.shrine_energy = tmp.shrine_energy or 0
tmp.shrine_energy = tmp.shrine_energy - tonumber(multimatches[2][2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>shrine energy:</string>
                            <string>^\d+\/\d+\/\d+ \d+\:\d+\:\d+\s+\-\s+Lost (\d+) shrine energy\: .*\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>0</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </TriggerGroup>
            </TriggerGroup>
        </TriggerGroup>
        <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>mapper</name>
            <script></script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName></packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList/>
            <regexCodePropertyList/>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Have to swim</name>
                <script>mmp.swim()</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>There's water ahead of you. You'll have to swim in that direction to make it through.</string>
                    <string>There's water ahead of you. You'll have to swim in that direction to make it </string>
                    <string>There's water ahead of you. You'll have to SWIM </string>
                    <string>You'll have to swim to make it through the water in that direction.</string>
                    <string>The water is too deep for you to walk that way, you must swim.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>3</integer>
                    <integer>3</integer>
                    <integer>2</integer>
                    <integer>3</integer>
                    <integer>3</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Rubble at the exit</name>
                <script>mmp.customwalkdelay(2)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>You begin to slowly clamber over the rubble that blocks your way.</string>
                    <string>You begin to slowly clamber over a pile of rubble that blocks your way.</string>
                    <string>You start plodding carefully across the constructed trenches.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>3</integer>
                    <integer>3</integer>
                    <integer>3</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Too quick</name>
                <script>if mmp.autowalking then
  mmp.deleteLineP()
end</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>99</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>Now now, don't be so hasty!</string>
                    <string>You can not move that fast!</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>3</integer>
                    <integer>3</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Hobbling</name>
                <script>mmp.customwalkdelay(2)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>You slowly hobble</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>2</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Frozen</name>
                <script>mmp.customwalkdelay(2)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>You begin moving your frozen body slowly</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>2</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>People here</name>
                <script>mmp.pdb_lastupdate = {}</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>1</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>You see the following people here:</string>
                    <string>1</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>3</integer>
                    <integer>5</integer>
                </regexCodePropertyList>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="yes" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Person</name>
                    <script>for i = 1, #matches, 2 do
  mmp.pdb[matches[i]] = mmp.currentroomname
  mmp.pdb_lastupdate[matches[i]] = true
  raiseEvent(&quot;mmapper updated pdb&quot;)
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#aaff00</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>([A-Z][a-z]+)</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Retardation/aeon walk delay</name>
                <script>mmp.customwalkdelay(2)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>You move sluggishly into action.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>3</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Scent (Achaea+Imperian)</name>
                <script>mmp.roomEcho(matches[2]) </script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^You detect traces of scent from (.+)\.$</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Alertness (Achaea+Imperian)</name>
                <script>mmp.alertness = mmp.alertness or {}

local alertness = mmp.alertness

local roomexists, getRoomName, anytolong, matches, deleteLine = mmp.roomexists, getRoomName, mmp.anytolong, matches, deleteLine

if mmp.debug then
  mmp.alertnessTime = mmp.alertnessTime or createStopWatch()
  startStopWatch(mmp.alertnessTime)
end
    

for k, v in pairs (gmcp.Room.Info.exits) do
  local longexitname = mmp.anytolong(k)
  if roomexists(v) and matches[3]:lower() == getRoomName(v):lower() and longexitname then
    alertness[longexitname] = alertness[longexitname] or {}
    alertness[longexitname][#alertness[longexitname]+1] = matches[2]
    --deleteLine()

   end
end

local currentroomname = mmp.cleanroomname(mmp.currentroomname)

if matches[3] == currentroomname then
  alertness.here = alertness.here or {}
  alertness.here[#alertness.here+1] = matches[2]
  --deleteLine()
end

mmp.pdb[matches[2]] = matches[3]
mmp.pdb_lastupdate[matches[2]] = true

enableTrigger&quot;Mudlet Mapper prompt trigger&quot;

if mmp.debug then mmp.echo(&quot;alertness trigger for &quot;..matches[2]..&quot; took &quot;..stopStopWatch(mmp.alertnessTime)..&quot;s.&quot;) end</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>^Your enhanced senses inform you that (\w+) has entered (.+?)(?: nearby)?\.$</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>1</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Mudlet Mapper prompt trigger</name>
                <script>if mmp.alertness and next(mmp.alertness) then

  local dirs = {}
  for direction, _ in pairs(mmp.alertness) do dirs[#dirs+1] = direction end
  local people = select(2, next(mmp.alertness)) or {}

  moveCursor(0, getLineNumber())

  if ndb then
    local getcolor = ndb.getcolor
    for i = 1, #people do
      people[i] = getcolor(people[i])..people[i]
    end
  end

  e.echo(table.concat(dirs, ', ') .. &quot; &lt;red&gt;-&quot;..(#dirs &gt; 1 and (&quot;\n  &quot;) or '')..&quot; &lt;white&gt;&quot; .. ((tmp and concand) and concand(people) or table.concat(people, ', ')) .. &quot;&lt;cyan&gt; (&quot;..#people..&quot;)\n&quot;)
  --cinsertText
  moveCursorEnd()

  mmp.alertness = nil

  raiseEvent(&quot;mmapper updated pdb&quot;)
end

-- reset names we last seen, so scripts can be efficient
-- not finished yet
--if next(mmp.pdb_lastupdate) then
--  mmp.pdb_lastupdate = {}
--end

disableTrigger&quot;Mudlet Mapper prompt trigger&quot;</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>return isPrompt()</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>4</integer>
                </regexCodePropertyList>
            </Trigger>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Wormhole</name>
                <script>mmp.customwalkdelay(4)</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>You hurl yourself forwards through the air, and sure enough a swirling vortex of colours springs into existence to swallow you.</string>
                    <string>You reach out with the vibrating stick to probe for a wormhole, and as it connects with one, you are sucked through.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>3</integer>
                    <integer>3</integer>
                </regexCodePropertyList>
            </Trigger>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Achaea</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Login</name>
                    <script>raiseEvent(&quot;mmp logged in&quot;, &quot;Achaea&quot;)
mmp.game = &quot;achaea&quot;
mmp.echo(&quot;We're connected to Achaea.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Password correct. Welcome to Achaea.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Local area farsee</name>
                    <script>mmp.locateAndEchoSide(multimatches[2][3], multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You see that </string>
                        <string>^You see that (\w+) is at (.+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Entering wilderness</name>
                    <script>mmp.customwalkdelay(6)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>99</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You begin to look for that place to enter the wilderness. It's around here somewhere!</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Icon enter/leave</name>
                    <script>mmp.customwalkdelay(10)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>1</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You reach out and touch a powerful Icon. For a moment, nothing happens, but soon you feel a humming deep inside you.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Underworld root</name>
                    <script>mmp.customwalkdelay(2)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>As you touch a huge grey root, you feel dark energies coursing up your hand and throughout your body.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Mindsense</name>
                    <script>mmp.locateAndEchoSide(multimatches[2][3], multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You seek out the mind of</string>
                        <string>^You seek out the mind of (\w+) and an image of (.+) appears in your mind\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Destroyed room</name>
                    <script>mmp.customwalkdelay(3)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your movement is slowed as you move through the decimated remains.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Underworld entry</name>
                    <script>mmp.customwalkdelay(3)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>A huge grey root numbs your fingertips as you reach out to touch it.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Angel sense</name>
                    <script>local t = mmp.getnums(multimatches[2][2], true)
if not t then return end
if #t == 1 then
	cecho(&quot; &lt;orange_red&gt;(&quot;..mmp.cleanAreaName(mmp.areatabler[getRoomArea(t[1])])..&quot;)&quot;)
else
	cecho(&quot; &lt;orange_red&gt;Maybe (&quot;..mmp.cleanAreaName(mmp.areatabler[getRoomArea(t[1])])..&quot;)&quot;)
end
echo &quot; &quot;; mmp.echonums(multimatches[2][2])

mmp.temp_room = multimatches[2][2]</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>100</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your guardian angel senses </string>
                        <string>^Your guardian angel senses .+? at (.+?),</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Each person</name>
                        <script>mmp.pdb[matches[2]] = mmp.temp_room
mmp.pdb_lastupdate[matches[2]] = true</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string> is with (\w+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Stop</name>
                        <script>setTriggerStayOpen(&quot;Angel sense&quot;, 0)
mmp.temp_room = nil
raiseEvent(&quot;mmapper updated pdb&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>99</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Dragonsense</name>
                    <script>mmp.locateAndEchoSide(multimatches[2][3], multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>1</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Tapping into the unfathomable depths of your power, you sense that</string>
                        <string>Tapping into the unfathomable depths of your power, you sense that (\w+) is at (.+?), in (.+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Defilement</name>
                    <script>mmp.locateAndEchoSide(multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>(Order): </string>
                        <string>^\(Order\): \w+'s Herald says, &quot;A shrine is being defiled at (.+)!&quot;$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Defiled</name>
                    <script>mmp.locateAndEcho(multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>(Order):</string>
                        <string>^\(Order\): \w+'s Herald says, &quot;A shrine has been destroyed at (.+)!&quot;$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>View </name>
                    <script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You see</string>
                        <string>^You see (\w+) at (.+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Elementalism scry</name>
                    <script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You create a pool of water in the air in front of you and look through it, sensing</string>
                        <string>You create a pool of water in the air in front of you and look through it, sensing (\w+) at (.+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Parse wholist</name>
                    <script>-- this trigger should be off by default. It's inefficient and gets auto-enabled
-- when you check 'who'
mmp.locateAndEcho(matches[3], matches[2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>99</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^(\w+) +\((.+)\)$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Piety on astralform</name>
                    <script>mmp.customwalkdelay(3)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>A rite of piety slows your movement as it pulls at your ephemeral body.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Angel/Demon presences</name>
                    <script>disableTrigger(&quot;Angel sense&quot;)

mmp.pdb_lastupdate = {}</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>100</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You bid your guardian angel to seek out life presences nearby.</string>
                        <string>You bid your Baalzadeen to seek out life presences nearby.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Each person</name>
                        <script>mmp.locateAndEchoSide(matches[3], matches[2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^Your guardian angel senses (\w+) at (.+?),</string>
                            <string>^Your Baalzadeen senses (\w+) at (.+?),</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Stop (angel presences)</name>
                        <script>setTriggerStayOpen(&quot;Angel/Demon presences&quot;, 0)
enableTrigger(&quot;Angel sense&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Demon sense</name>
                    <script>mmp.locateAndEchoSide(multimatches[2][3], multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your Baalzadeen senses </string>
                        <string>^Your Baalzadeen senses (\w+) at (.+), on a health of</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Annwyn circle</name>
                    <script>mmp.customwalkdelay(12)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>The melody of a strange song rises unbidden to your lips as you skip around the circle of mushrooms.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Scrying bowl</name>
                    <script>mmp.locateAndEcho(multimatches[3][2], multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>1</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You dip your fingers into the cool water of the bowl, willing it to reveal the location of</string>
                        <string>^You dip your fingers into the cool water of the bowl, willing it to reveal the location of (\w+)\.$</string>
                        <string>^An image of .+? appears reflected within the bowl, shifting with the rippling water to display (.+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Occultist entities</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>1000</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>The following entities reside on the Prime Material plane:</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Each doppleganger</name>
                        <script>mmp.locateAndEcho(matches[3], matches[2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) is at (.+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Stop</name>
                        <script>setTriggerStayOpen(&quot;Occultist entities&quot;, 0)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Party traces/locaters</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>(Party):</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>regex (party locate)</name>
                        <script>mmp.locateAndEcho(matches[3], matches[2])</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^\(Party\): \w+ says, &quot;(\w+) moved to (.+)\.&quot;$</string>
                            <string>^\(Party\): \w+ says, &quot;(\w+) is at (.+), in .+\.&quot;</string>
                            <string>^\(Party\): \w+ says, &quot;Trace: (\w+) moved to (.+)\.&quot;</string>
                            <string>^\(Party\): \w+ says, &quot;(\w+) - (.+), in .+\.&quot;$</string>
                            <string>^\(Party\): \w+ says, &quot;(\w+) is at (.+) \(.+\)\.&quot;</string>
                            <string>^\(Party\): \w+ says, &quot;Trace: (\w+) entered (.+) in .+\.&quot;</string>
                            <string>^\(Party\): \w+ says, &quot;Trace: (\w+) entered (.+)\.&quot;</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Arena event (Achaea)</name>
                    <script>mmp.pdb_lastupdate = {}</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>3</conditonLineDelta>
                    <mStayOpen>1000</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Current event</string>
                        <string>Player               Location</string>
                        <string>----------------------------------------------------------------------</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Each person</name>
                        <script>echo((&quot; &quot;):rep(60-#line))
echo&quot;(&quot; mmp.echonums(matches[3]) echo&quot;)&quot;

mmp.pdb[matches[2]] = matches[3]
mmp.pdb_lastupdate[matches[2]] = true</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) +(.+)$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Stop (arena event)</name>
                        <script>setTriggerStayOpen(&quot;Arena event (Achaea)&quot;, 0)

raiseEvent(&quot;mmapper updated pdb&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Angel trace</name>
                    <script>selectCurrentLine() replace(&quot;&quot;)
cecho(&quot;&lt;grey&gt;Angel trace: &lt;a_darkcyan&gt;&quot;..multimatches[2][2]..&quot;&lt;grey&gt; moved to &lt;a_darkcyan&gt;&quot; .. multimatches[2][3])
mmp.locateAndEchoInternal(multimatches[2][3], multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your guardian angel reports that</string>
                        <string>^Your guardian angel reports that (\w+) has moved to (.+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>KoTH (mudlet mapper)</name>
                    <script>mmp.pdb_lastupdate = {}</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>5</conditonLineDelta>
                    <mStayOpen>1000</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Current event: King of the Hill</string>
                        <string>5</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>5</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Each person</name>
                        <script>echo((&quot; &quot;):rep(60-#line))
echo&quot;(&quot; mmp.echonums(matches[3]) echo&quot;)&quot;

mmp.pdb[matches[2]] = matches[3]
mmp.pdb_lastupdate[matches[2]] = true</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^(\w+) .+? ([A-Z][a-z ]+?)$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Stop (koth)</name>
                        <script>setTriggerStayOpen(&quot;KoTH (mudlet mapper)&quot;, 0)

raiseEvent(&quot;mmapper updated pdb&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Fullsense (mudlet mapper)</name>
                    <script>mmp.pdb_lastupdate = {}</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>100</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You seek out all mental presences within your reach:</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Each person</name>
                        <script>echo((&quot; &quot;):rep(60-#line))
echo&quot;(&quot; mmp.echonums(matches[3]) echo&quot;)&quot;

mmp.pdb[matches[2]] = matches[3]
mmp.pdb_lastupdate[matches[2]] = true</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You sense (\w+) at (.+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Stop</name>
                        <script>setTriggerStayOpen(&quot;Fullsense (mudlet mapper)&quot;, 0)

raiseEvent(&quot;mmapper updated pdb&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Alchemist ether seek</name>
                    <script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You reach out into the ether, folding it aside to reveal</string>
                        <string>^You reach out into the ether, folding it aside to reveal (\w+)\. As you peer into the opening, the image of (.+) swims into view, then fades away as the ether seeps back into place\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Allsight</name>
                    <script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Allsight:</string>
                        <string>^Allsight: (\w+) enters (.+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Polished skull locater</name>
                    <script>mmp.locateAndEcho(matches[2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^An image of (.*) appears in your mind\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Aetolia</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>1</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Login</name>
                    <script>raiseEvent(&quot;mmp logged in&quot;, &quot;Aetolia&quot;)
mmp.game = &quot;aetolia&quot;</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>99</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Password correct. Welcome to Aetolia.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Alertness (Direction)</name>
                    <script>mmp.alertness = mmp.alertness or {}

local alertness = mmp.alertness

local roomexists, getRoomName, anytolong, matches, deleteLine = mmp.roomexists, getRoomName, mmp.anytolong, matches, deleteLine

if mmp.debug then
  mmp.alertnessTime = mmp.alertnessTime or createStopWatch()
  startStopWatch(mmp.alertnessTime)
end
    

for k, v in pairs (gmcp.Room.Info.exits) do
  local longexitname = mmp.anytolong(k)
  if roomexists(v) and multimatches[2][3]:lower() == getRoomName(v):lower() and longexitname then
    alertness[longexitname] = alertness[longexitname] or {}
    alertness[longexitname][#alertness[longexitname]+1] = multimatches[2][2]
    deleteLine()

   end
end

local currentroomname = mmp.cleanroomname(mmp.currentroomname)

if multimatches[2][3] == currentroomname then
  alertness.here = alertness.here or {}
  alertness.here[#alertness.here+1] = multimatches[2][2]
  deleteLine()
end

if not mmp.pdb[multimatches[2][2]] then
	mmp.pdb[multimatches[2][2]] = multimatches[2][3]
	mmp.pdb_lastupdate[multimatches[2][2]] = true
end

enableTrigger&quot;Mudlet Mapper prompt trigger&quot;

if mmp.debug then mmp.echo(&quot;alertness trigger for &quot;..multimatches[2][2]..&quot; took &quot;..stopStopWatch(mmp.alertnessTime)..&quot;s.&quot;) end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your enhanced senses inform you that</string>
                        <string>^Your enhanced senses inform you that (\w+) has entered (.+) to your (\w+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Alertness (Location)</name>
                    <script>deleteLine()
tmp.alertness = tmp.alertness or {}
if not table.contains(tmp.alertness, multimatches[2][2]) then
	table.insert(tmp.alertness, multimatches[2][2])
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>64</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your enhanced senses inform you that</string>
                        <string>^Your enhanced senses inform you that (\w+) has entered your current location at (.+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Alertness Prompt</name>
                        <script>setTriggerStayOpen(&quot;Alertness (Location)&quot;, 0)

e.echo(&quot;Here: &lt;white&gt;&quot; .. concand(tmp.alertness) .. &quot;&lt;cyan&gt; (&quot; ..#tmp.alertness..&quot;)&quot;)
tmp.alertness = {}</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>eyeglass farsee</name>
                    <script>mmp.locateAndEchoSide(multimatches[2][3], multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You see that</string>
                        <string>^You see that (\w+) is at (.+) in (.+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Lusternia</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Login</name>
                    <script>raiseEvent(&quot;mmp logged in&quot;, &quot;Lusternia&quot;)
mmp.game = &quot;lusternia&quot;</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>5</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>                        A G E  O F  A S C E N S I O N</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>mmp Lusternia Scent</name>
                    <script>mmp.tempscent = {}
mmp.pdb_lastupdate = {}
</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>99</conditonLineDelta>
                    <mStayOpen>100</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You scent at the air, your skilled nose picking up the faint traces of others in the surrounding area.</string>
                        <string>You snort and snuffle at the air, sensing through a ridiculous pig nose upon your face the faint traces of others in the surrounding area.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Got line</name>
                        <script>--deleteLine()

selectString(line, 1) replace&quot;&quot;

-- get the name
cecho(&quot;&lt;green&gt;&quot;..matches[2]..&quot;&lt;reset&gt;: &quot;)

-- ids
mmp.echonums(matches[3])

-- pad spaces so we have aligned roomname
echo(string.rep(&quot; &quot;, 25 - #getCurrentLine()))

-- and finally, the roomname
echo(matches[3])


if mmp.tempscent[matches[3]] then
	mmp.tempscent[matches[3]][#mmp.tempscent[matches[3]]+1] = matches[2]
else
	mmp.tempscent[matches[3]] = {matches[2]}
end

-- save in our person tracking db
mmp.pdb[matches[2]] = matches[3]
mmp.pdb_lastupdate[matches[2]] = true</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You make out the scent of (\w+) coming from (.+)\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Stop capturing</name>
                        <script>setTriggerStayOpen(&quot;mmp Lusternia Scent&quot;, 0)

--[[for area, names in pairs(mmp.tempscent) do
	for _, name in ipairs(names) do

-- get the name
cecho(&quot;\n&lt;green&gt;&quot;..name..&quot;&lt;reset&gt;: &quot;)

-- ids
mmp.echonums(area)

-- pad spaces so we have aligned roomname
echo(string.rep(&quot; &quot;, 25))

-- and finally, the roomname
echo(area)
end
end]]


raiseEvent(&quot;mmapper updated pdb&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Deathsight</name>
                    <script>mmp.locateAndEcho(multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You see the death occur at</string>
                        <string>^You see the death occur at (.+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Wildnodes nodes</name>
                    <script>mmp.locateAndEcho(matches[2]:sub(1,1):lower()..string.sub(matches[2], 2))</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>99</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^\(Planted\) Node \d+ - (.*)\.$</string>
                        <string>^ +Node \d+ - (.*)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Window search</name>
                    <script>mmp.locateAndEcho(matches[4], matches[2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>39</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^You open up a window in the cosmic fabric and search out (\w+). Through the cosmic window, you see (\w+) at (.+?)(?: \(.*\))?\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Scry search</name>
                    <script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>1</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^You rub .* and it begins to glow with a pulsating light\.$</string>
                        <string>Within the enchanted item, an image forms of (\w+) at (.+?)(?: \(.*\))?\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Map artefact</name>
                    <script>mmp.gotoRoom(multimatches[4][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>3</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>As you inscribe the name of </string>
                        <string>^As you inscribe the name of \w+ with a flourish, lines crawl across the surface of the map, centered upon (.*)\.$</string>
                        <string>You see the following in detail:</string>
                        <string>v(\d+)</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                        <integer>3</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>map scry</name>
                    <script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>As you inscribe the name of</string>
                        <string>^As you inscribe the name of (\w+) with a flourish, lines crawl across the surface of the map, centered upon (.*)\.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>World events</name>
                    <script>mmp.locateAndEcho(matches[1])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^The Staff of Ascension is at (.*)\.$</string>
                        <string>^The Purple Hamster of Chaos is at (.*)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Seeing stone</name>
                    <script>mmp.locateAndEcho(multimatches[3][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>3</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You gaze into a seeing stone.</string>
                        <string>1</string>
                        <string>^(.*)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>5</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Birdseye</name>
                    <script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>From your vantage point in the sky, your crow senses perceive that</string>
                        <string>^From your vantage point in the sky, your crow senses perceive that (\w+) is (.*) within the vicinity of (.*)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Bond look</name>
                    <script>mmp.locateAndEcho(multimatches[3][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>3</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^You look through the mind of (.*)\:$</string>
                        <string>1</string>
                        <string>^(.*)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>5</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Pyramid probe #</name>
                    <script>local t = mmp.getnums(multimatches[2][2])
if not t then return end

echo&quot;\n&quot;

if #t == 1 then
	cecho(&quot;&lt;red&gt;From your knowledge, that room is in &lt;orange_red&gt;&quot;..mmp.areatabler[getRoomArea(t[1])]..&quot;&lt;red&gt;.&quot;)
else
	cecho(&quot;&lt;red&gt;From your knowledge, that room might be in &lt;orange_red&gt;&quot;..mmp.areatabler[getRoomArea(t[1])]..&quot;&lt;red&gt;.&quot;)
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You lightly caress a button on a paradox puzzle pyramid and suddenly a hazy image of</string>
                        <string>^You lightly caress a button on a paradox puzzle pyramid and suddenly a hazy image of (.*) flashes momentarily in front of you\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Pentagon probe #</name>
                    <script>local t = mmp.getnums(multimatches[2][2])
if not t then return end

echo&quot;\n&quot;

if #t == 1 then
	cecho(&quot;&lt;red&gt;From your knowledge, that room is in &lt;orange_red&gt;&quot;..mmp.areatabler[getRoomArea(t[1])]..&quot;&lt;red&gt;.&quot;)
else
	cecho(&quot;&lt;red&gt;From your knowledge, that room might be in &lt;orange_red&gt;&quot;..mmp.areatabler[getRoomArea(t[1])]..&quot;&lt;red&gt;.&quot;)
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You lightly caress a button on a paradox puzzle pentagon and suddenly a hazy image of</string>
                        <string>^You lightly caress a button on a paradox puzzle pentagon and suddenly a hazy image of (.+) \(room \#\d+\) flashes momentarily in front of you\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Pyramid port</name>
                    <script>local t = mmp.getnums(multimatches[2][2])
if not t then return end

echo&quot;\n&quot;

if #t == 1 then
	cecho(&quot;&lt;red&gt;Porting to &lt;orange_red&gt;&quot;..mmp.areatabler[getRoomArea(t[1])]..&quot;&lt;red&gt;.&quot;)
else
	cecho(&quot;&lt;red&gt;Might be porting to &lt;orange_red&gt;&quot;..mmp.areatabler[getRoomArea(t[1])]..&quot;&lt;red&gt;.&quot;)
end	</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your hands become a blur as you twist and turn a paradox puzzle pyramid until each side is made up of the same colour, solving the puzzle in mere moments. Suddenly the image of</string>
                        <string>^Your hands become a blur as you twist and turn a paradox puzzle pyramid until each side is made up of the same colour, solving the puzzle in mere moments. Suddenly the image of (.*) appears in the back of your mind and you feel drawn towards it\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Pyramid probe</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>99</conditonLineDelta>
                    <mStayOpen>4</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You lightly caress a few buttons on a paradox puzzle pyramid and suddenly a series of hazy images flashes momentarily in front of you.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Each location</name>
                        <script>local t = mmp.getnums(matches[2])
if not t then return end

if #t == 1 then
	cecho(&quot;&lt;red&gt; (in &lt;orange_red&gt;&quot;..mmp.areatabler[getRoomArea(t[1])]..&quot;&lt;red&gt;)&quot;)
else
	cecho(&quot;&lt;red&gt; (might be in &lt;orange_red&gt;&quot;..mmp.areatabler[getRoomArea(t[1])]..&quot;&lt;red&gt;)&quot;)
end</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^Puzzle point \d+ is set to (.+) \(</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Astrology scry</name>
                    <script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Gazing up at the sky, you bring the image of</string>
                        <string>^Gazing up at the sky, you bring the image of (\w+) into your mind's eye and overlay it on the constellations\. The power of the stars manifests as an image of (.+?) forms before your eyes\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Tierstone</name>
                    <script>mmp.locateAndEcho(multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>1</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You gaze into a glittering tierstone.</string>
                        <string>^\w+ is at (.+?) in (.*)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Quicksand</name>
                    <script>mmp.customwalkdelay(4)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You struggle slowly through the quicksand as you move</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Gravity</name>
                    <script>mmp.customwalkdelay(4)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>The dragging force of a war shrine of</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Crow spy</name>
                    <script>mmp.locateAndEcho(multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>An image of</string>
                        <string>^An image of \w+ (?:entering|leaving) (.+?) appears in the centre of the nest\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Crow spy remote</name>
                    <script>mmp.locateAndEcho(multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your nest projects into your head an image</string>
                        <string>^Your nest projects into your head an image of \w+ (?:entering|exiting) (.+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>City/commune shops menu</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>3</conditonLineDelta>
                    <mStayOpen>500</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>************************[ Local shops selling healing ]************************</string>
                        <string>3</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>5</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Shop</name>
                        <script>local shop = line:sub(1, 25):trim()
if shop:sub(1,1) == '*' then return end

cecho(&quot;  &lt;orange_red&gt;(&quot;)
mmp.echonums(shop)
cecho(&quot;&lt;orange_red&gt;)&quot;)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Stop (city/commune shops menu)</name>
                        <script>setTriggerStayOpen(&quot;City/commune shops menu&quot;, 0)</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>return isPrompt()</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>4</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Imperian</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>99</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Login</name>
                    <script>raiseEvent(&quot;mmp logged in&quot;, &quot;Imperian&quot;)
mmp.game = &quot;imperian&quot;</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Password correct. Welcome to Imperian.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Wormholes</name>
                    <script>local room1 = mmp.roomEcho(multimatches[2][2])
local room2 = mmp.roomEcho(multimatches[2][3])
selectCurrentLine()
replace(&quot;&quot;)
mmp.echon(&quot;Stable wormhole between &quot; .. room1)
mmp.roomEcho(room1)
echo(&quot; and &quot; .. room2)
mmp.roomEcho(room2)
echo(&quot;.\n&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You sense a stable wormhole between</string>
                        <string>^You sense a stable wormhole between (.+?) and (.+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Personal wormholes</name>
                    <script>selectCurrentLine()
replace(&quot;&quot;)
mmp.echon(&quot;Personal wormhole at &quot; .. multimatches[2][2])
mmp.roomEcho(multimatches[2][2])
echo(&quot;. It is attached to &quot; .. multimatches[2][3] .. &quot;.\n&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You sense a personal wormhole at</string>
                        <string>^You sense a personal wormhole at (.+). It is attached to (.+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Parse wholist</name>
                    <script>selectCaptureGroup(2)
replace(&quot;&quot;)
mmp.roomEcho(matches[3])
 </script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>.+( \- [A-Z].+?\s*?) \- (.+)</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Trap went off</name>
                    <script>selectCurrentLine()
replace(&quot;&quot;)
mmp.echon(&quot;Your trap at &quot; .. multimatches[2][2])
mmp.roomEcho(multimatches[2][2])
echo(&quot; was set off by &quot; .. multimatches[2][3] .. &quot;!!!\n&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Your alarm at</string>
                        <string>^Your alarm at \'(.+)\' has been set off by (\w+)\!$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Trap List</name>
                    <script>-- the first pattern is not blank, there are spaces there

selectCurrentLine()
replace(&quot;&quot;)
echo(&quot;[&quot; .. multimatches[2][2] .. &quot;] (&quot; .. multimatches[2][3] .. &quot;) at &quot; .. multimatches[2][4])
mmp.roomEcho(multimatches[2][4]) </script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>   </string>
                        <string>^   (\w+) \((\w+)\) at (.+)$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Scout</name>
                    <script>-- bad, overzealous trigger - the pattern needs to be improved
mmp.roomEcho(multimatches[2][2]) </script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>   </string>
                        <string>^   .+ at (.+)$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Hunt</name>
                    <script>selectCurrentLine()
replace(&quot;&quot;)
cecho(&quot;&lt;chocolate&gt;&quot; .. matches[2] .. &quot;&lt;grey&gt; moved to &lt;sienna&gt;&quot; .. matches[3] .. &quot;, &lt;white&gt;&quot; ..matches[4])
mmp.roomEcho(matches[3]) </script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^You sense that (\w+) has entered (.+)\, (.+)\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Sewer grate</name>
                    <script>mmp.enterGrate()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>A sewer grate prevents you from moving down into the sewers.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Caravan</name>
                    <script>mmp.customwalkdelay(15)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You begin leading a caravan</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Midkemia Online</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>99</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Login</name>
                    <script>raiseEvent(&quot;mmp logged in&quot;, &quot;Midkemia Online&quot;)
mmp.game = &quot;mko&quot;</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Password correct. Welcome to Midkemia Online.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Fording</name>
                    <script>mmp.customwalkdelay(3)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You ford the water towards the </string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Lithmeria</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Login</name>
                    <script>raiseEvent(&quot;mmp logged in&quot;, &quot;Lithmeria&quot;)
mmp.game = &quot;lithmeria&quot;
mmp.echo(&quot;We're connected to Lithmeria.&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>Welcome to your account!</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Wall</name>
                <script>mmp.failpath()</script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList>
                    <string>A wall blocks your way.</string>
                </regexCodeList>
                <regexCodePropertyList>
                    <integer>3</integer>
                </regexCodePropertyList>
            </Trigger>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Doors</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Closing doors</name>
                    <script></script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>1</conditonLineDelta>
                    <mStayOpen>1</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You open the door to the</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                    </regexCodePropertyList>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Lack of piety</name>
                        <script>mmp.failpath()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^You try to open the door to the (\w+) but find it slams closed in your face, symbolic of your lack of piety\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Slam Shut</name>
                        <script>mmp.failpath()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>1</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The door slams shut!</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Denied entry</name>
                        <script>mmp.failpath()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The door suddenly slams shut, denying you entry.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>CIJ</name>
                        <script>mmp.failpath()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>A section of the door slides aside, and a rubber-gloved fist on a spring pops out and punches you in the nose!</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Springs back</name>
                        <script>mmp.failpath()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The door budges, and then springs immediately back into place.</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Bolted</name>
                        <script>mmp.failpath()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>^The door to the (\w+) is closed forcefully fromthe other side and the sound of a bolt being slammed home makes your lack of admittance clear\.$</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>1</integer>
                        </regexCodePropertyList>
                    </Trigger>
                    <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                        <name>Self-closing door</name>
                        <script>mmp.failpath()</script>
                        <triggerType>0</triggerType>
                        <conditonLineDelta>0</conditonLineDelta>
                        <mStayOpen>0</mStayOpen>
                        <mCommand></mCommand>
                        <packageName></packageName>
                        <mFgColor>#ff0000</mFgColor>
                        <mBgColor>#ffff00</mBgColor>
                        <mSoundFile></mSoundFile>
                        <colorTriggerFgColor>#000000</colorTriggerFgColor>
                        <colorTriggerBgColor>#000000</colorTriggerBgColor>
                        <regexCodeList>
                            <string>The door closes swiftly with a loud 'BANG'!</string>
                        </regexCodeList>
                        <regexCodePropertyList>
                            <integer>3</integer>
                        </regexCodePropertyList>
                    </Trigger>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Door closed</name>
                    <script>mmp.failpath()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>2</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You open the door to the</string>
                        <string>return isPrompt()</string>
                        <string>^The door to the \w+ closes with a click\.$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>4</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Failed to open Door</name>
                    <script>mmp.failpath()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You are not carrying a key for this door.</string>
                        <string>This door has been magically locked shut.</string>
                        <string>Not recognising you as cast or crew, stagehands firmly close the door on you.</string>
                        <string>You push against the door in vain as you try to open it.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                        <integer>3</integer>
                        <integer>3</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Door Locked</name>
                    <script>mmp.unlockDoor()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>The door is locked.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Door in the way</name>
                    <script>mmp.openDoor()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>There is a door in the way, to the</string>
                        <string>There is a door in the way.</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>3</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Wormholes</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Worm sources</name>
                    <script>deleteLine()
local from = multimatches[2][2]
local to = multimatches[2][3]

cecho(&quot;\nYou see connections between &quot;..from..&quot; (&quot;)
mmp.echonums(from)
cecho(&quot;) and &quot;..to..&quot; (&quot;)
mmp.echonums(to)
cecho(&quot;)&quot;)
</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You sense a connection between</string>
                        <string>^You sense a connection between (.*) and (.*).$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Worm seek</name>
                    <script>mmp.locateAndEcho(multimatches[2][2])</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You sense a wormhole leading to</string>
                        <string>^You sense a wormhole leading to (.*).$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Wormhole Vision™</name>
                    <script>--if not getSpecialExitsSwap or mmp.settings.lockwormholes then return end
if not getSpecialExitsSwap then return end

local exits = getSpecialExitsSwap(mmp.currentroom)
if exits and exits[&quot;worm warp&quot;] then
  cecho(string.format(&quot;\n&lt;DarkSlateGrey&gt;A wormhole is here, leading to: &lt;orange_red&gt;%s (#%d)&lt;DarkSlateGrey&gt; in %s.\n&quot;, getRoomName(exits[&quot;worm warp&quot;]), exits[&quot;worm warp&quot;], mmp.cleanAreaName(mmp.getAreaName(exits[&quot;worm warp&quot;]))))
end</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>You see exits</string>
                        <string>You see a single exit</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>2</integer>
                        <integer>2</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
        </TriggerGroup>
        <TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
            <name>mapcap</name>
            <script></script>
            <triggerType>0</triggerType>
            <conditonLineDelta>0</conditonLineDelta>
            <mStayOpen>0</mStayOpen>
            <mCommand></mCommand>
            <packageName>mapcap</packageName>
            <mFgColor>#ff0000</mFgColor>
            <mBgColor>#ffff00</mBgColor>
            <mSoundFile></mSoundFile>
            <colorTriggerFgColor>#000000</colorTriggerFgColor>
            <colorTriggerBgColor>#000000</colorTriggerBgColor>
            <regexCodeList/>
            <regexCodePropertyList/>
            <TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                <name>Map capture</name>
                <script></script>
                <triggerType>0</triggerType>
                <conditonLineDelta>0</conditonLineDelta>
                <mStayOpen>0</mStayOpen>
                <mCommand></mCommand>
                <packageName></packageName>
                <mFgColor>#ff0000</mFgColor>
                <mBgColor>#ffff00</mBgColor>
                <mSoundFile></mSoundFile>
                <colorTriggerFgColor>#000000</colorTriggerFgColor>
                <colorTriggerBgColor>#000000</colorTriggerBgColor>
                <regexCodeList/>
                <regexCodePropertyList/>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Top map line</name>
                    <script>selectCaptureGroup(1)
copy()
clearWindow(&quot;labels.mapwin&quot;)
appendBuffer(&quot;labels.mapwin&quot;)
deleteLine()
enableTrigger(&quot;MapContents&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>^--- Area (\d+)\: (\w+) (.+) v(\d+) ---$</string>
                        <string>^--- Area (\d+)\: (\w+)\' (.+) v(\d+) ---$</string>
                        <string>^---(.+) v(\d+) (.+)$</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                        <integer>1</integer>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>Bottom map line</name>
                    <script>selectCaptureGroup(1)
copy()
appendBuffer(&quot;labels.mapwin&quot;)
deleteLine()
disableTrigger(&quot;MapContents&quot;)</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>\-(.+)\:(.+)\:(.+)\-</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
                <Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
                    <name>MapContents</name>
                    <script>selectCaptureGroup(1)
copy()
appendBuffer(&quot;labels.mapwin&quot;)
deleteLine()</script>
                    <triggerType>0</triggerType>
                    <conditonLineDelta>0</conditonLineDelta>
                    <mStayOpen>0</mStayOpen>
                    <mCommand></mCommand>
                    <packageName></packageName>
                    <mFgColor>#ff0000</mFgColor>
                    <mBgColor>#ffff00</mBgColor>
                    <mSoundFile></mSoundFile>
                    <colorTriggerFgColor>#000000</colorTriggerFgColor>
                    <colorTriggerBgColor>#000000</colorTriggerBgColor>
                    <regexCodeList>
                        <string>.+</string>
                    </regexCodeList>
                    <regexCodePropertyList>
                        <integer>1</integer>
                    </regexCodePropertyList>
                </Trigger>
            </TriggerGroup>
        </TriggerGroup>
    </TriggerPackage>
    <TimerPackage>
        <TimerGroup isActive="yes" isFolder="yes" isTempTimer="no" isOffsetTimer="no">
            <name>oasis</name>
            <script></script>
            <command></command>
            <packageName></packageName>
            <time>00:00:00.000</time>
            <Timer isActive="yes" isFolder="no" isTempTimer="no" isOffsetTimer="no">
                <name>gmcp keepalive</name>
                <script>sendGMCP(&quot;Core.KeepAlive&quot;)</script>
                <command></command>
                <packageName></packageName>
                <time>00:00:30.000</time>
            </Timer>
            <Timer isActive="yes" isFolder="no" isTempTimer="no" isOffsetTimer="no">
                <name>visual warning loop</name>
                <script>if package.loaded.ui then
	ui:viswarn_loop()
end</script>
                <command></command>
                <packageName></packageName>
                <time>00:00:00.500</time>
            </Timer>
            <Timer isActive="yes" isFolder="no" isTempTimer="no" isOffsetTimer="no">
                <name>light pipes</name>
                <script>inv.pipe_empty(&quot;light&quot;)
</script>
                <command></command>
                <packageName></packageName>
                <time>00:01:00.000</time>
            </Timer>
        </TimerGroup>
    </TimerPackage>
    <AliasPackage>
        <AliasGroup isActive="yes" isFolder="yes">
            <name>oasis</name>
            <script></script>
            <command></command>
            <packageName></packageName>
            <regex></regex>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>oasys</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>muse</name>
                    <script>muse.build(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^muse (\w+)$</regex>
                    <AliasGroup isActive="yes" isFolder="yes">
                        <name>forging</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex></regex>
                        <Alias isActive="yes" isFolder="no">
                            <name>light forge</name>
                            <script>local num = tonumber(matches[2])
light_forge(num)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ff (\d+)$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>forge time</name>
                            <script></script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ftime$</regex>
                        </Alias>
                    </AliasGroup>
                </AliasGroup>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>utility</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>vote</name>
                        <script>openUrl(&quot;http://www.aetolia.com/vote&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^vote$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>darkness</name>
                        <script>send(&quot;conjure darkness&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^dark$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>ink tattoo</name>
                        <script>if matches[3] then
	tattoo(matches[2], matches[3])
else
	tattoo(matches[2])
end</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^ink (\w+)( \w+)?$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>dominate entity</name>
                        <script>send(&quot;dominate &quot; .. matches[2] .. &quot;#declare essence#generous&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^dom (.+)$</regex>
                    </Alias>
                </AliasGroup>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>logging</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>start logging</name>
                        <script>logger.startlogging()
o.logging = true</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^startlog$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>stop logging</name>
                        <script>logger.stoplogging(matches[2]:gsub(&quot; &quot;, &quot;_&quot;))
o.logging = nil</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^stoplog ?(.+)?$</regex>
                    </Alias>
                </AliasGroup>
                <Alias isActive="yes" isFolder="no">
                    <name>execute lua</name>
                    <script>execute_lua(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^\!(.+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>pause/unpause</name>
                    <script>pause_unpause(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(un)?pause$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>pause/unpause toggle</name>
                    <script>pause_unpause_toggle()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^pp$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>debug toggle</name>
                    <script>debug_toggle()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^debug$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>quit</name>
                    <script>qq()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^qq$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>init</name>
                    <script>init_oasis()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^init$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>set target</name>
                    <script>set_target(matches[2], matches[3], true)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^t (\w+)\s?(living|undead|l|u)?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>access web portal</name>
                    <script>local arg = matches[2]

if not arg then
	e.info(&quot;Click below to access Oasis' web portal:&quot;)
	cecho(&quot;\n   &lt;deep_sky_blue&gt;:   &quot;)
	echoLink(&quot;Oasis Homepage&quot;, [[openUrl(&quot;http://oasis.interimreality.com/&quot;)]], &quot;Click to open Oasis' web portal.&quot;)
	cecho(&quot;\n   &lt;deep_sky_blue&gt;:   &quot;)
	echoLink(&quot;Oasis Features&quot;, [[openUrl(&quot;http://oasis.interimreality.com/features&quot;)]], &quot;Click to open Oasis' web portal.&quot;)
	cecho(&quot;\n   &lt;deep_sky_blue&gt;:   &quot;)
	echoLink(&quot;Oasis Documentation&quot;, [[openUrl(&quot;http://oasis.interimreality.com/docs/&quot;)]], &quot;Click to open Oasis' web portal.&quot;)
	cecho(&quot;\n   &lt;deep_sky_blue&gt;:   &quot;)
	echoLink(&quot;Oasis Hastebin&quot;, [[openUrl(&quot;http://paste.interimreality.com/&quot;)]], &quot;Click to open Oasis' web portal.&quot;)
	cecho(&quot;\n   &lt;deep_sky_blue&gt;:   &quot;)
	echoLink(&quot;Contact Us&quot;, [[openUrl(&quot;http://oasis.interimreality.com/contact/&quot;)]], &quot;Click to open Oasis' web portal.&quot;)
	return
end

if arg == &quot;home&quot; then
	openUrl(&quot;http://oasis.interimreality.com/&quot;)
elseif arg == &quot;feat&quot; or arg == &quot;features&quot; then
	openUrl(&quot;http://oasis.interimreality.com/features/&quot;)
elseif arg == &quot;docs&quot; or arg == &quot;documentation&quot; then
	openUrl(&quot;http://oasis.interimreality.com/docs/&quot;)
elseif arg == &quot;paste&quot; or arg == &quot;hastebin&quot; then
	openUrl(&quot;http://paste.interimreality.com/&quot;)
elseif arg == &quot;cont&quot; or arg == &quot;contact&quot; then
	openUrl(&quot;http://oasis.interimreality.com/contact/&quot;)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^oasys\s?(?:\s+(\w+))?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>test</name>
                    <script>local function test_return()
	return &quot;sup&quot;, &quot;yo&quot;
end

local test = test_return()
display(test)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^test$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>set configs</name>
                    <script>set_configs()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^set configs$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>loop send</name>
                    <script>local count = tonumber(matches[2])
local str = matches[3]

local loop = 0

while loop &lt; count do
	send(str)
	loop = loop + 1
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^#(\d+) (.*)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>reload</name>
                    <script>reload_oasis()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^reload$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>release failsafes</name>
                    <script>fs.release()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^fsr$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>temp toggle</name>
                    <script>local cap = matches[2]

local registered = {
	[&quot;as&quot;] = &quot;angel_sear&quot;,
	[&quot;b&quot;] = &quot;batter&quot;,
	[&quot;bd&quot;] = &quot;bonedagger&quot;,
	[&quot;com&quot;] = &quot;combustion&quot;,
	[&quot;dbc&quot;] = &quot;double_call&quot;,
	[&quot;dsw&quot;] = &quot;dsw&quot;,
	[&quot;e&quot;] = &quot;entourage&quot;,
	[&quot;ew&quot;] = &quot;earthenwill&quot;,
	[&quot;fr&quot;] = &quot;furor&quot;,
	[&quot;fc&quot;] = &quot;fracture&quot;,
	[&quot;i&quot;] = &quot;implant&quot;,
	[&quot;l&quot;] = &quot;lightning&quot;,
	[&quot;o&quot;] = &quot;opportunity&quot;,
	[&quot;ph&quot;] = &quot;prehypno&quot;,
	[&quot;r&quot;] = &quot;xbow_reload&quot;,
	[&quot;s&quot;] = &quot;xbow_qshoot&quot;,
	[&quot;sac&quot;] = &quot;sacrifice&quot;,
	[&quot;scon&quot;] = &quot;soul_cons&quot;,
	[&quot;sg&quot;] = &quot;scourge&quot;,
	[&quot;sm&quot;] = &quot;smite&quot;,
	[&quot;ss&quot;] = &quot;smash&quot;
}

if not registered[cap] then return end

local cap = registered[cap]

if tmp[cap] then
	tmp[cap] = nil
	e.warn(&quot;Temporary switch &lt;red&gt;\'&quot; .. cap .. &quot;\' &lt;navajo_white&gt;disengaged.&quot;, true, false)
else
	tmp[cap] = true
	e.echo(&quot;Temporary switch &lt;red&gt;\'&quot; .. cap .. &quot;\' &lt;grey&gt;engaged.&quot;, true, false)
end

fs.release()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^tmp (\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>monolith</name>
                    <script>send(&quot;attach flame to monolith&quot; .. o.config_sep .. &quot;drop monolith&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^mono$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>update</name>
                    <script>download_oasis()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^update$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>the feels</name>
                    <script>send(&quot;godfeelings&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(feels|thefeels)$</regex>
                </Alias>
            </AliasGroup>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>afflictions</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>diag</name>
                    <script>if can.diag() and o.bals.balance and o.bals.equilibrium then
	send(&quot;diag&quot;)
else
	affs.diag = true
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^diag$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>set curing</name>
                    <script>local cap = matches[2]	

if set == &quot;switch&quot; then
	if set.switch_focus then
		set.switch_focus = false
		e.echo(&quot;Focus and tree curing restored to normal order.&quot;)
	else
		set.switch_focus = true
		e.echo(&quot;Focus and tree curing order switched.&quot;)
	end
elseif set == &quot;stormtouched&quot; then
	if set.stormtouched then
		set.stormtouched = false
		e.echo(&quot;Will no longer prevent stormtouched.&quot;)
	else
		set.stormtouched = true
		e.echo(&quot;Will prevent stormtouched.&quot;)
	end
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^cure (\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>precache</name>
                    <script>if tmp.paused then return end

local herbs = {

		living = {

			&quot;ash&quot;,
			&quot;goldenseal&quot;,
			&quot;kelp&quot;,
			&quot;lobelia&quot;,
			&quot;ginseng&quot;,
			&quot;bellwort&quot;,
			&quot;bloodroot&quot;,
			&quot;moss&quot;,
			&quot;kola&quot;,
			&quot;cohosh&quot;,
			&quot;hawthorn&quot;,
			&quot;bayberry&quot;,
			&quot;sileris&quot;,
			&quot;pear&quot;,
			&quot;elm&quot;,
			&quot;valerian&quot;,
			&quot;skullcap&quot;,

		},

		undead = {

			&quot;bladder_slice&quot;,
			&quot;liver_slice&quot;,
			&quot;eyeball_slice&quot;,
			&quot;testis_slice&quot;,
			&quot;ovary_slice&quot;,
			&quot;castorite_slice&quot;,
			&quot;lung_slice&quot;,
			&quot;kidney_slice&quot;,
			&quot;sulphurite_slice&quot;,
			&quot;tongue_slice&quot;,
			&quot;heart_slice&quot;,
			&quot;stomach_slice&quot;,
			&quot;bone_slice&quot;,
			&quot;pancreas&quot;,
			&quot;pineal_slice&quot;

		}
}

local n = matches[2] or &quot;5&quot;

fs.off(&quot;x&quot;)

local prec = {}

table.insert(prec, &quot;incall&quot;)
	if affs.stupidity then
		table.insert(prec, &quot;incall&quot;)
	end

for i, v in ipairs(herbs[o.stats.status]) do
	table.insert(prec, &quot;outc &quot; .. n .. &quot; &quot; .. v)
end

local config_sep = o.config_sep

while #prec &gt; 0 do
	local tlen = (#prec &gt; 10) and 10 or #prec
	send(table.concat(prec, config_sep, 1, tlen), false)
		
	for i=1,tlen do
		table.remove(prec, 1)
	end
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^prec ?(\d+)?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>fool</name>
                    <script>send(&quot;outc blank as fool#fling fool at me&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^fool$</regex>
                </Alias>
            </AliasGroup>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>bashing</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>set bashing</name>
                    <script>if bash.sets.bash then
	bash.sets.bash = false
	e.echo(&quot;Bashing deactivated.&quot;, false, true)
	fs.release()
	send(&quot;qeb&quot;)
	send(&quot;qb&quot;)
	send(&quot;qe&quot;)
else
	bash.sets.bash = true
	e.echo(&quot;Bashing activated.&quot;, false, true)
	fs.release()
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^bash$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>ylem orbs</name>
                    <script>send(&quot;activate crimsonorb&quot;)
send(&quot;activate ceruleanorb&quot;)
send(&quot;activate greenorb&quot;)
send(&quot;activate amberorb&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^orbs$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>set bashing action</name>
                    <script>bash.define(o.stats.class, matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^set bash ?(\w+)?$</regex>
                </Alias>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>templar</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>sacrifice</name>
                        <script>if o.stats.class ~= &quot;templar&quot; then return end
local num = tonumber(matches[2])
if num &lt; 0 then num = 0 elseif num &gt; 2 then num = 2 end
if num == 0 then
	bash.sets.templar.sac = &quot;&quot;
	e.echo(&quot;Will no longer use sacrifice.&quot;, true, false)
elseif num == 1 then
	bash.sets.templar.sac = &quot;sacrifice&quot;
	e.echo(&quot;Will use sacrifice once.&quot;, true, false)
elseif num == 2 then
	bash.sets.templar.sac = &quot;sacrifice sacrifice&quot;
	e.echo(&quot;Will use sacrifice twice.&quot;, true, false)
end</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^sac (\d+)$</regex>
                    </Alias>
                </AliasGroup>
            </AliasGroup>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>character database</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>char add</name>
                    <script>cdb.add(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:char|cdb) add (\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>char rem</name>
                    <script>cdb.rem(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:char|cdb) (?:rem|del) (\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>char update</name>
                    <script>cdb.update(matches[2], matches[3], matches[4])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:char|cdb) (?:upd|update) (\w+) (\w+) (\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>char status</name>
                    <script>cdb.assume_status(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:char|cdb) (?:status|stat) (\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>char show</name>
                    <script>cdb.show(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:char|cdb) show (\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>char save</name>
                    <script>cdb.save(true)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:char|cdb) save$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>char load</name>
                    <script>cdb.load()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:char|cdb) load$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>char refresh</name>
                    <script>cdb.refresh(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:char|cdb) (?:ref|refresh)? ?(\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>char reset</name>
                    <script>cdb.reset(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:char|cdb) (?:r|res|reset)? ?(\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>char scan</name>
                    <script>if cdb.scanning then
	cdb.scanning = nil
	e.info(&quot;Will now no longer automatically download dossier files.&quot;, true, false)
else
	cdb.scanning = true
	e.info(&quot;Will now automatically download dossier files.&quot;, true, false)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:char|cdb) scan$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>char aff</name>
                    <script>local tar = tmp.target:title()
local t = cdb.chars[tar]
local aff = matches[2]
if t.affs[aff] then
	cdb.aff(tar, aff)
else
	cdb.aff(tar, matches[2], true)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^taff (\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>char def</name>
                    <script>local tar = tmp.target:title()
local t = cdb.chars[tar]
local def = matches[2]
if t.defs[def] then
	cdb.def(tar, def)
else
	cdb.def(tar, def, true)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^tdef (\w+)$</regex>
                </Alias>
            </AliasGroup>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>class specific</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>carnifex</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>soul consumption</name>
                        <script>send(&quot;soul consumption&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^scon$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>soul cull</name>
                        <script>send(&quot;soul cull&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^scu$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>soul strike</name>
                        <script>send(&quot;soul strike wraith&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^sst$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>hound destroy</name>
                        <script>send(&quot;hound dismiss &quot; .. matches[2] .. o.config_sep .. &quot;hound reject &quot; .. matches[2] .. &quot; confirm&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^hound destroy (\d+)$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>warhounds recall</name>
                        <script>tmp.hounds = {
	&quot;31214&quot;,
	&quot;31255&quot;,
	&quot;24990&quot;
}

send(&quot;hound recall &quot; .. table.concat(tmp.hounds, o.config_sep .. &quot;hound recall &quot;))
expandAlias(&quot;hs &quot; .. tmp.hounds[1])</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^hr$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>warhounds switch</name>
                        <script>tmp.warhounds_switch = matches[2]
send(&quot;hound switch &quot; .. matches[2])
</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^(?:hound switch|hs) (\d+)$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>chains</name>
                        <script>send(&quot;soul summon chains&quot;)</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^ss$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>hound whistle</name>
                        <script>send(&quot;hound whistle all&quot;)
expandAlias(&quot;hs &quot; .. tmp.hounds[1])</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^hw$</regex>
                    </Alias>
                </AliasGroup>
                <Alias isActive="yes" isFolder="no">
                    <name>gravehands/piety/chains</name>
                    <script>if o.stats.class == &quot;carnifex&quot; then
	send(&quot;soul summon chains&quot;)
elseif o.stats.class == &quot;indorani&quot; then
	send(&quot;summon hands of the grave&quot;)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^gh$</regex>
                </Alias>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>praenomen</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <AliasGroup isActive="yes" isFolder="yes">
                        <name>rituos</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex></regex>
                        <Alias isActive="yes" isFolder="no">
                            <name>scythe</name>
                            <script>send(&quot;outc wood&quot; .. o.config_sep .. &quot;outc steel&quot; .. o.config_sep .. &quot;chant veza ilos de yena kelo wo de&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^scythe$</regex>
                        </Alias>
                    </AliasGroup>
                </AliasGroup>
            </AliasGroup>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>defenses</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>keep def</name>
                    <script>fs.release()

local def = matches[2]

local registered = {
	[&quot;ac&quot;] = &quot;alacrity&quot;,
	[&quot;f&quot;] = &quot;furor&quot;
}

if registered[def] then
	def = registered[def]
end

if defs.sets[def] then
	defs.keep(defs.sets[def], true)
else
	defs.keep(def, true)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:kf|kdef) ?(\w+)?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>no keep def</name>
                    <script>fs.release()

local def = matches[2]

local registered = {
	[&quot;ac&quot;] = &quot;alacrity&quot;,
	[&quot;f&quot;] = &quot;furor&quot;
}

if registered[def] then
	def = registered[def]
end

defs.nokeep(def, true)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:nf|nodef) ?(.+)?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>dodging</name>
                    <script>local can_dodge = {
	&quot;charge&quot;,
	&quot;melee&quot;,
	&quot;ranged&quot;,
	&quot;upsets&quot;
}</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^dd ?(\w+)?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>parrying</name>
                    <script>fs.release()

local alias = matches[2]

defs.preserve.parrying = true
tmp.parry = true

local function clear_modes()
	for _, m in ipairs({ &quot;manual&quot;, &quot;random&quot; }) do
		defs.parry[m] = false
	end
end

local function set_manual()
	if defs.parry.manual then return end

	clear_modes()
	defs.parry.manual = true

	e.warn(&quot;Manual parrying engaged. May the Force be with you.&quot;, false, true)
end

local function set_mode(mode)
	clear_modes()
	defs.parry[mode] = true
	
	e.warn(&quot;\'&quot; .. mode:title() .. &quot;\' parrying engaged.&quot;, false, true)
end

if alias == &quot;ph&quot; then
	defs.parry.limb = &quot;head&quot;
	e.warn(&quot;Parrying head.&quot;, false, true)
	set_manual()
elseif alias == &quot;pt&quot; then
	defs.parry.limb = &quot;torso&quot;
	e.warn(&quot;Parrying torso.&quot;, false, true)
	set_manual()
elseif alias == &quot;pll&quot; then
	defs.parry.limb = &quot;left leg&quot;
	e.warn(&quot;Parrying left leg.&quot;, false, true)
	set_manual()
elseif alias == &quot;prl&quot; then
	defs.parry.limb = &quot;right leg&quot;
	e.warn(&quot;Parrying right leg.&quot;, false, true)
	set_manual()
elseif alias == &quot;pla&quot; then
	defs.parry.limb = &quot;left arm&quot;
	e.warn(&quot;Parrying left arm.&quot;, false, true)
	set_manual()
elseif alias == &quot;pra&quot; then
	defs.parry.limb = &quot;right arm&quot;
	e.warn(&quot;Parrying right arm.&quot;, false, true)
	set_manual()
elseif alias == &quot;prand&quot; then
	set_mode(&quot;random&quot;)
elseif alias == &quot;ptr&quot; then
	if not matches[3] then
		e.warn(&quot;Will no longer re-parry on a recursive timer.&quot;)
		defs.parry.timer = false
		if timers.parry_timer then killTimer(timers.parry_timer) end
		return
	end
	defs.parry.timer = matches[3]
	e.warn(&quot;Will now re-parry every &lt;dark_orange&gt;&quot; .. defs.parry.timer .. &quot; &lt;navajo_white&gt;seconds.&quot;)
elseif alias == &quot;ps&quot; then
	if defs.parry.on_sync then
		defs.parry.on_sync = false
		e.warn(&quot;Will no longer re-parry when regaining sync.&quot;)
	else
		defs.parry.on_sync = true
		e.warn(&quot;Will now re-parry when regaining sync.&quot;)
	end
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(ph|pt|pll|prl|pla|pra|prand|ptr|ps) ?(\d+)?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>check defenses</name>
                    <script>defs.check(true)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(dchk|def check|defs check|check defenses|check defs)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>shielded</name>
                    <script>if not can.reqbaleq() and o.bals.balance and o.bals.equilibrium then return end

if _gmcp.has_skill(&quot;shield&quot;, &quot;hematurgy&quot;) and defs.active.wisp_form then
	send(&quot;wisp shield&quot;)
elseif _gmcp.has_skill(&quot;soulshield&quot;, &quot;deathlore&quot;) then
	send(&quot;soul shield&quot;)
elseif _gmcp.has_skill(&quot;aura&quot;, &quot;spirituality&quot;) then
	send(&quot;angel aura&quot;)
elseif _gmcp.has_skill(&quot;shield&quot;, &quot;desiccation&quot;) then
	send(&quot;sand shield&quot;)
else
	send(&quot;touch shield&quot;)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^ts$</regex>
                </Alias>
            </AliasGroup>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>config</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>toggles</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                </AliasGroup>
                <Alias isActive="yes" isFolder="no">
                    <name>set prerestore</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^set pr (\w+)? ?(\d+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>set manafloor</name>
                    <script>affs.sets.mfloor = tonumber(matches[2]*0.01)
e.echo(&quot;Will now stay above &lt;medium_slate_blue&gt;&quot; .. matches[2] .. &quot;% &lt;grey&gt;mana.&quot;, true, false)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^set mf (\d+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>set bleedfloor</name>
                    <script>affs.sets.bleedfloor = tonumber(matches[2])
e.echo(&quot;Will now clot down to &lt;medium_slate_blue&gt;&quot; .. matches[2] .. &quot; &lt;grey&gt;bleeding.&quot;, true, false)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^set bf (\d+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>set heal</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^set h (\d+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>set stability</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^set stability$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>set recklessness</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^set rcls (\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>set wield</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^set w (.+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>set parry</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^set parry (.+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>set siphealth</name>
                    <script>affs.sets.siphealth = tonumber(matches[2])
e.echo(&quot;Will now sip health at &lt;medium_slate_blue&gt;&quot; .. matches[2] .. &quot;% &lt;grey&gt;health.&quot;, true, false)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^set sh (\d+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>set sipmana</name>
                    <script>affs.sets.sipmana = tonumber(matches[2])
e.echo(&quot;Will now sip mana at &lt;medium_slate_blue&gt;&quot; .. matches[2] .. &quot;% &lt;grey&gt;mana.&quot;, true, false)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^set sm (\d+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>set healthmoss</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^set hm (\d+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>set manamoss</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^set mm (\d+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>set forcehealth</name>
                    <script>affs.sets.forcehealth = tonumber(matches[2])
e.echo(&quot;Will now force health at &lt;medium_slate_blue&gt;&quot; .. matches[2] .. &quot;% &lt;grey&gt;health.&quot;, true, false)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^set fh (\d+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>set forcemana</name>
                    <script>affs.sets.forcemana = tonumber(matches[2])
e.echo(&quot;Will now force mana at &lt;medium_slate_blue&gt;&quot; .. matches[2] .. &quot;% &lt;grey&gt;mana.&quot;, true, false)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^set fm (\d+)$</regex>
                </Alias>
            </AliasGroup>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>movement</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>goto person</name>
                    <script>local cap = matches[2]

if cap then
	cdb.goto(arg)
else
	if tmp.target == &quot;Nothing&quot; then
		e.warn(&quot;No target defined.&quot;)
		send(&quot; &quot;)
	else
		cdb.goto(tmp.target)		
	end
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^gp\s+?(\w+)?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>recall mount</name>
                    <script>send(&quot;recall mount&quot;)

--! todo: add quickmount when settings system is populated</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^rec$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>pathfinder</name>
                    <script>send(&quot;order pathfinder home&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^home$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>universe tarot</name>
                    <script>send(&quot;outc blank as universe&quot; .. o.config_sep .. &quot;fling universe at ground&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^univ$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>leap</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^lp (\w+)$</regex>
                </Alias>
            </AliasGroup>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>killswitch</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>toggle</name>
                    <script>if not ks then
	e.error(&quot;Killswitch not found. If you've purchased an offensive module, please contact support at:&quot;)
	e.cont()
	return
end
if not ks.engaged then
	ks.engaged = true
	bash.on = false
	fs.release()
	cdb.add(tmp.target)
	e.echo(&quot;Will now kill the target.&quot;, true, false)
	send(&quot; &quot;)

elseif ks.engaged then
	ks.engaged = false
	e.echo(&quot;Will no longer kill the target.&quot;, true, false)
	send(&quot;qeb&quot;)
	send(&quot;qe&quot;)
	send(&quot;qb&quot;)

end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^kill$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>allow</name>
                    <script>local arg = matches[2]

local registered = {
	a = { &quot;asthma&quot; },
	ae = { &quot;aeon&quot; },
	an = { &quot;anorexia&quot; },
	ano = { &quot;anorexia&quot; },
	ast = { &quot;anorexia&quot;, &quot;stupidity&quot; },
	asl = { &quot;asleep&quot;, &quot;insomnia&quot;, &quot;instawake&quot; },
	ab = { &quot;left_arm_broken&quot;, &quot;right_arm_broken&quot; },
	b = { &quot;blindness&quot; },
	br = {
			&quot;left_arm_bruised&quot;,
			&quot;left_arm_bruised_moderate&quot;,
			&quot;left_arm_bruised_critical&quot;,
			&quot;right_arm_bruised&quot;,
			&quot;right_arm_bruised_moderate&quot;,
			&quot;right_arm_bruised_critical&quot;,
			&quot;head_bruised&quot;,
			&quot;head_bruised_moderate&quot;,
			&quot;head_bruised_critical&quot;,
			&quot;torso_bruised&quot;,
			&quot;torso_bruised_moderate&quot;,
			&quot;torso_bruised_critical&quot;,
			&quot;right_leg_bruised&quot;,
			&quot;right_leg_bruised_moderate&quot;,
			&quot;right_leg_bruised_critical&quot;,
			&quot;left_leg_bruised&quot;,
			&quot;left_leg_bruised_moderate&quot;,
			&quot;left_leg_bruised_critical&quot;
	},
	brc = { &quot;left_arm_bruised_critical&quot;, &quot;right_arm_bruised_critical&quot;, &quot;head_bruised_critical&quot;, &quot;torso_bruised_critical&quot;, &quot;right_leg_bruised_critical&quot;, &quot;left_leg_bruised_critical&quot; },
	pr = { &quot;indifference&quot;, &quot;recklessness&quot;, &quot;stupidity&quot;, &quot;weariness&quot; }, --! todo: get ouabian and add peace
	c = { &quot;camus&quot; },
	cl = { &quot;clumsiness&quot;, &quot;magic_impaired&quot; },
	cm = { &quot;contemplate&quot; },
	cp = { &quot;camus&quot;, &quot;pall&quot; },
	ctb = { &quot;camus&quot;, &quot;thin_blood&quot; },
	d = { &quot;deafness&quot; },
	df = { &quot;disfigurement&quot; },
	dis = { &quot;soul_disease&quot; },
	dns = { &quot;deaf_no_sensi&quot; },
	dr = { &quot;mental_disruption&quot;, &quot;physical_disruption&quot; },
	fr = { &quot;insulation&quot;, &quot;shivering&quot;, &quot;frozen&quot; },
	frsc = { &quot;insulation&quot;, &quot;shivering&quot;, &quot;frozen&quot;, &quot;soulchill&quot; },
	haemo = { &quot;haemophilia&quot; },
	hf = { &quot;heartflutter&quot; },
	hfl = { &quot;heartflutter&quot;, &quot;lethargy&quot; },
	hs = { &quot;hellsight&quot; },
	hiero = { &quot;hierophant&quot; },
	ip = { &quot;implant&quot; },
	i = { &quot;impatience&quot; },
	ind = { &quot;indifference&quot; },
	l = { &quot;lethargy&quot; },
	lab = { &quot;left_arm_broken&quot; },
	lb = { &quot;right_leg_broken&quot;, &quot;left_leg_broken&quot; },
	ln = { &quot;loneliness&quot; },
	mi = { &quot;clumsiness&quot;, &quot;magic_impaired&quot; },
	p = { &quot;paresis&quot; },
	pc = { &quot;peace&quot; },
	pcl = { &quot;paresis&quot;, &quot;clumsiness&quot;, &quot;magic_impaired&quot; },
	rab = { &quot;right_arm_broken&quot; },
	rc = { &quot;recklessness&quot; },
	s = { &quot;slickness&quot; },
	sal = { &quot;sunlight_allergy&quot; },
	se = { &quot;seduction&quot; },
	shrc = { &quot;shriveled_chest&quot; },
	shiv = { &quot;insulation&quot;, &quot;shivering&quot;, &quot;frozen&quot;  },
	stm = { &quot;seduction&quot;, &quot;temptation&quot; },
	st = { &quot;stupidity&quot; },
	sv = { &quot;sensitivitiy&quot; },
	t = { &quot;temptation&quot; },
	tb = { &quot;thin_blood&quot; },
	vom = { &quot;vomiting&quot; },
	vt = { &quot;vomiting&quot; },
	w = { &quot;weariness&quot; },
	wh = { &quot;withering&quot; },
}

if registered[arg] then
	if ks.allow[registered[arg][1]] then
		for i, v in ipairs(registered[arg]) do
			ks.allow[v] = nil
			e.kswitch(&quot;Will no longer allow &lt;gold&gt;&quot; .. v .. &quot;&lt;grey&gt;.&quot;, true, false)
		end
	else
		for i, v in ipairs(registered[arg]) do
			ks.allow[v] = true
			e.kswitch(&quot;Will now allow &lt;gold&gt;&quot; .. v .. &quot;&lt;grey&gt;.&quot;, true, false)
		end	
	end
else	
	if not ks.allow[arg] then
		ks.allow[arg] = true
		e.kswitch(&quot;Will now allow &lt;gold&gt;&quot; .. arg .. &quot;&lt;grey&gt;.&quot;, true, false)
	else
		ks.allow[arg] = nil
		e.kswitch(&quot;Will no longer allow &lt;gold&gt;&quot; .. arg .. &quot;&lt;grey&gt;.&quot;, true, false)
	end
end	
fs.release()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^ksa (\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>check allow</name>
                    <script>ks.check_allow(o.stats.class, ks.sets.route)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^ksac$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>match</name>
                    <script>local class = o.stats.class
local match = ks.match[class]

local arg = matches[2]

local registered = {
	anx = { &quot;body_odor&quot;, &quot;commitment_fear&quot;, &quot;hubris&quot;, &quot;sadness&quot;, &quot;self_pity&quot; }
}

if registered[arg] then
	if match.allow[registered[arg][1]] then
		for i, v in ipairs(registered[arg]) do
			match.allow[v] = nil
			e.kswitch(&quot;Will no longer match &lt;gold&gt;&quot; .. v .. &quot;&lt;grey&gt;.&quot;, true, false)
		end
	else
		for i, v in ipairs(registered[arg]) do
			match.allow[v] = true
			e.kswitch(&quot;Will now match &lt;gold&gt;&quot; .. v .. &quot;&lt;grey&gt;.&quot;, true, false)
		end	
	end
else	
	if not match[arg] then
		match.allow[arg] = true
		e.kswitch(&quot;Will now allow &lt;gold&gt;&quot; .. arg .. &quot;&lt;grey&gt;.&quot;, true, false)
	else
		match.allow[arg] = nil
		e.kswitch(&quot;Will no longer allow &lt;gold&gt;&quot; .. arg .. &quot;&lt;grey&gt;.&quot;, true, false)
	end
end	
fs.release()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^ksm (\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>route</name>
                    <script>local class = o.stats.class

local registered = {
	[&quot;a&quot;] = &quot;affliction&quot;,
	[&quot;aff&quot;] = &quot;affliction&quot;,
	[&quot;b&quot;] = &quot;bruising&quot;,
	[&quot;d&quot;] = &quot;damage&quot;,
	[&quot;dam&quot;] = &quot;damage&quot;,
	[&quot;dt&quot;] = &quot;lock&quot;,
	[&quot;h&quot;] = &quot;hinder&quot;,
	[&quot;l&quot;] = &quot;lock&quot;,
	[&quot;lm&quot;] = &quot;limb&quot;
}

local route = registered[matches[2]] and registered[matches[2]] or matches[2]

if not ks.prio[class][route] then
	e.error(&quot;No route registered by the name \'&quot; .. route .. &quot;.\'&quot;)
	fs.release()
	return
end

ks.sets.route = route
e.echo(&quot;Killswitch route set to: &lt;deep_sky_blue&gt;&quot; .. route .. &quot;&lt;grey&gt;.&quot;, true, false)
fs.release()</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^ksr (\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>stack</name>
                    <script>local arg = tonumber(matches[2])

if arg &gt; 3 then arg = 3 end

ks.sets.stack = arg
if arg == 1 then
	e.echo(&quot;Will stack to &lt;gold&gt;1 &lt;grey&gt;herb affliction.&quot;, true, false)
else
	e.echo(&quot;Will stack to &lt;gold&gt;&quot; .. arg .. &quot; &lt;grey&gt;herb afflictions.&quot;, true, false)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^stack (\d+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>switch</name>
                    <script>local registered = {
	cl = &quot;clumsiness&quot;,
	mi = &quot;magic_impaired&quot;
}

local sw = registered[matches[2]] or matches[2]

local paired = {
	clumsiness = &quot;magic_impaired&quot;,
	magic_impaired = &quot;clumsiness&quot;
}
	
local swa = matches[3] or paired[sw]

if ks.switch[sw] then
	e.kswitch(&quot;Will no longer switch &lt;gold&gt;&quot; .. sw .. &quot; &lt;grey&gt;out for &lt;gold&gt;&quot; .. ks.switch[sw] .. &quot;&lt;grey&gt;.&quot;, true, false)
	ks.switch[sw] = nil
else
	for k, v in pairs(ks.switch) do
		if v == sw then
			ks.switch[k] = nil
			break
		end
	end
	ks.switch[sw] = swa
	e.kswitch(&quot;Will now switch &lt;gold&gt;&quot; .. sw .. &quot; &lt;grey&gt;out for &lt;gold&gt;&quot; .. swa .. &quot;&lt;grey&gt;.&quot;, true, false)
end
	</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^kss (\w+) ?(\w+)?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>quickassess</name>
                    <script>send(&quot;quickassess &quot; .. tmp.target)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^qa$</regex>
                </Alias>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>web calling</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <Alias isActive="yes" isFolder="no">
                        <name>web calling</name>
                        <script>if tmp.web_calling then
	tmp.web_calling = nil
	e.warn(&quot;WEB CALLING DISABLED!&quot;, true, false)
	if not tmp.paused then send(&quot;wt Web calling DISABLED!&quot;) end
else
	tmp.web_calling = true
	e.warn(&quot;WEB CALLING ENABLED!&quot;, true, false)
	if not tmp.paused then send(&quot;wt Web calling ENABLED!&quot;) end
end</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^wc$</regex>
                    </Alias>
                    <Alias isActive="yes" isFolder="no">
                        <name>web listening</name>
                        <script>local listen = matches[2]

if not listen then
	if tmp.web_listening and tmp.web_listening.toggle then
		tmp.web_listening.toggle = false
		e.warn(&quot;WEB LISTENING DISABLED!&quot;, false, true)
		if not tmp.paused then send(&quot;wt Web listening DISABLED!&quot;) end
	elseif not tmp.web_listening then
		tmp.web_listening = {}
		tmp.web_listening.toggle = true
		if not tmp.paused then send(&quot;wt Web listening ENABLED!&quot;) end
		e.warn(&quot;WEB LISTENING ENABLED!&quot;, false, true)
	end
else
	if listen == &quot;clear&quot; then
		if tmp.web_listening then
			tmp.web_listening = { toggle = tmp.web_listening.toggle }
			e.warn(&quot;CLEARED WEB LISTENING LIST!&quot;, false, true)
			if not tmp.paused then send(&quot;wt No longer listening to any caller.&quot;) end
		else
			e.warn(&quot;CLEARED WEB LISTENING LIST!&quot;, false, true)
			if not tmp.paused then send(&quot;wt No longer listening to any caller.&quot;) end
		end	
	elseif listen == &quot;d&quot; then
		if tmp.web_listening then
			e.echo(&quot;You are currently listening to the following callers:&quot;, false, true)
			for k, v in pairs(tmp.web_listening) do
				if k ~= &quot;toggle&quot; then
					e.info(k, false, true)
				end
			end
		else
			e.warn(&quot;Web listening hasn't been initiated yet this session. Please use 'WL' to toggle.&quot;, false, true)
		end
	elseif listen == &quot;all&quot; then
		if tmp.web_listening and not tmp.web_listening.all then
			tmp.web_listening.all = true
			e.warn(&quot;WEB LISTENING ENABLED FOR ALL CALLERS!&quot;, false, true)
			if not tmp.paused then send(&quot;wt Will now listen to all callers.&quot;) end
			if not tmp.web_listening.toggle then
				tmp.web_listening.toggle = true
				if not tmp.paused then send(&quot;wt Web listening ENABLED!&quot;) end
				e.warn(&quot;WEB LISTENING ENABLED!&quot;, false, true)
			end
		elseif tmp.web_listening and tmp.web_listening.all then
			tmp.web_listening.all = nil
			e.warn(&quot;WEB LISTENING DISABLED FOR ALL CALLERS!&quot;, false, true)
			if not tmp.paused then send(&quot;wt Will no longer listen to all callers.&quot;) end			
		elseif not tmp.web_listening then
			tmp.web_listening = { toggle = true, all = true }
			e.warn(&quot;WEB LISTENING ENABLED FOR ALL CALLERS!&quot;, false, true)
			if not tmp.paused then send(&quot;wt Will now listen to all callers.&quot;) end
			if not tmp.paused then send(&quot;wt Web listening ENABLED!&quot;) end
			e.warn(&quot;WEB LISTENING ENABLED!&quot;, false, true)
		end		
	elseif not tmp.web_listening then
		tmp.web_listening = {}
		tmp.web_listening.toggle = true
		if not tmp.paused then send(&quot;wt Web listening ENABLED!&quot;) end
		tmp.web_listening[listen] = true
		e.warn(&quot;WILL NOW LISTEN TO: &lt;red&gt;&quot; .. listen:title(), false, true)
		if not tmp.paused then send(&quot;wt Will now listen to: &quot; .. listen:title()) end
		e.warn(&quot;WEB LISTENING ENABLED!&quot;, false, true)
	elseif not tmp.web_listening.toggle then
		tmp.web_listening.toggle = true
		if not tmp.paused then send(&quot;wt Web listening ENABLED!&quot;) end
		e.warn(&quot;WEB LISTENING ENABLED!&quot;, false, true)
		tmp.web_listening[listen] = true
		e.warn(&quot;WILL NOW LISTEN TO: &lt;red&gt;&quot; .. listen:title(), false, true)
		if not tmp.paused then send(&quot;wt Will now listen to: &quot; .. listen:title()) end
	elseif tmp.web_listening[listen] then
		tmp.web_listening[listen] = nil
		e.warn(&quot;WILL NO LONGER LISTEN TO: &lt;red&gt;&quot; .. listen:title(), false, true)
		if not tmp.paused then send(&quot;wt Will no longer listen to: &quot; .. listen:title()) end
	else
		tmp.web_listening[listen] = true
		e.warn(&quot;WILL NOW LISTEN TO: &lt;red&gt;&quot; .. listen:title(), false, true)
		if not tmp.paused then send(&quot;wt Will now listen to: &quot; .. listen:title()) end
	end
end</script>
                        <command></command>
                        <packageName></packageName>
                        <regex>^wl ?(\w+)?$</regex>
                    </Alias>
                </AliasGroup>
                <AliasGroup isActive="yes" isFolder="yes">
                    <name>classes</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                    <AliasGroup isActive="yes" isFolder="yes">
                        <name>carnifex</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex></regex>
                        <Alias isActive="yes" isFolder="no">
                            <name>soul_poison</name>
                            <script>if not o.stats.class == &quot;carnifex&quot; then return end
local cap = tonumber(matches[2])
if cap &gt; 10 or cap &lt; 0 then
	e.error(&quot;Please select a value between 0 and 10.&quot;, true, false)
	return
end
ks.sets.carnifex.poison_thresh = cap
e.kswitch(&quot;Will now soul poison when target has &lt;red&gt;&quot; .. cap .. &quot; &lt;grey&gt;afflictions.&quot;, true, false)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^sp (\d+)$</regex>
                        </Alias>
                    </AliasGroup>
                    <AliasGroup isActive="yes" isFolder="yes">
                        <name>luminary</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex></regex>
                        <Alias isActive="yes" isFolder="no">
                            <name>judge</name>
                            <script>if o.stats.class ~= &quot;luminary&quot; or not can.reqbaleq() then return end

if fs.judgement then return end

inv.wield(&quot;shield&quot;, &quot;left&quot;, false)
inv.wield(&quot;spiritmace&quot;, &quot;right&quot;, false)
prompt.queue(prompt.q)

send(&quot;judge &quot; .. tmp.target)
fs.on(&quot;judgement&quot;, 0.5)

channel.attempting(&quot;judgment&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^j$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>sap</name>
                            <script>if not o.stats.class == &quot;luminary&quot; then return end
local cap = tonumber(matches[2])
if cap &gt; 100 or cap &lt; 0 then
	e.error(&quot;Please select a value between 0 and 100.&quot;, true, false)
	return
end
ks.sets.luminary.sap_thresh = cap
e.kswitch(&quot;Will now sap at &lt;navajo_white&gt;&quot; .. cap .. &quot;&lt;red&gt;% &lt;grey&gt;of the target's mana.&quot;, true, false)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^sap (\d+)$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>overwhelm</name>
                            <script>if not o.stats.class == &quot;luminary&quot; then return end
local cap = tonumber(matches[2])
if not (cap == 0 or cap == 1 or cap == 2 or cap == 5 or cap == 10) then
	e.error(&quot;Please select levels 0, 1, 2, or 5 or 10 as the number of afflictions to overwhelm at.&quot;, true, false)
	return
end
if cap == 1 then cap = 5 end
if cap == 2 then cap = 10 end
ks.sets.luminary.o_thresh = cap
e.kswitch(&quot;Will now overwhelm at &lt;red&gt;&quot; .. cap .. &quot; &lt;grey&gt;afflictions.&quot;, true, false)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^ov (\d+)$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>piety</name>
                            <script>send(&quot;perform rite of piety&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^pi$</regex>
                        </Alias>
                        <Alias isActive="yes" isFolder="no">
                            <name>demons</name>
                            <script>send(&quot;perform rite of demons&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^de$</regex>
                        </Alias>
                    </AliasGroup>
                    <AliasGroup isActive="yes" isFolder="yes">
                        <name>teradrim</name>
                        <script></script>
                        <command></command>
                        <packageName></packageName>
                        <regex></regex>
                        <Alias isActive="yes" isFolder="no">
                            <name>chasm</name>
                            <script>if o.stats.class ~= &quot;teradrim&quot; or not can.reqbaleq() then return end

if fs.chasm then return end

wield(&quot;shield&quot;, &quot;left&quot;, false)
wield(&quot;flail&quot;, &quot;right&quot;, false)
prompt.queue(prompt.q)

send(&quot;earth chasm &quot; .. tmp.target)
fs.on(&quot;chasm&quot;, 0.5)

channel.attempting(&quot;chasm&quot;)</script>
                            <command></command>
                            <packageName></packageName>
                            <regex>^chasm$</regex>
                        </Alias>
                    </AliasGroup>
                </AliasGroup>
            </AliasGroup>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>refining</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>refining control</name>
                    <script>if not can:reqbaleq() then return end
if fs.check(&quot;control&quot;) then return end

send(&quot;refining control&quot;)
fs.on(&quot;control&quot;, 0.5)

track:channel_attempt(&quot;control&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^rc$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>refining erect</name>
                    <script>if not can:reqbaleq() then return end
if fs.check(&quot;erect&quot;) then return end

if arg == &quot;int&quot; then
	tmp.fort = &quot;interference&quot;
elseif arg == &quot;damp&quot; then
	tmp.fort = &quot;dampening&quot;
elseif arg == &quot;dis&quot; then
	tmp.fort = &quot;disruption&quot;
elseif arg == &quot;grav&quot; then
	tmp.fort = &quot;gravity&quot;
elseif arg == &quot;bar&quot; then
	tmp.fort = &quot;barricade&quot;
else
	tmp.limb = arg
end

send(&quot;refining erect &quot; .. tmp.fort)
fs.on(&quot;erect&quot;, 0.5)

track:channel_attempt(&quot;erect&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^re (\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>refining shackle eld</name>
                    <script>send(&quot;refining shackle eld&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^shackle$</regex>
                </Alias>
            </AliasGroup>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>user interface</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>gag management</name>
                    <script>local gag = tonumber(matches[2])

if gag == 0 then
	disableTrigger(&quot;gag_level_one&quot;)
	disableTrigger(&quot;gag_level_two&quot;)
	disableTrigger(&quot;gag_level_three&quot;)
	e.info(&quot;Gag set to 'none.' Will only gag superfluous lines.&quot;, false, true)
elseif gag == 1 then
	enableTrigger(&quot;gag_level_one&quot;)
	disableTrigger(&quot;gag_level_two&quot;)
	disableTrigger(&quot;gag_level_three&quot;)
	e.info(&quot;Gag set to 'one.' Will gag nonimportant lines.&quot;, false, true)
elseif gag == 2 then
	enableTrigger(&quot;gag_level_one&quot;)
	enableTrigger(&quot;gag_level_two&quot;)
	disableTrigger(&quot;gag_level_three&quot;)
	e.info(&quot;Gag set to 'two.' Will gag nonessential lines.&quot;, false, true)
elseif gag == 3 then
	enableTrigger(&quot;gag_level_one&quot;)
	enableTrigger(&quot;gag_level_two&quot;)
	enableTrigger(&quot;gag_level_three&quot;)
	e.info(&quot;Gag set to 'three.' Will gag everything except essential lines.&quot;, false, true)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^gag (\d+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>reset enemy affs</name>
                    <script>tmp.enemyaffs={}</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^raffs$</regex>
                </Alias>
            </AliasGroup>
            <AliasGroup isActive="no" isFolder="yes">
                <name>deprecated/data mine</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>sap threshold</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^sap (\d+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>shatter</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^sr (.+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>behead</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^bh$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>brainsmash</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^bs$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>reset hypno</name>
                    <script>t.traits.hypnosis = false
t.traits.sealed = false
t.traits.snapped = false
offense.suggested = {}
tmp.hypno_count = 0</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^reset hypno$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>hypnosis toggles</name>
                    <script>local arg = matches[2]
local arg2 = matches[3]
	
if arg == &quot;snap&quot; then
	tmp.snap = arg2
	e.echo(&quot;Will snap at &quot; .. tmp.snap .. &quot;.&quot;)
elseif arg == &quot;time&quot; then
	tmp.sealtimer = tonumber(arg2)
	e.echo(&quot;Will seal with a &quot; .. tmp.sealtimer .. &quot; second delay.&quot;)
elseif arg == &quot;reset&quot; then
	t.traits.hypnosis = false
	t.traits.sealed = false
	t.traits.snapped = false
	offense.suggested = {}
	tmp.hypno_count = 0
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^hypno\s+?(.+)\s+?(.+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>mark</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^mark (\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>summon entities</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^sum$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>call entities</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^cent$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>order entourage kill</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^ord$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>gravehands</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^gh$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>firelash</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^fl (\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>icewall</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^iw (\w+)$</regex>
                </Alias>
            </AliasGroup>
        </AliasGroup>
        <AliasGroup isActive="yes" isFolder="yes">
            <name>mapper</name>
            <script>mudlet = mudlet or {}; mudlet.mapper_script = true</script>
            <command></command>
            <packageName></packageName>
            <regex></regex>
            <Alias isActive="yes" isFolder="no">
                <name>Go to ID or area</name>
                <script>local where = matches[2]:lower()
local gallop
if command:ends(&quot;gallop&quot;) then
  gallop = &quot;gallop&quot;
  where = where:sub(1, -8)
elseif command:ends(&quot;sprint&quot;) then
  gallop = &quot;sprint&quot;
  where = where:sub(1, -8)
elseif command:ends(&quot;dash&quot;) then
  gallop = &quot;dash&quot;
  where = where:sub(1, -6)
elseif command:ends(&quot;runaway&quot;) then
  gallop = &quot;runaway&quot;
  where = where:sub(1, -9)
elseif command:ends(&quot;glide&quot;) then
  gallop = &quot;glide&quot;
  where = where:sub(1, -7)
end

if mmp.debug then
  mmp.gotoPerf = mmp.gotoPerf or createStopWatch()
  startStopWatch(mmp.gotoPerf)
end

-- goto room ID
if tonumber(where) then
	mmp.gotoRoom(where, gallop)
else
	-- goto area
    local split = where:split(&quot; &quot;)
    if tonumber(split[#split]) then
        mmp.gotoArea(where:sub(1, -#(split[#split])-2), tonumber(split[#split]), gallop)
    else
        mmp.gotoArea(where, nil, gallop)
    end
end

if mmp.debug then
  mmp.echo(&quot;goto alias took &quot;..stopStopWatch(mmp.gotoPerf)..&quot;s to run.&quot;)
end</script>
                <command></command>
                <packageName></packageName>
                <regex>^goto (.+)$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>View roomID or area</name>
                <script>local where = matches[2]

if not where then
	centerview(mmp.currentroom)
elseif tonumber(where) then -- view a room ID
	centerview(where)
else -- view an area
	mmp.viewArea (where)
end</script>
                <command></command>
                <packageName></packageName>
                <regex>^mmap ?(.+)?$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>Toggle pause</name>
                <script>mmp.pause(matches[2])</script>
                <command></command>
                <packageName></packageName>
                <regex>^mpp(?:\s?(on|off))?$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>Stop walking</name>
                <script>mmp.stop()</script>
                <command></command>
                <packageName></packageName>
                <regex>^mstop$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>Option</name>
                <script>if not matches[2] then
	mmp.settings:showAllOptions()
	return
end

local val = matches[4]
if val == &quot;true&quot; or val == &quot;yes&quot; or val == &quot;on&quot; then val = true end
if val == &quot;false&quot; or val == &quot;no&quot; or val == &quot;off&quot; then val = false end

mmp.settings:setOption(matches[3], val)</script>
                <command></command>
                <packageName></packageName>
                <regex>^mconfig( (\w+) (.*))?$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>Display area for lock/unlock</name>
                <script>mmp.doLockArea(matches[2])</script>
                <command></command>
                <packageName></packageName>
                <regex>^arealock(?: (.*))?$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>Add a room label</name>
                <script>mmp.roomLabel(matches[2])</script>
                <command></command>
                <packageName></packageName>
                <regex>^room label (.+)$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>View/delete area labels</name>
                <script>mmp.areaLabels(matches[2])</script>
                <command></command>
                <packageName></packageName>
                <regex>^area labels ?(.+)?$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>Room find</name>
                <script>mmp.roomFind(matches[2])</script>
                <command></command>
                <packageName></packageName>
                <regex>^(?:rf|room find) (.+)$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>Room look</name>
                <script>mmp.roomLook(matches[2])</script>
                <command></command>
                <packageName></packageName>
                <regex>^(?:rl|room look)(?: (.+))?$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>Room list</name>
                <script>mmp.echoRoomList(matches[2] or mmp.areatabler[getRoomArea(mmp.currentroom)])</script>
                <command></command>
                <packageName></packageName>
                <regex>^room list(?: (.+))?$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>Area list</name>
                <script>mmp.echoAreaList()</script>
                <command></command>
                <packageName></packageName>
                <regex>^area list$</regex>
            </Alias>
            <AliasGroup isActive="yes" isFolder="yes">
                <name>mm Mapping</name>
                <script></script>
                <command></command>
                <packageName></packageName>
                <regex></regex>
                <Alias isActive="yes" isFolder="no">
                    <name>Manually set the room coordinates</name>
                    <script>-- want the current room, but we're lost
if matches[2] == '' and (not mmp.currentroom or not mmp.roomexists(mmp.currentroom)) then mmp.echo(&quot;Don't know where we are at the moment.&quot;) return end

-- want another room, but it doesn't actually exist
if matches[2] ~= '' and not mmp.roomexists(matches[2]) then mmp.echo(&quot;v&quot;..matches[2]..&quot; doesn't exist.&quot;) return end

local m = matches[3]
local rid, rname = (matches[2] ~= &quot;&quot; and matches[2] or mmp.currentroom),
  (matches[2] ~= &quot;&quot; and getRoomName(matches[2]) or mmp.currentroomname)
local x,y,z

local function set() -- small func to set things
  setRoomCoordinates(rid, x, y, z)
  mmp.echo(string.format(&quot;%s (%d) is now at %dx, %dy, %dz.\n&quot;, rname, rid, x,y,z))
  centerview(rid)
end

-- let's be flexible and allow several ways if giving an arg
-- rc x y z
x,y,z = string.match(m, &quot;(%-?%d+) (%-?%d+) (%-?%d+)&quot;)
if x then
  set(); return
end

-- rc xx? yy? zz?
x,y,z = string.match(m, &quot;(%-?%d+)x&quot;), string.match(m, &quot;(%-?%d+)y&quot;), string.match(m, &quot;(%-?%d+)z&quot;)
if x or y or z then
  -- merge w/ old coords if any are missing
  local ox, oy, oz = getRoomCoordinates(rid)
  x = x or ox; y = y or oy; z = z or oz
  set(); return
end

-- rc left/west, right/east, ...
local ox, oy, oz = getRoomCoordinates(rid)
local has = table.contains
for w in string.gmatch(m, &quot;%a+&quot;) do
  if has({&quot;west&quot;, &quot;left&quot;, &quot;w&quot;, &quot;l&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy); z = (z or oz)
  elseif has({&quot;east&quot;, &quot;right&quot;, &quot;e&quot;, &quot;r&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy); z = (z or oz)
  elseif has({&quot;north&quot;, &quot;top&quot;, &quot;n&quot;, &quot;t&quot;}, w) then
    x = (x or ox); y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;south&quot;, &quot;bottom&quot;, &quot;s&quot;, &quot;b&quot;}, w) then
    x = (x or ox); y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;northwest&quot;, &quot;topleft&quot;, &quot;nw&quot;, &quot;tl&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;northeast&quot;, &quot;topright&quot;, &quot;ne&quot;, &quot;tr&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;southeast&quot;, &quot;bottomright&quot;, &quot;se&quot;, &quot;br&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;southwest&quot;, &quot;bottomleft&quot;, &quot;sw&quot;, &quot;bl&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;up&quot;, &quot;u&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) + 1
  elseif has({&quot;down&quot;, &quot;d&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) - 1
  end

end
if x then set(); return end

mmp.echo([[Where do you want to move the room to?
  You can use direct coordinates or relative directions.]])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:rc|room coords) (?:v(\d+) )?(.+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Add a special exit</name>
                    <script>-- spe clear and spe list match on this
if matches[2] == &quot;clear&quot; or matches[2] == &quot;list&quot; then return end

-- need the current room, but we're lost
if not mmp.currentroom or not mmp.roomexists(mmp.currentroom) then mmp.echo(&quot;Don't know where we are at the moment.&quot;) return end

local otherroom = tonumber(matches[2]) or mmp.relativeroom(mmp.currentroom, matches[2])

-- need the another room, but it doesn't actually exist
if not otherroom or not mmp.roomexists(otherroom) then mmp.echo(matches[2]..&quot; doesn't exist.&quot;) return end

addSpecialExit(mmp.currentroom, tonumber(otherroom), matches[3])
addSpecialExit(mmp.currentroom, tonumber(otherroom), matches[3])
mmp.echo(string.format(&quot;Added special exit with command '%s' to %s (%d).&quot;, matches[3], getRoomName(otherroom), otherroom))
centerview(mmp.currentroom)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:spe|exit special) (\w+) (.+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Add a special exit from one remote room to another</name>
                    <script>local room1, room2 = tonumber(matches[2]), tonumber(matches[3])

if not room1 or not mmp.roomexists(room1) then
  mmp.echo(&quot;Room #&quot;..matches[2]..&quot; doesn't exist - create it first, or make sure you got the room ID right?&quot;)
  return
end

if not room2 or not mmp.roomexists(room2) then
  mmp.echo(&quot;Room #&quot;..matches[3]..&quot; doesn't exist - create it first, or make sure you got the room ID right?&quot;)
  return
end

addSpecialExit(room1, room2, matches[4])
mmp.echo(string.format(&quot;Added special exit with command '%s' to from %s (%d) to %s (%d).&quot;, matches[4], getRoomName(room1), room1, getRoomName(room2), room2))</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^spev (\d+) (\d+) (.+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>List special exits</name>
                    <script>mmp.listSpecialExits(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^spe list(?: (.+))?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Clear all special exits</name>
                    <script>-- want the current room, but we're lost
if not matches[2] and (not mmp.currentroom or not mmp.roomexists(mmp.currentroom)) then mmp.echo(&quot;Don't know where we are at the moment.&quot;) return end

-- want another room, but it doesn't exist
if matches[2] and tonumber(matches[2]) and not mmp.roomexists(matches[2]) then mmp.echo(&quot;v&quot;..matches[2]..&quot; doesn't exist.&quot;) return end

-- or a relative one
if matches[2] and not tonumber(matches[2]) and not mmp.relativeroom(mmp.currentroom, matches[2]) then mmp.echo(&quot;There is no room &quot;..matches[2].. &quot; of us.&quot;) return end

local rid = (not matches[2] and mmp.currentroom or (tonumber(matches[2]) or mmp.relativeroom(mmp.currentroom, matches[2])))

clearSpecialExits(rid)
mmp.echo(string.format(&quot;Cleared all special exits in %s (%d).\n&quot;, getRoomName(rid), rid))</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:spe clear|exit special clear) ?(\w+)?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Create a room</name>
                    <script>local m = matches[2]
local rid, rname
if mmp.roomexists(mmp.currentroom) then
  rid, rname = mmp.currentroom, mmp.currentroomname
end
local x,y,z

local function set(newid) -- small func to set things
  local rid = newid or createRoomID()
  addRoom(rid)
  setRoomCoordinates(rid, x, y, z)
  if mmp.roomexists(mmp.currentroom) then setRoomArea(rid, getRoomArea(mmp.currentroom)) end
  if mmp.roomexists(mmp.currentroom) then setRoomEnv(rid, getRoomEnv(mmp.currentroom)) end
  setExit(mmp.currentroom, rid, m)
  mmp.echo(string.format(&quot;Created new room (%d) at %dx, %dy, %dz.\n&quot;, rid, x,y,z))
  centerview(mmp.roomexists(mmp.currentroom) and mmp.currentroom or rid)
  if not mmp.roomexists(mmp.currentroom) then mmp.currentroom = rid; mmp.currentroomname = &quot;&quot; end
end

-- let's be flexible and allow several ways if giving an arg
-- rc v# x y z
newid, x,y,z = string.match(m, &quot;v(%d+) (%-?%d+) (%-?%d+) (%-?%d+)&quot;)
if x then
  set(newid); return
end

-- rc x y z
x,y,z = string.match(m, &quot;(%-?%d+) (%-?%d+) (%-?%d+)&quot;)
if x then
  set(); return
end


if not rid then
  mmp.echo(&quot;Don't know where we are at the moment in order to use relative coordinates.&quot;)
  return
end

-- rc xx? yy? zz?
x,y,z = string.match(m, &quot;(%-?%d+)x&quot;), string.match(m, &quot;(%-?%d+)y&quot;), string.match(m, &quot;(%-?%d+)z&quot;)
if x or y or z then
  -- merge w/ old coords if any are missing
  local ox, oy, oz = getRoomCoordinates(rid)
  x = x or ox; y = y or oy; z = z or oz
  set(); return
end

-- rc left/west, right/east, ...
local ox, oy, oz = getRoomCoordinates(rid)
local has = table.contains
for w in string.gmatch(m, &quot;%a+&quot;) do
  if has({&quot;west&quot;, &quot;left&quot;, &quot;w&quot;, &quot;l&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy); z = (z or oz)
  elseif has({&quot;east&quot;, &quot;right&quot;, &quot;e&quot;, &quot;r&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy); z = (z or oz)
  elseif has({&quot;north&quot;, &quot;top&quot;, &quot;n&quot;, &quot;t&quot;}, w) then
    x = (x or ox); y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;south&quot;, &quot;bottom&quot;, &quot;s&quot;, &quot;b&quot;}, w) then
    x = (x or ox); y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;northwest&quot;, &quot;topleft&quot;, &quot;nw&quot;, &quot;tl&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;northeast&quot;, &quot;topright&quot;, &quot;ne&quot;, &quot;tr&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;southeast&quot;, &quot;bottomright&quot;, &quot;se&quot;, &quot;br&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;southwest&quot;, &quot;bottomleft&quot;, &quot;sw&quot;, &quot;bl&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;up&quot;, &quot;u&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) + 1
  elseif has({&quot;down&quot;, &quot;d&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) - 1
  end

end
if x then set(); return end

mmp.echo([[Where do you want to move the room to?
  You can use direct coordinates or relative directions.]])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:rlc|room create) (.+)?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Create a link between two rooms</name>
                    <script>-- need the current room, but we're lost
if not mmp.currentroom or not mmp.roomexists(mmp.currentroom) then mmp.echo(&quot;Don't know where we are at the moment.&quot;) return end

-- make sure the dir is valid
local dir = mmp.anytolong(matches[3])
if not dir then mmp.echo(matches[3]..&quot; isn't a valid normal exit.&quot;) return end

-- if we don't give a room number, then we want to auto-locate an appropriate room nearby.
local otherroom
if matches[2] == &quot;&quot; then
  local w = matches[3]
  local ox, oy, oz, x,y,z = getRoomCoordinates(mmp.currentroom)
  local has = table.contains
  if has({&quot;west&quot;, &quot;left&quot;, &quot;w&quot;, &quot;l&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy); z = (z or oz)
  elseif has({&quot;east&quot;, &quot;right&quot;, &quot;e&quot;, &quot;r&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy); z = (z or oz)
  elseif has({&quot;north&quot;, &quot;top&quot;, &quot;n&quot;, &quot;t&quot;}, w) then
    x = (x or ox); y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;south&quot;, &quot;bottom&quot;, &quot;s&quot;, &quot;b&quot;}, w) then
    x = (x or ox); y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;northwest&quot;, &quot;topleft&quot;, &quot;nw&quot;, &quot;tl&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;northeast&quot;, &quot;topright&quot;, &quot;ne&quot;, &quot;tr&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;southeast&quot;, &quot;bottomright&quot;, &quot;se&quot;, &quot;br&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;southwest&quot;, &quot;bottomleft&quot;, &quot;sw&quot;, &quot;bl&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;up&quot;, &quot;u&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) + 1
  elseif has({&quot;down&quot;, &quot;d&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) - 1
  end

  local carea = getRoomArea(mmp.currentroom)
  if not carea then mmp.echo(&quot;Don't know what area are we in.&quot;) return end

  otherroom = select(2, next(getRoomsByPosition(carea,x,y,z)))

  if not otherroom then
    mmp.echo(&quot;There isn't a room to the &quot;..w..&quot; that I see - try with an exact room id.&quot;) return
  end

else
  if not mmp.roomexists(matches[2]) then -- check that an explicit other room ID is valid
    mmp.echo(&quot;A room with id &quot;..matches[2].. &quot; doesn't exist.&quot;) return
  else
    otherroom = tonumber(matches[2])
  end
end

if setExit(mmp.currentroom, otherroom, matches[3]) then
  if not matches[4] then setExit(otherroom, mmp.currentroom, mmp.ranytolong(matches[3])) end

  mmp.echo(string.format(&quot;Linked %s (%d) to %s (%d) via a %s%s exit.&quot;,
    (getRoomName(mmp.currentroom) ~= &quot;&quot; and getRoomName(mmp.currentroom) or &quot;''&quot;), mmp.currentroom, (getRoomName(otherroom) ~= &quot;&quot; and getRoomName(otherroom) or &quot;''&quot;), otherroom, (matches[4] and &quot;one-way &quot; or ''), matches[3]))
else
  mmp.echo(&quot;Couldn't create an exit.&quot;)
end
centerview(mmp.currentroom)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:rlk|room link) ?(\d+)? (\w+)( one)?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Delete a room</name>
                    <script>-- want the current room, but we're lost
if not matches[2] and (not mmp.currentroom or not mmp.roomexists(mmp.currentroom)) then mmp.echo(&quot;Don't know where we are at the moment.&quot;) return end

-- want another room, but it doesn't exist
if matches[2] and tonumber(matches[2]) and not mmp.roomexists(matches[2]) then mmp.echo(&quot;v&quot;..matches[2]..&quot; doesn't exist.&quot;) return end

-- or a relative one
if matches[2] and not tonumber(matches[2]) and not mmp.relativeroom(mmp.currentroom, matches[2]) then mmp.echo(&quot;There is no room &quot;..matches[2].. &quot; of us.&quot;) return end

local rid = (not matches[2] and mmp.currentroom or (tonumber(matches[2]) or mmp.relativeroom(mmp.currentroom, matches[2])))

local n = getRoomName(rid)
deleteRoom(rid)
mmp.echo(string.format(&quot;Deleted the %s (%d) room.\n&quot;, (n ~= &quot;&quot; and n or &quot;''&quot;), rid))
centerview(mmp.currentroom)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:rld|room delete) ?(\w+)?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Delete a link</name>
                    <script>-- need the current room, but we're lost
if not mmp.currentroom or not mmp.roomexists(mmp.currentroom) then mmp.echo(&quot;Don't know where we are at the moment.&quot;) return end

-- make sure the dir is valid
local dir = mmp.anytolong(matches[2])
if not dir then mmp.echo(matches[2]..&quot; isn't a valid normal exit.&quot;) return end

-- gone already?
if not getRoomExits(mmp.currentroom)[dir] then mmp.echo(dir..&quot; link doesn't exist already.&quot;) end

-- locate the room on the other end, so we can unlink it from there as well if necessary
local otherroom
if getRoomExits(getRoomExits(mmp.currentroom)[dir])[mmp.ranytolong(dir)] then
  otherroom = getRoomExits(mmp.currentroom)[dir]
end

if setExit(mmp.currentroom, -1, dir) then
  if otherroom then
    if setExit(otherroom, -1, mmp.ranytolong(dir)) then
      mmp.echo(string.format(&quot;Deleted the %s exit from %s (%d).&quot;,
        dir, getRoomName(mmp.currentroom), mmp.currentroom))
     else mmp.echo(&quot;Couldn't delete the incoming exit.&quot;) end
  else
    mmp.echo(string.format(&quot;Deleted the one-way %s exit from %s (%d).&quot;,
      dir, getRoomName(mmp.currentroom), mmp.currentroom))
  end
else
  mmp.echo(&quot;Couldn't delete the outgoing exit.&quot;)
end
centerview(mmp.currentroom)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:urlk|room unlink) (\w+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Move room to another area</name>
                    <script>mmp.roomArea(matches[2], matches[3])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^room area (?:v(\d+) )?(.+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Set a room character</name>
                    <script>local room = matches[3] or mmp.currentroom
room = tonumber(room) or mmp.relativeroom(mmp.currentroom, room)
if not room or not mmp.roomexists(room) then
  mmp.echo(&quot;Sorry - which room do you want to put this character in? I don't know where you are at the moment, if you want to do the current room.&quot;)
  return
end

local char = matches[2]

if char == &quot;clear&quot; then
  setRoomChar(room, ' ')
  mmp.echo(&quot;Cleared the character from &quot;..room..&quot; (&quot;..getRoomName(room)..&quot;)&quot;)
else
  setRoomChar(room, char)
  mmp.echo(&quot;Set the &quot;..char:sub(1,1)..&quot; character on &quot;..room..&quot; (&quot;..getRoomName(room)..&quot;)&quot;)
end
centerview(mmp.currentroom)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^rcc ([^ ]+)(?: (\w+))?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Set room weight</name>
                    <script>local weight = tonumber(matches[3]), room
if matches[2] == '' then room = mmp.currentroom
else
  room = tonumber(matches[2]) or mmp.relativeroom(mmp.currentroom, matches[2])
end

if not room or not mmp.roomexists(room) then
  mmp.echo(&quot;Sorry - which room do you want to set the weight on? I don't know where you are at the moment, if you want to do the current room.&quot;)
  return
end

if not weight then
  mmp.echo(&quot;What weight do you want to set on #&quot;..room..&quot;?&quot;)
end

local oldweight = getRoomWeight(room)
setRoomWeight(room, weight)

if weight &gt; oldweight then
  mmp.echo(&quot;Increased the room weight on #&quot;..room..&quot; (&quot;..getRoomName(room)..&quot;) by &quot;..(weight-oldweight)..&quot; to &quot;..weight..&quot; - making it less desirable to travel through.&quot;)
elseif weight &lt; oldweight then
  mmp.echo(&quot;Decreased the room weight on #&quot;..room..&quot; (&quot;..getRoomName(room)..&quot;) by &quot;..(oldweight-weight)..&quot; to &quot;..weight..&quot; - making it more desirable to travel through.&quot;)
else
  mmp.echo(&quot;The room weight on #&quot;..room..&quot; (&quot;..getRoomName(room)..&quot;) is already &quot;..weight..&quot;.&quot;)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^rw(?: (\w+))? (\d+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Set exit weight</name>
                    <script>local room = (matches[2] ~= &quot;&quot; and tonumber(matches[2]) or mmp.currentroom)

local weight, exit = tonumber(matches[3]), matches[4]

if not roomExists(room) then mmp.echo(&quot;Room &quot;..room..&quot; doesn't exist. It has to before we can set weights on exits.&quot;) return end

setExitWeight(room, exit, weight)

mmp.echo(string.format(&quot;Set the weight on the %d room going %s to %s. If it's a two-way exit, please set the reverse exit as well.&quot;, room, exit, weight))</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^rwe(?: (\d+))? (\d+) (.+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Add/delete doors</name>
                    <script>local room = (matches[2] ~= &quot;&quot; and tonumber(matches[2]) or mmp.currentroom)

local direction, status = matches[3], matches[4]

if not roomExists(room) then mmp.echo(&quot;Room &quot;..room..&quot; doesn't exist. It has to before we can make doors in it.&quot;) return end

local validdirs = {'e', 's', 'w', 'n', 'ne', 'se', 'sw', 'nw', 'in', 'out', 'up', 'down'}

if not table.contains(validdirs, direction) then
  mmp.echo(&quot;Can't make a door in the '&quot;..direction..&quot;' direction - available choices are:\n  &quot;..table.concat(validdirs, ', '))
  return
end

local statusnum

if status == &quot;&quot; or status == &quot;open&quot; or status == &quot;o&quot; then
  statusnum = 1
elseif status == &quot;closed&quot; or status ==  &quot;c&quot; then
  statusnum = 2
elseif status == &quot;locked&quot; or status ==  &quot;l&quot; then
  statusnum = 3
elseif status == &quot;clear&quot; or status == &quot;gone&quot; then
  statusnum = 0
end

if not statusnum then mmp.echo(&quot;Unrecognized option - a door can be open, closed, locked or gone.&quot;) return end

setDoor(room, direction, statusnum)

if statusnum == 0 then
  mmp.echo(&quot;OK, door removed.&quot;)
else
  mmp.echo(&quot;OK, door added/adjusted.&quot;)
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^rd(?: (\d+))? (\w+)(?: (\w+))?$</regex>
                </Alias>
                <Alias isActive="no" isFolder="no">
                    <name>-- (area functions)</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Create an area</name>
                    <script>local t = getAreaTable(); local tr = {}; for k,v in pairs(t) do tr[v] = k end
local newid = table.maxn(tr) + 1

setAreaName( newid, matches[2] )
mmp.echo(string.format(&quot;Created new area %s (%d)&quot;, matches[2], newid))
centerview(mmp.currentroom)
raiseEvent(&quot;mmp areas changed&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^area add (.+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Delete an area</name>
                    <script>mmp.deleteArea(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^area delete (.+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Cancel area deletion</name>
                    <script>if not mmp.deletingarea then mmp.echo(&quot;I wasn't deleting any areas already.&quot;) return end

local areaname = mmp.deletingarea.areaname
mmp.deletingarea = nil

mmp.echo(&quot;Stopped deleting rooms in the '&quot;..areaname..&quot;'. The area is partially missing its rooms now, you'll want to restart the process to finish it.&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^cancel area deletion$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Rename an area</name>
                    <script>mmp.renameArea(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^area rename (.+)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>List continents</name>
                    <script>local tmp = getRoomUserData(1, &quot;areaContinents&quot;)
local continents = {}

if tmp ~= &quot;&quot; then
  continents = yajl.to_value(tmp)
end

if not next(continents) then mmp.echo(&quot;No continents known.&quot;)
else
  for continent, areadata in pairs(continents) do
    mmp.echo(continent..&quot; continent:&quot;)

    for _, areaid in ipairs(areadata) do
      cecho(&quot;  &quot;..getRoomAreaName(areaid)..&quot;\n&quot;)
    end
  end
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^(?:acl|area continents)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Add area to continent</name>
                    <script>-- ac continent [optional area]

local continent = matches[2]:title()
local area
if not matches[3] then area = getRoomArea(mmp.currentroom)
elseif tonumber(matches[3]) then
  area = tonumber(matches[3])
  if getRoomAreaName(area) == -1 then area = nil end
else
  local areas = getAreaTable()

  for karea, id in pairs(areas) do if karea:lower():find(matches[3]:lower(), 1, true) then area = id break end end
end

if not area then mmp.echo(matches[3]..&quot; isn't a known area. Which one do you want to set?&quot;) return end

local tmp = getRoomUserData(1, &quot;areaContinents&quot;)
local continents = {}

if tmp ~= &quot;&quot; then
  continents = yajl.to_value(tmp)
end


if not continents[continent] and mmp.addingcontinent ~= continent then
  mmp.addingcontinent = continent
  mmp.echo(&quot;Continent &quot;..continent..&quot; isn't known so far - would you like to make a new one? Do this command again if so.&quot;)
  return
end

mmp.addingcontinent = nil

continents[continent] = continents[continent] or {}

-- have to use this instead of contains and index_of, because those count keys as well - and we don't want that
local function index_of(data, areaID)
  for i = 1, #data do
    if data[i] == areaID then return i end
  end

  return -1
end

if index_of(continents[continent], area) ~= -1 then
  mmp.echo(getRoomAreaName(area)..&quot; is already known as being on the &quot;..continent..&quot; continent.&quot;)
  return
else
  continents[continent][#continents[continent]+1] = area -- not a key, because yajl will put a ton of null's.
  mmp.echo(&quot;Recorded that &quot;..getRoomAreaName(area)..&quot; is on the &quot;..continent..&quot; continent.&quot;)

  -- remove from other areas if moving
  for kcontinent, data in pairs(continents) do
    if kcontinent ~= continent then
      local i = index_of(continents[kcontinent], area)
      if i ~= -1 then
        table.remove(continents[kcontinent], i)
        if not next(continents[kcontinent]) then continents[kcontinent] = nil end
        mmp.echo(&quot;De-listed &quot;..getRoomAreaName(area)..&quot; from the &quot;..kcontinent..&quot; continent.&quot;)
      end
    end
  end
end

local toserialize = yajl.to_string(continents)
setRoomUserData(1, &quot;areaContinents&quot;, toserialize)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^ac ([\w']+)(?: (.+))?$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Add/remove a ferry room</name>
                    <script>local room = tonumber(matches[2])

-- load the ferry rooms if they haven't been already
if not mmp.ferry_rooms then
  local tmp = getRoomUserData(1, &quot;ferry rooms&quot;)

  mmp.ferry_rooms = {}
  if tmp ~= &quot;&quot; then
    for _, i in ipairs(yajl.to_value(tmp)) do
      mmp.ferry_rooms[i] = true
    end
  end
end

if matches[3] == &quot;add&quot; then
  if mmp.ferry_rooms[room] then
    mmp.echo(&quot;Ferry room #&quot;..room..&quot; is already recorded as such.&quot;) return
  else
    mmp.ferry_rooms[room] = true; mmp.echo(&quot;Added #&quot;..room..&quot; to be a ferry room.&quot;)
  end
else
  if not mmp.ferry_rooms[room] then
    mmp.echo(&quot;Room #&quot;..room..&quot; isn't a ferry one already.&quot;) return
  else
    mmp.ferry_rooms[room] = nil; mmp.echo(&quot;Removed #&quot;..room..&quot; from being a ferry room.&quot;)
  end
end

local keys = {}; for k,_ in pairs(mmp.ferry_rooms) do keys[#keys+1] = k end

setRoomUserData(1, &quot;ferry rooms&quot;, yajl.to_string(keys))</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^fr (\d+) (add|remove)$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Show ferry rooms</name>
                    <script>if not mmp.ferry_rooms then
  local tmp = getRoomUserData(1, &quot;ferry rooms&quot;)

  mmp.ferry_rooms = {}
  if tmp ~= &quot;&quot; then
    for _, i in ipairs(yajl.to_value(tmp)) do
      mmp.ferry_rooms[i] = true
    end
  end
end

mmp.echo(&quot;Ferry rooms available:&quot;)
if not next(mmp.ferry_rooms) then  mmp.echo(&quot;(none)&quot;) return end

for k, _ in pairs(mmp.ferry_rooms) do
  mmp.echo(string.format(&quot;  (%d) - %s\n&quot;, k, getRoomName(k)))
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^fr show$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Weight ferry exits</name>
                    <script>  local c = 0
  local weight = 200
  for area in pairs(mmp.areatabler) do
    local rooms = getAreaRooms(area) or {}
    for i = 0, #rooms do
      local exits = getSpecialExits(rooms[i] or 0)

       if exits and next(exits) then
         for exit, cmd in pairs(exits) do
           if type(cmd) == &quot;table&quot; then cmd = next(cmd) end

           if (cmd:lower():find(&quot;buy passage to&quot;, 1, true)) then
				setExitWeight(rooms[i], cmd, weight)
				mmp.echo(&quot;Weighted &quot;..cmd..&quot; going to &quot;..rooms[i]..&quot; (&quot;..getRoomName(rooms[i])..&quot;).&quot;)
             c = c + 1
           end
         end
       end
    end
  end

  mmp.echo(string.format(&quot;%s ferry exits weighted to %s (so we don't take them over too short distances).&quot;, c, weight))</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^weight ferry exits$</regex>
                </Alias>
                <Alias isActive="no" isFolder="no">
                    <name>-- (dangerous functions)</name>
                    <script></script>
                    <command></command>
                    <packageName></packageName>
                    <regex></regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Clear the map completely</name>
                    <script>if not mmp.map_delete_warning then
  mmp.echo(&quot;Are you really, really, really sure you want to delete all of the map to go to a blank state? Do the command again if you're certain.&quot;)
  mmp.map_delete_warning = true
  return
end

mmp.echo(&quot;Okay, deleting...&quot;)

tempTimer(.1, function()
  for name, id in pairs(getAreaTable()) do
    deleteArea(tonumber(id))
  end

  mmp.echo(&quot;Deleted everything. It's all gone.&quot;)
  mmp.map_delete_warning = nil
  centerview(1)
end)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^map delete all$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Delete shop stockroom exits</name>
                    <script>mmp.echo(&quot;Deleting all known stockroom exits (rooms with $ and a down exit)&quot;)
local c = 0

for area, areaname in pairs(mmp.areatabler) do
  local rooms = getAreaRooms(area) or {}
  for i = 0, #rooms do
    local char = getRoomChar(rooms[i] or 0)
    if char == '$' then
      local exits = getRoomExits(rooms[i] or 0) -- retrieve after $, more efficient

      if exits.down then
        setExit(rooms[i], -1, 'down')
        mmp.echo(string.format(&quot;Deleted the stockroom exit at %s (#%d in %s)&quot;, getRoomName(rooms[i]), rooms[i], mmp.areatabler[getRoomArea(rooms[i])]))
        c = c + 1
      end
    end

  end
end

mmp.echo(string.format(&quot;Deleted %s known stockroom exit%s.&quot;, c, (c ~= 1 and 's' or '')))
centerview(mmp.currentroom)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^delete known stockrooms$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Clear continent data</name>
                    <script>if not mmp.wipingcontinents then
  mmp.wipingcontinents = true
  mmp.echo(&quot;Are you sure you want to wipe all continent data? If yes, do this again.&quot;)
  return
end
mmp.wipingcontinents = nil

local toserialize = yajl.to_string{}
setRoomUserData(1, &quot;areaContinents&quot;, toserialize)
mmp.echo(&quot;Wiped all continents data.&quot;)</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^clear continent data$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Delete suffixed periods</name>
                    <script>mmp.echo(&quot;Deleting removing all periods at the end of room names...&quot;)
local c = 0

for area, areaname in pairs(mmp.areatabler) do
  local rooms = getAreaRooms(area) or {}
  for i = 0, #rooms do
    local name = getRoomName(rooms[i] or 0)
    if string.ends(name, &quot;.&quot;) then
      name = string.sub(name, 1, (#name-1))
      setRoomName(rooms[i], name)
      mmp.echo(string.format(&quot;Patched up room #%s - '%s'&quot;, rooms[i], name))
      c = c + 1
    end
  end
end

mmp.echo(string.format(&quot;Fixed up %s room%s.&quot;, c, (c ~= 1 and 's' or '')))</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^delete suffixed periods$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Find single exits</name>
                    <script>local c = 0

local getAreaRooms, getRoomExits, contains, echoLink, getRoomEnv, envidsr =
  getAreaRooms, getRoomExits, table.contains, echoLink, getRoomEnv, mmp.envidsr

for area, id in pairs(getAreaTable()) do
  for _, roomid in pairs(getAreaRooms(id)) do
    local exits = getRoomExits(roomid)
    for dir, otherroom in pairs(exits) do
      local otherexits = getRoomExits(otherroom) or {}
      if not contains(otherexits, roomid) then
        echoLink(string.format(&quot;%s -&gt; %s is oneway (%s-&gt;%s type)\n&quot;, roomid, otherroom,
          (envidsr and envidsr[getRoomEnv(roomid)] or &quot;?&quot;),
          (envidsr and envidsr[getRoomEnv(otherroom)] or &quot;?&quot;)),
        [[mmp.gotoRoom(]]..roomid..[[)]], &quot;Click to go to the start room &quot;..roomid, true)
        c = c + 1
     end
    end
  end
end

mmp.echo(string.format(&quot;Found %s oneways.%s&quot;, c, (c &gt; 10 and &quot; Have fun. Click on lines to go to the rooms.&quot; or &quot;&quot;)))</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^find single exits$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Show char marks</name>
                    <script>local c = 0
local m = {}
local areas = getAreaTable()
local show_area = table.size(areas) &gt; 1 and true or false

for area, id in pairs(areas) do
  for _, roomid in pairs(getAreaRooms(id)) do
    local c = getRoomChar(roomid)
    if c ~= '' and c ~= ' ' then
      m[c] = m[c] or {}
      m[c][#m[c]+1] = roomid
    end
  end
end

if not next(m) then mmp.echo(&quot;This map has no char marks on it. Do mc on and rcc &lt;mark&gt; in a room to add them!&quot;) return end

for letter, rooms in pairs(m) do
  table.sort(rooms)
  mmp.echo(&quot;Rooms with the &lt;blue&gt;&quot;..letter..&quot;&lt;reset&gt; character on them:&quot;)
  for i = 1, #rooms do
    if not show_area then
      cecho(string.format(&quot;  &lt;sea_green&gt;%-5s&lt;reset&gt; %s\n&quot;, rooms[i], getRoomName(rooms[i])))
    else
      cecho(string.format(&quot;  &lt;sea_green&gt;%-5s&lt;reset&gt; %-35s &lt;dim_grey&gt;(in&lt;reset&gt; %s&lt;dim_grey&gt;)\n&quot;, rooms[i], getRoomName(rooms[i]), mmp.areatabler[getRoomArea(rooms[i])]))
    end
  end
end</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^show char marks$</regex>
                </Alias>
                <Alias isActive="yes" isFolder="no">
                    <name>Delete all special exits across a map</name>
                    <script>mmp.delSpecialExits(matches[2])</script>
                    <command></command>
                    <packageName></packageName>
                    <regex>^spe delete all(?: (.+))?$</regex>
                </Alias>
            </AliasGroup>
            <Alias isActive="yes" isFolder="no">
                <name>Toggle mapping mode</name>
                <script>if (matches[2] and matches[2] == &quot;on&quot;) or (not matches[2] and not mmp.editing) then
  mmp.editing = true
  enableAlias(&quot;mm Mapping&quot;)

  mmp_regenerate_areas()
  mmp.highlight_unfinished_rooms()

  mmp.echo(&quot;Mapping mode enabled. Happy mapping!&quot;)
elseif (matches[2] and matches[2] == &quot;off&quot;) or (not matches[2] and mmp.editing) then
  mmp.editing = false
  disableAlias(&quot;mm Mapping&quot;)
  mmp.echo(&quot;Mapping mode disabled.&quot;)
end</script>
                <command></command>
                <packageName></packageName>
                <regex>^(?:mc|map create) ?(on|off)?$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>Save a map</name>
                <script>local function s(loc)
    if not saveMap(loc) then
      mmp.echo(&quot;Couldn't save the map :(&quot;)
    else
      if loc ~= &quot;&quot; then mmp.echo(&quot;Map saved.&quot;) else mmp.echo(&quot;Saved the default map.&quot;) end
    end
end

if not saveMap then
  mmp.echo(&quot;Your Mudlet can't save maps. Please upgrade it!&quot;)
else
  if matches[2] and matches[2] == &quot;custom&quot; then
    s(invokeFileDialog(false, &quot;Please select the folder to save the map in and hit Open&quot;)..&quot;/Mudlet map from &quot;..os.date(&quot;%A %d, %b '%y&quot;)..&quot;.dat&quot;)
  elseif matches[2] then
	s(getMudletHomeDir()..&quot;/map/&quot;..matches[2])
  else
    s(&quot;&quot;)
  end
end</script>
                <command></command>
                <packageName></packageName>
                <regex>^map save(?: (.+))?$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>Load a map</name>
                <script>local function s(loc)
    if not loadMap(loc) then
      mmp.echo(&quot;Couldn't save the map :(&quot;)
    else
      mmp.lockWormholes(); mmp.lockSewers(); mmp.lockPebble();
      if mmp.settings.waterwalk then mmp.enableWaterWalk() else mmp.disableWaterWalk() end

      if loc ~= &quot;&quot; then mmp.echo(&quot;Map loaded.&quot;) else mmp.echo(&quot;Loaded the default map.&quot;) end
      raiseEvent(&quot;mmapper updated map&quot;)
    end
end

if not loadMap then
  mmp.echo(&quot;Your Mudlet can't load maps. Please upgrade it!&quot;)
else
  if matches[2] and matches[2] == &quot;custom&quot; then
    s(invokeFileDialog(true, &quot;Please select the map file and click Open to load it&quot;))
  elseif matches[2] then
	s(getMudletHomeDir()..&quot;/map/&quot;..matches[2])
  else
    s(&quot;&quot;)
  end
end</script>
                <command></command>
                <packageName></packageName>
                <regex>^map load(?: (.+))?$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>Get dirs</name>
                <script>if not matches[2] and not matches[3] then
  mmp.echo(&quot;Where do you want to showpath to?&quot;)
elseif matches[2] and not matches[3] then
  mmp.echoPath(mmp.currentroom, matches[2])
else
  mmp.echoPath(matches[2], matches[3])
end</script>
                <command></command>
                <packageName></packageName>
                <regex>^showpath(?: (\d+))?(?: (\d+))?$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>Check wholist</name>
                <script>enableTrigger(&quot;Parse wholist&quot;)
send(&quot;who b&quot;)
tempTimer(10, [[disableTrigger'Parse wholist']])</script>
                <command></command>
                <packageName></packageName>
                <regex>^who b$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>Add Room Mark</name>
                <script>local tmp = getRoomUserData(1, &quot;gotoMapping&quot;)
local maptable = {}

if tmp ~= &quot;&quot; then
  maptable = yajl.to_value(tmp)
end

local location, markname
if tonumber(matches[2]) then
  location = matches[2]; markname = matches[3]
else
  location = matches[3]; markname = matches[2]
end

-- can't allow mark name to ne a number - yajl then generates a giant table of null's
if tonumber(markname) then
  mmp.echo(&quot;The mark name can't be a number.&quot;) return
end

maptable[markname] = location
local tmp2 = yajl.to_string(maptable)

if not mmp.roomexists(1) then
  addRoom(1)
end

setRoomUserData(1, &quot;gotoMapping&quot;, tmp2)
mmp.echo(string.format(&quot;Room mark for '%s' set to room %s.&quot;, markname, location))</script>
                <command></command>
                <packageName></packageName>
                <regex>^room mark (\w+) (\w+)$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>Remove Room Mark</name>
                <script>local tmp= getRoomUserData(1, &quot;gotoMapping&quot;)
if tmp~=&quot;&quot; then
  local maptable=yajl.to_value(tmp)
  if not maptable[matches[2]] then mmp.echo(&quot;Don't have such a mark in the db.&quot;) return end

  maptable[matches[2]]=nil
  local tmp2=yajl.to_string(maptable)
  setRoomUserData(1, &quot;gotoMapping&quot;, tmp2)
  mmp.echo(&quot;Removed the &quot;..matches[2]..&quot; mark.&quot;)
else
  mmp.echo(&quot;We don't have any marks stored anyway.&quot;)
end</script>
                <command></command>
                <packageName></packageName>
                <regex>^room unmark (\w+)$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>Display Room Marks</name>
                <script>local tmp= getRoomUserData(1, &quot;gotoMapping&quot;)
if tmp~=&quot;&quot; then
	local maptable = yajl.to_value(tmp) or {}
    local sortedkeys = {}
    for k in pairs(maptable) do sortedkeys[#sortedkeys+1] = k end
    table.sort(sortedkeys)

    mmp.echo(&quot;Known marks in this map:&quot;)
    if next(maptable) then
      for i = 1, #sortedkeys do echo(string.format(&quot;  %-21s  %s\n&quot;, tostring(sortedkeys[i]), tostring(maptable[sortedkeys[i]]))) end
    else
      echo(&quot;  (none)\n&quot;)
    end
else
	mmp.echo(&quot;No marks are recorded in this map.&quot;)
end</script>
                <command></command>
                <packageName></packageName>
                <regex>^room marks$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>Toggle map sizes</name>
                <script>local size = matches[2]

if size == &quot;biggest&quot; then
  mapper = Geyser.Mapper:new({
    name = &quot;mapper&quot;,
    x = 0, y = 0,
    width = &quot;100%&quot;, height = &quot;97%&quot;
  })
  mmp.echo(&quot;Map size set to pretty damn big.&quot;)

elseif size == &quot;small&quot; then
  mapper = Geyser.Mapper:new({
    x = &quot;70%&quot;, y = 0,
    width = &quot;28%&quot;, height = &quot;50%&quot;
  })
  mmp.echo(&quot;Map size set to comfortable.&quot;)

elseif size == &quot;big&quot; then
  local window_width, window_height = getMainWindowSize()
  local used_width = getMainConsoleWidth()

  local available_space = window_width - used_width

  if matches[3] then available_space = available_space - tonumber(matches[3]) end

  mapper = Geyser.Mapper:new({
    x = available_space*-1, y = 0,
    width = available_space, height = &quot;100%&quot;
  })

  mmp.echo(&quot;Set the map size to big - it'll cover all of the space on the right that game text isn't using. You'll want to call this alias again if you resize the window to update.&quot;)
end</script>
                <command></command>
                <packageName></packageName>
                <regex>^(small|big|biggest)map(?: (\d+))?$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>^make maps$</name>
                <script>local c = 0
for _, id in pairs(getAreaTable()) do
  tempTimer(c*.5, [[exportAreaImage(]]..id..[[)]])
  c = c + 1
end
mmp.echo(&quot;Done!&quot;)</script>
                <command></command>
                <packageName></packageName>
                <regex>^make maps$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>Set debug mode</name>
                <script>if matches[2] == &quot;on&quot; then
  mmp.debug = true
else
  mmp.debug = false
end

mmp.echo(&quot;Debug &amp; performance telemetry &quot;..(mmp.debug and &quot;enabled&quot; or &quot;disabled&quot;)..&quot;.&quot;)</script>
                <command></command>
                <packageName></packageName>
                <regex>^(?:mdg|mdebug) (on|off)$</regex>
            </Alias>
            <Alias isActive="yes" isFolder="no">
                <name>measure getPath()</name>
                <script>mmp = mmp or {}

mmp.getPathPerf = mmp.getPathPerf or createStopWatch()
startStopWatch(mmp.getPathPerf)

local from, to = tonumber(matches[2]), tonumber(matches[3])

getPath(from, to)

mmp.echon = mmp.echon or echo
mmp.echon(&quot;a new getPath() from &quot;..from..&quot; to &quot;..to..&quot; took &quot;..stopStopWatch(mmp.getPathPerf)..&quot;s. There are &quot;..#speedWalkPath..&quot; rooms to visit in it.&quot;)
echo(&quot; &quot;)
echoLink(&quot;[unhighlight]&quot;, [[
  for room in pairs(mmp.getpathhighlights) do
    unHighlightRoom(room)
  end
]], &quot;Click me to remove highlighting from getpath&quot;)

mmp.getpathhighlights = mmp.getpathhighlights or {}

for room in pairs(mmp.getpathhighlights) do
  unHighlightRoom(room)
end

mmp.getpathhighlights = {}

local r,g,b = unpack(color_table.yellow)
local br,bg,bb = unpack(color_table.yellow)
-- add the first room to the speedWalkPath, as we'd like it highlighted as well
table.insert(speedWalkPath, 1, from)
for i = 1, #speedWalkPath do
  local room = speedWalkPath[i]
  highlightRoom(room, r,g,b,br,bg,bb, 1, 255, 255)
  mmp.getpathhighlights[room] = true
end

centerview(from)</script>
                <command></command>
                <packageName></packageName>
                <regex>^getpath (?:from )?(\d+) (?:to )?(\d+)$</regex>
            </Alias>
        </AliasGroup>
    </AliasPackage>
    <ActionPackage/>
    <ScriptPackage>
        <ScriptGroup isActive="yes" isFolder="yes">
            <name>oasis</name>
            <packageName></packageName>
            <script>--! Current version: Beta 5.2.2

--! Core namespace declaration.
o = o or {}

--! Toggle to display debugging data in various functions.
--! Set true on startup to debug load_oasis().
o.debug = o.debug or false

--! Temporary data namespace declaration.
tmp = tmp or {}

--! Stand-in for library from optional module ks.lua.
ks = ks or {}
ks.lib = ks.lib or {
	--! affliction and defense library
	asleep = { venom = &quot;delphinium&quot;, strip = &quot;insomnia&quot;, stack = &quot;instawake&quot; },
	asthma = { undead = &quot;limp_veins&quot;, strip = &quot;fitness&quot; },
	blindness = { def = true },
	constitution = { def = true },
	deafness = { def = true },
	dementia = { strip = &quot;clarity&quot; },
	disfigurement = { strip = &quot;hierophant&quot; },
	fitness = { def = true },
	hierophant = { def = true },
	insomnia = { def = true },
	instawake = { def = true, venom = &quot;delphinium&quot; },
	insulation = { def = true },
	limp_veins = { strip = &quot;fitness&quot; },
	vomiting = { strip = &quot;constitution&quot; },

	--! venoms tagged by effect
	[&quot;aconite&quot;] = &quot;stupidity&quot;,
	[&quot;colocasia&quot;] = &quot;magic_impaired&quot;,
	[&quot;curare&quot;] = &quot;paresis&quot;,
	[&quot;darkshade&quot;] = &quot;sunlight_allergy&quot;,
	[&quot;delphinium&quot;] = &quot;asleep&quot;,
	[&quot;euphorbia&quot;] = &quot;vomiting&quot;,
	[&quot;eurypteria&quot;] = &quot;recklessness&quot;,
	[&quot;epseth&quot;] = &quot;left_arm_broken&quot;,
	[&quot;epteth&quot;] = &quot;right_leg_broken&quot;,
	[&quot;gecko&quot;] = &quot;slickness&quot;,
	[&quot;hepafarin&quot;] = &quot;haemophilia&quot;,
	[&quot;kalmia&quot;] = &quot;asthma&quot;,
	[&quot;larkspur&quot;] = &quot;dizziness&quot;,
	[&quot;monkshood&quot;] = &quot;disfigurement&quot;,
	[&quot;ouabian&quot;] = &quot;peace&quot;,
	[&quot;oculus&quot;] = &quot;blindness&quot;,
	[&quot;prefarar&quot;] = &quot;sensitivity&quot;,
	[&quot;scytherus&quot;] = &quot;thin_blood&quot;,
	[&quot;selarnia&quot;] = &quot;selarnia&quot;,
	[&quot;slike&quot;] = &quot;anorexia&quot;,
	[&quot;vernalius&quot;] = &quot;weariness&quot;,
	[&quot;voyria&quot;] = &quot;voyria&quot;,	
	[&quot;xentio&quot;] = &quot;clumsiness&quot;
}

--! @brief Executes any string as Lua.
--! @param lstr The string to be executed as Lua.
function execute_lua(lstr)
	local f, e = loadstring(&quot;return &quot; .. lstr)

	if not f then
		f, e = assert(loadstring(lstr))
	end

	local r = f()

	if r ~= nil then display(r) end
end

--! System echoes.
e = {
	echo	= function (str, lnb, lna)
		if lnb then echo(&quot;\n&quot;) end
		cecho(string.format(&quot;%s&quot;, &quot;&lt;deep_sky_blue&gt;(&lt;steel_blue&gt;Oasis&lt;deep_sky_blue&gt;): &lt;slate_blue&gt;Update: &lt;grey&gt;&quot;) .. str:title())
		if lna then echo(&quot;\n&quot;) end
	end,

	info	= function (str, lnb, lna)
		if lnb then echo(&quot;\n&quot;) end
		cecho(string.format(&quot;%s&quot;, &quot;&lt;deep_sky_blue&gt;(&lt;steel_blue&gt;Oasis&lt;deep_sky_blue&gt;): &lt;goldenrod&gt;Info: &lt;grey&gt;&quot;) .. str:title())
		if lna then echo(&quot;\n&quot;) end
	end,

	kswitch = function (str, lnb, lna)
		if lnb then echo(&quot;\n&quot;) end
		cecho(string.format(&quot;%s&quot;, &quot;&lt;deep_sky_blue&gt;(&lt;steel_blue&gt;Oasis&lt;deep_sky_blue&gt;): &lt;goldenrod&gt;Killswitch: &lt;grey&gt;&quot;) .. str:title())
		if lna then echo(&quot;\n&quot;) end
	end,

	warn	= function (str, lnb, lna)
		if lnb then echo(&quot;\n&quot;) end
		cecho(string.format(&quot;%s&quot;, &quot;&lt;deep_sky_blue&gt;(&lt;steel_blue&gt;Oasis&lt;deep_sky_blue&gt;): &lt;orange_red&gt;Warning:&lt;navajo_white&gt; &quot;) .. str:title())
		if lna then echo(&quot;\n&quot;) end
	end,

	error	= function (str, lnb, lna)
		if lnb then echo(&quot;\n&quot;) end
		cecho(string.format(&quot;%s&quot;, &quot;&lt;deep_sky_blue&gt;(&lt;steel_blue&gt;Oasis&lt;deep_sky_blue&gt;): &lt;white:red&gt;Error:&lt;red:black&gt; &quot;) .. str:title())
		if lna then echo(&quot;\n&quot;) end
	end,

	debug	= function (str, lnb, lna)
		if lnb then echo(&quot;\n&quot;) end
		cecho(string.format(&quot;%s&quot;, &quot;&lt;deep_sky_blue&gt;(&lt;steel_blue&gt;Oasis&lt;deep_sky_blue&gt;): &lt;dark_orange&gt;Debug: &lt;orchid&gt;&quot;) .. str:title())
		if lna then echo(&quot;\n&quot;) end
	end,

	def = function (def, rem, deftable, lnb, lna)
		if lnb then echo(&quot;\n&quot;) end
		if rem then
			cecho(&quot;&lt;indian_red&gt;Your &lt;gold&gt;&quot; .. def:lower() .. &quot;&lt;indian_red&gt; defense has been stripped.&quot;)
		else
			if deftable then
				cecho(&quot;&lt;indian_red&gt;You have the &lt;gold&gt;&quot; .. def:lower() .. &quot;&lt;indian_red&gt; defense.&quot;)
			else		
				cecho(&quot;&lt;indian_red&gt;You have gained the &lt;gold&gt;&quot; .. def:lower() .. &quot;&lt;indian_red&gt; defense.&quot;)
			end
		end
		if lna then echo(&quot;\n&quot;) end
	end,

	aff = function (aff, rem, diag, lnb, lna)
		if lnb then echo(&quot;\n&quot;) end
		if rem then
			cecho(&quot;&lt;green&gt;You have cured &lt;light_sea_green&gt;&quot; .. aff:lower() .. &quot;&lt;green&gt;.&quot;)
		else
			if diag then
				cecho(&quot;&lt;green&gt;&quot; .. aff:lower() .. &quot;&lt;light_sea_green&gt;.&quot;)
			else		
				cecho(&quot;&lt;light_sea_green&gt;You are afflicted with &lt;green&gt;&quot; .. aff:lower() .. &quot;&lt;light_sea_green&gt;.&quot;)
			end
		end
		if lna then echo(&quot;\n&quot;) end
	end,

	limb = function (l, res, num, wounds, lnb, lna)
		if lnb then echo(&quot;\n&quot;) end
		if res then
			cecho(&quot;&lt;turquoise&gt;Your &lt;light_slate_blue&gt;&quot; .. l:lower() .. &quot; &lt;turquoise&gt;has recovered &lt;light_slate_blue&gt;&quot; .. num .. &quot;% &lt;turquoise&gt;damage.&quot;)
		else
			if wounds then
				local ind = 12 - l:len()
				cecho(&quot;&lt;light_slate_blue&gt;&quot; .. l:title() .. &quot;:&quot; .. string.rep(&quot; &quot;, ind) .. &quot;&lt;turquoise&gt;&quot; .. num .. &quot;%&quot;)
			else
				cecho(&quot;&lt;light_slate_blue&gt;Your &lt;turquoise&gt;&quot; .. l:lower() .. &quot; &lt;light_slate_blue&gt;has taken &lt;turquoise&gt;&quot; .. num .. &quot;% &lt;light_slate_blue&gt;damage.&quot;)
			end
		end
		if lna then echo(&quot;\n&quot;) end
	end,

	t_def = function (name, def, rem, lnb, lna)
		if lnb then echo(&quot;\n&quot;) end
		if rem then
			cecho(&quot;&lt;gold&gt;&quot; .. name:title() .. &quot;&lt;cyan&gt;'s &lt;gold&gt;&quot; .. def:lower() .. &quot; &lt;cyan&gt;defense has been stripped.&quot;)
		else
			cecho(&quot;&lt;cyan&gt;&quot; .. name:title() .. &quot; &lt;gold&gt;has gained the &lt;cyan&gt;&quot; .. def:lower() .. &quot; &lt;gold&gt;defense.&quot;)
		end
		if lna then echo(&quot;\n&quot;) end
	end,

	t_aff = function (name, aff, rem, list, lnb, lna)
		if lnb then echo(&quot;\n&quot;) end
		if rem then
			cecho(&quot;&lt;MediumOrchid&gt;&quot; .. name:title() .. &quot; &lt;deep_pink&gt;has cured &lt;MediumOrchid&gt;&quot; .. aff:lower() .. &quot;&lt;deep_pink&gt;.&quot;)
		else
			if list then
				cecho(&quot;&lt;reset&gt;&quot; .. aff:lower() .. &quot;, &quot;)
			else		
				cecho(&quot;&lt;deep_pink&gt;&quot; .. name:title() .. &quot; &lt;MediumOrchid&gt;is afflicted with &lt;deep_pink&gt;&quot; .. aff:lower() .. &quot;&lt;MediumOrchid&gt;.&quot;)
			end
		end
		if lna then echo(&quot;\n&quot;) end
	end,

	t_trait = function (name, key, switch, lnb, lna)
		if lnb then echo(&quot;\n&quot;) end
		if switch then
			cecho(&quot;&lt;goldenrod&gt;&quot; .. name:title() .. &quot; &lt;navajo_white&gt;is now &lt;goldenrod&gt;&quot; .. key.. &quot;&lt;navajo_white&gt;.&quot;)
		else
			cecho(&quot;&lt;navajo_white&gt;&quot; .. name:title() .. &quot; &lt;goldenrod&gt;is no longer &lt;navajo_white&gt;&quot; .. key.. &quot;&lt;goldenrod&gt;.&quot;)
		end
		if lna then echo(&quot;\n&quot;) end
	end,

	t_limb = function (name, limb, dam, res, set, lnb, lna)
		if lnb then echo(&quot;\n&quot;) end
		if set then
			cecho(&quot;&lt;orange&gt;&quot; .. name:title() .. &quot;&lt;orange_red&gt;'s &lt;orange&gt;&quot; .. limb:gsub(&quot;_&quot;, &quot; &quot;) .. &quot; &lt;orange_red&gt;is at &lt;orange&gt;&quot; .. tostring(dam) .. &quot;&lt;orange_red&gt;% damage.&quot;)
		elseif res then
			cecho(&quot;&lt;orange&gt;&quot; .. name:title() .. &quot;&lt;orange_red&gt;'s &lt;orange&gt;&quot; .. limb:gsub(&quot;_&quot;, &quot; &quot;) .. &quot; &lt;orange_red&gt;has restored &lt;orange&gt;&quot; .. tostring(dam) .. &quot;&lt;orange_red&gt;% damage.&quot;)
		else
			cecho(&quot;&lt;orange_red&gt;&quot; .. name:title() .. &quot;&lt;orange&gt;'s &lt;orange_red&gt;&quot; .. limb:gsub(&quot;_&quot;, &quot; &quot;) .. &quot; &lt;orange&gt;has taken &lt;orange_red&gt;&quot; .. tostring(dam) .. &quot;&lt;orange&gt;% damage.&quot;)
		end
		if lna then echo(&quot;\n&quot;) end
	end,

	cont	= function ()
		cecho(&quot;&lt;deep_sky_blue&gt;:   &quot;)
		echoLink(&quot;Contact Us&quot;, [[openUrl(&quot;http://oasis.interimreality.com/contact/&quot;)]], &quot;Click to open Oasis' web portal.&quot;)
	end
}</script>
            <eventHandlerList/>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>gmcp</name>
                <packageName></packageName>
                <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                <eventHandlerList/>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>char</name>
                    <packageName></packageName>
                    <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                    <eventHandlerList/>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>vitals</name>
                        <packageName></packageName>
                        <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>prompt_hook</name>
                            <packageName></packageName>
                            <script>function prompt_hook()
	_gmcp.check()
	_gmcp.get_stats()
	_gmcp.get_vitals()
	if ui.config.status_bar == &quot;prompt&quot; then ui.update_status_bar() end
end
</script>
                            <eventHandlerList>
                                <string>gmcp.Char.Vitals</string>
                            </eventHandlerList>
                        </Script>
                    </ScriptGroup>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>skills</name>
                        <packageName></packageName>
                        <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>get_skillsets</name>
                            <packageName></packageName>
                            <script>function get_skillsets()
	_gmcp:get_skillsets()
end</script>
                            <eventHandlerList>
                                <string>gmcp.Char.Skills.Groups</string>
                            </eventHandlerList>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>populate_skill_tree</name>
                            <packageName></packageName>
                            <script>function populate_skill_tree()
	_gmcp:populate_skill_tree()
end</script>
                            <eventHandlerList>
                                <string>gmcp.Char.Skills.List</string>
                            </eventHandlerList>
                        </Script>
                    </ScriptGroup>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>items</name>
                        <packageName></packageName>
                        <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                        <eventHandlerList/>
                        <Script isActive="no" isFolder="no">
                            <name>items_events</name>
                            <packageName></packageName>
                            <script>function items_events(e, arg)
	_gmcp:items_events(e, arg)
end</script>
                            <eventHandlerList>
                                <string>gmcp.Char.Items.Add</string>
                                <string>gmcp.Char.Items.List</string>
                                <string>gmcp.Char.Items.Update</string>
                                <string>gmcp.Char.StatusVars</string>
                                <string>gmcp.Char.Items.Remove</string>
                            </eventHandlerList>
                        </Script>
                    </ScriptGroup>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>ire</name>
                    <packageName></packageName>
                    <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                    <eventHandlerList/>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>rift</name>
                        <packageName></packageName>
                        <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                        <eventHandlerList/>
                        <Script isActive="yes" isFolder="no">
                            <name>rift_handler</name>
                            <packageName></packageName>
                            <script>function rift_handler(_, e)
	_gmcp:rift_change(e)
end</script>
                            <eventHandlerList>
                                <string>gmcp.IRE.Rift</string>
                            </eventHandlerList>
                        </Script>
                        <Script isActive="yes" isFolder="no">
                            <name>pre_handler</name>
                            <packageName></packageName>
                            <script>function pre_handler(e)
	_gmcp:prerift()
end</script>
                            <eventHandlerList>
                                <string>prerift check</string>
                            </eventHandlerList>
                        </Script>
                    </ScriptGroup>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>core</name>
                    <packageName></packageName>
                    <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>ping_check</name>
                        <packageName></packageName>
                        <script>function ping_check()
	return timing.stop(&quot;ping&quot;) .. &quot;ms&quot;
end</script>
                        <eventHandlerList>
                            <string>gmcp.Core.Ping</string>
                        </eventHandlerList>
                    </Script>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>comm</name>
                    <packageName></packageName>
                    <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>comms_capture</name>
                        <packageName></packageName>
                        <script>function comms_capture()
	ui:capture_comms()
end
</script>
                        <eventHandlerList>
                            <string>gmcp.Comm.Channel.Start</string>
                        </eventHandlerList>
                    </Script>
                </ScriptGroup>
                <ScriptGroup isActive="yes" isFolder="yes">
                    <name>room</name>
                    <packageName></packageName>
                    <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                    <eventHandlerList/>
                    <ScriptGroup isActive="yes" isFolder="yes">
                        <name>players</name>
                        <packageName></packageName>
                        <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                        <eventHandlerList/>
                    </ScriptGroup>
                    <Script isActive="yes" isFolder="no">
                        <name>moved_room</name>
                        <packageName></packageName>
                        <script>function moved_room()
	if tmp.moved_room then return end
	fs.release()
	tmp.moved_room = true
end
</script>
                        <eventHandlerList>
                            <string>gmcp.Room.Info</string>
                        </eventHandlerList>
                    </Script>
                </ScriptGroup>
            </ScriptGroup>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>events</name>
                <packageName></packageName>
                <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                <eventHandlerList/>
                <Script isActive="no" isFolder="no">
                    <name>mapper_arrived</name>
                    <packageName></packageName>
                    <script>function mapper_arrived()
	genrun:arrived()
end

</script>
                    <eventHandlerList>
                        <string>mmapper arrived</string>
                    </eventHandlerList>
                </Script>
                <Script isActive="no" isFolder="no">
                    <name>genrun_arrived</name>
                    <packageName></packageName>
                    <script>function genrun_arrived()
	tempTimer(1, [[genrun:attack()]])
end</script>
                    <eventHandlerList>
                        <string>genrun arrived</string>
                    </eventHandlerList>
                </Script>
                <Script isActive="no" isFolder="no">
                    <name>genrun_walk</name>
                    <packageName></packageName>
                    <script>function genrun_walk()
	genrun:walk()
end

</script>
                    <eventHandlerList>
                        <string>genrun walk</string>
                    </eventHandlerList>
                </Script>
                <Script isActive="no" isFolder="no">
                    <name>toggle_changestate</name>
                    <packageName></packageName>
                    <script>function toggle_changestate(_, name)
	ui:toggle_changestate(name)
end


</script>
                    <eventHandlerList>
                        <string>toggle changestate</string>
                    </eventHandlerList>
                </Script>
                <Script isActive="no" isFolder="no">
                    <name>util_window_toggled</name>
                    <packageName></packageName>
                    <script>function util_window_toggled(_, arg)
	if arg == &quot;room_items&quot; then
		--ui:update_room_items()
	end
end</script>
                    <eventHandlerList>
                        <string>util toggled</string>
                    </eventHandlerList>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>oasis_download_event</name>
                    <packageName></packageName>
                    <script>function oasis_download_event(_, filename)
	if o.debug then
		e.debug(&quot;Download finished for file: &quot; .. filename, false, true)
	end

	if cdb then cdb.parse_api_data(filename) end

	local file_handlers = {
		[&quot;projects.json&quot;] = &quot;projects_handler&quot;,
		[&quot;version.json&quot;] = &quot;version_handler&quot;,
		[&quot;manifest.txt&quot;] = &quot;manifest_handler&quot;,
	}

	for fname, handler in pairs(file_handlers) do
		if filename:find(fname) then
			tmp_api_handlers[handler](filename)
			return
		end
	end
		
	--if o.state then return end --! toggled &quot;true&quot; when on_oasis_download_finished() completes successfully
	if not tmp_api_data.files_ip then return end

	local name_ = filename:match(&quot;[/\\]([%w%d%.%_]+)$&quot;)
	if tmp_api_data.files_ip[name_] then
		tmp_api_data.files_ip[name_] = nil
		if table.size(tmp_api_data.files_ip) == 0 then
			on_oasis_download_finished()
		end
	end
end</script>
                    <eventHandlerList>
                        <string>sysDownloadDone</string>
                    </eventHandlerList>
                </Script>
            </ScriptGroup>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>loader</name>
                <packageName></packageName>
                <script>oasis_includes = { &quot;oasis&quot;, &quot;config&quot;, &quot;_gmcp&quot;, &quot;affs&quot;, &quot;bash&quot;, &quot;defs&quot;, &quot;inv&quot;, &quot;ui&quot;, &quot;can&quot;, &quot;cdb&quot;, &quot;fs&quot;, &quot;prompt&quot; }
oasis_includes_special = { &quot;ks&quot; }
oasis_includes_opt = { &quot;ks&quot;, &quot;muse&quot; }</script>
                <eventHandlerList/>
                <Script isActive="yes" isFolder="no">
                    <name>init_oasis</name>
                    <packageName></packageName>
                    <script>function init_oasis()
	local s = string.sub(getMudletHomeDir(), 1, 1) == &quot;/&quot; and &quot;/&quot; or &quot;\\&quot;
	local oasis_dir = getMudletHomeDir() .. s .. &quot;oasis&quot; .. s

	if lfs.attributes(oasis_dir .. &quot;src&quot;) and lfs.attributes(oasis_dir .. &quot;src&quot; .. s .. &quot;oasis.lua&quot;) then
		load_oasis()
	else
		install_oasis()
	end
end</script>
                    <eventHandlerList>
                        <string>sysLoadEvent</string>
                    </eventHandlerList>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>install_oasis</name>
                    <packageName></packageName>
                    <script>function install_oasis()
	local s = string.sub(getMudletHomeDir(), 1, 1) == &quot;/&quot; and &quot;/&quot; or &quot;\\&quot;
	local oasis_dir = getMudletHomeDir() .. s .. &quot;oasis&quot;
	local data_dir = oasis_dir .. s .. &quot;data&quot;

	e.info(&quot;First installation detected. Please wait. Creating directory structure.&quot;, false, true)

	if not lfs.attributes(oasis_dir) then
		assert(lfs.mkdir(oasis_dir))
	end

	for _, dir in ipairs({ &quot;src&quot;, &quot;usr&quot;, &quot;data&quot;, &quot;logs&quot;, &quot;cdb&quot;, &quot;tmp&quot; }) do
		if not lfs.attributes(oasis_dir .. s..  dir) then
			assert(lfs.mkdir(oasis_dir .. s .. dir))
		end
	end

	e.info(&quot;Directory structure complete. Creating data files.&quot;)

	local data_dir = oasis_dir .. s .. &quot;data&quot; .. s

	for _, fname in ipairs({ &quot;curesets&quot;, &quot;defsets&quot;, &quot;permanent&quot;, &quot;chardb&quot; }) do
		local fh = io.open(data_dir .. s .. fname .. &quot;.lua&quot;, &quot;w+&quot;)
		fh:write(&quot;&quot;)
		fh:flush()
		fh:close()
	end

	if lfs.attributes(oasis_dir .. s .. &quot;src&quot;) then
		e.echo(&quot;Initialisation complete! Downloading core system components...&quot;, false, true)
		download_oasis()
	else
		e.error(&quot;An error has occurred during system initialisation. Please contact support.&quot;, false, true)
		return
	end
end</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>download_oasis</name>
                    <packageName></packageName>
                    <script>oasis_api_config = {
	host = &quot;http://oasis.interimreality.com/&quot;,
	api_dir = &quot;api/v1/&quot;,
	project_name = &quot;oasis&quot;,
	module_name = &quot;oasys&quot;, -- Because Mudlet is coded by monkeys on typewriters. No Shakespeare, here!
}

tmp_api_handlers = tmp_api_handlers or {}

tmp_api_data = tmp_api_data or {}

function download_oasis()
	e.info(&quot;Grabbing the latest version of the Oasis system. This may take a few moments.&quot;, false, true)
	get_projects()
end

function oasis_api_uri()
	return oasis_api_config.host .. oasis_api_config.api_dir
end

function get_projects()
	e.info(&quot;Downloading projects data from API.&quot;, false, true)
	local s = string.sub(getMudletHomeDir(), 1, 1) == &quot;/&quot; and &quot;/&quot; or &quot;\\&quot;
	local projects_uri = oasis_api_uri() .. &quot;petrichor/projects&quot;
	downloadFile(getMudletHomeDir() .. s .. &quot;oasis&quot; .. s .. &quot;tmp&quot; .. s .. &quot;projects.json&quot;, projects_uri)
end

function on_received_project_id(id)
	local s = string.sub(getMudletHomeDir(), 1, 1) == &quot;/&quot; and &quot;/&quot; or &quot;\\&quot;
	id = tonumber(id)
	local version_uri = oasis_api_uri() .. &quot;petrichor/project/&quot; .. id .. &quot;/version&quot;
	downloadFile(getMudletHomeDir() .. s .. &quot;oasis&quot; .. s .. &quot;tmp&quot; .. s .. &quot;version.json&quot;, version_uri)
end

function on_received_version_data(data)
	local s = string.sub(getMudletHomeDir(), 1, 1) == &quot;/&quot; and &quot;/&quot; or &quot;\\&quot;
	local rel_id, rel_name, rel_version, rel_url, rel_changelog, rel_package = data.id, data.name, data.version, data.url, data.changelog, data.package
	e.info(&quot;Release: &quot;..rel_name, true, true)
	e.info(&quot;Version: &quot;..rel_version, false, true)
	e.info(&quot;Changelog: &quot;..rel_changelog, false, true)
	tmp_api_data.id = rel_id
	tmp_api_data.package = rel_package
	if rel_package == &quot;&quot; then
		tmp_api_data.package = nil
	end
	tmp_api_data.version = rel_version
	tmp_api_data.url = rel_url
	tmp_api_data.name = rel_name

	local manifest_uri = oasis_api_config.host .. rel_url:sub(2) .. &quot;manifest.txt&quot;
	e.info(&quot;Downloading manifest.&quot;, false, true)
	downloadFile(getMudletHomeDir() .. s .. &quot;oasis&quot; .. s .. &quot;tmp&quot; .. s .. &quot;manifest.txt&quot;, manifest_uri)
end

function on_oasis_download_finished()
	e.info(&quot;All files received. Installing...&quot;, false, true)

	if not tmp_api_data.package then
		e.warn(&quot;No package data was found in the release. A plugin might have been downloaded instead. Contact support.&quot;, false, true)
		return
	end

	local s = &quot;/&quot;
	local package_name = tmp_api_data.package
	local path = getMudletHomeDir() .. s .. &quot;oasis&quot; .. s .. &quot;src&quot; .. s
	if not lfs.attributes(path .. package_name) then
		e.error(&quot;Package does not exist. Path: &quot; .. path .. &quot; - file: &quot; .. package_name .. &quot; - contact support at:&quot;, false, true)
		cecho(&quot;\n   &lt;deep_sky_blue&gt;:   &quot;)
		echoLink(&quot;Contact Us&quot;, [[openUrl(&quot;http://oasis.interimreality.com/contact/&quot;)]], &quot;Click to open Oasis' web portal.&quot;)
		return
	end
	uninstallPackage(oasis_api_config.module_name)
	installPackage(path .. package_name)
	e.info(&quot;Installation complete.&quot;, false, true)
	e.info(&quot;Resetting your Mudlet profile. Your screen may flash a bit. Please enter 'init' to load Oasis modules.&quot;, false, true)
	resetProfile()
end

tmp_api_handlers.projects_handler = function (filename)
	local fh = io.open(filename, &quot;r&quot;)
	local contents = fh:read(&quot;*all&quot;)
	fh:close()
	--Delete file
	local data = yajl.to_value(contents)
	for index, dt in ipairs(data) do
		if dt.name:lower() == oasis_api_config.project_name:lower() then
			e.info(&quot;Received projects data from API. Retrieving current project version...&quot;, false, true)
			on_received_project_id(dt.id)
			echo(dt.id)
			return
		end
	end
	e.error(&quot;Could not find project in projects.json. This is fucked.&quot;)
end

tmp_api_handlers.version_handler = function (filename)
	local fh = io.open(filename, &quot;r&quot;)
	local contents = fh:read(&quot;*all&quot;)
	fh:close()
	-- Seriously, when you're done, look up the lfs docs and DELETE THIS FUCKING FILE
	local data = yajl.to_value(contents)
	e.info(&quot;Received current version data.&quot;)
	on_received_version_data(data)
end

tmp_api_handlers.manifest_handler = function (filename)
	local s = string.sub(getMudletHomeDir(), 1, 1) == &quot;/&quot; and &quot;/&quot; or &quot;\\&quot;
	local fh = io.open(filename, &quot;r&quot;)
	local lc = 1
	local files = {}
	for line in fh:lines() do
		local name, hash = line:match(&quot;^([%w%d%.%_]+) : ([%w%d]+)$&quot;)
		if not name then
			e.error(&quot;Malformed manifest data on line &quot;..lc..&quot;.&quot;)
		else
			table.insert(files, name)
		end
		lc = lc + 1
	end
	fh:close()
	tmp_api_data.files_ip = {}
	e.info(&quot;Downloading files: &quot; .. table.concat(files, &quot;, &quot;) .. &quot;.&quot;, false, true)
	for _,name in ipairs(files) do
		local uri = oasis_api_config.host .. tmp_api_data.url:sub(2)
		tmp_api_data.files_ip[name] = true
		downloadFile(getMudletHomeDir() .. s .. &quot;oasis&quot; .. s .. &quot;src&quot; .. s .. name, uri .. name)
	end
end</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>load_oasis</name>
                    <packageName></packageName>
                    <script>function load_oasis()
	local s = string.sub(getMudletHomeDir(), 1, 1) == &quot;/&quot; and &quot;/&quot; or &quot;\\&quot;
	local oasis_dir = getMudletHomeDir() .. s .. &quot;Oasis&quot; .. s
	local src_dir = oasis_dir .. &quot;src&quot; .. s
	local usr_dir = oasis_dir .. &quot;usr&quot; .. s
	local path = src_dir .. &quot;?.lua;&quot; .. usr_dir .. &quot;?.lua&quot;
	local cpath
 
	if s == '/' then
		cpath = src_dir .. &quot;?.so;&quot; .. usr_dir .. &quot;?.so&quot;
	else
		cpath = src_dir .. &quot;?.dll;&quot; .. usr_dir .. &quot;?.dll&quot;
	end

	package.path = package.path .. &quot;;&quot; .. path
	package.cpath = package.cpath .. &quot;;&quot; .. cpath

	local loader = function (name)
		local ret, err = pcall(require, name)
		if not ret then
			local estr = &quot;Error on loading required module '&quot; .. name .. &quot;': &quot; .. err
			e.error(estr, false, true)
			return false, estr
		else
			if not _G[name] then
				_G[name] = ret
				return ret
			else
				return ret
			end
		end
	end

	local specialloader = function (name)
		if not bridge then return end --Shouldn't happen, but future-proofing
		if package.loaded[name] then return end
		if io.exists(src_dir .. name .. &quot;.enc&quot;) then
			local ret, err = pcall(bridge.require, src_dir .. name .. &quot;.enc&quot;)
			if not ret then
				local estr = &quot;Error on loading special module '&quot; .. name .. &quot;': &quot; .. err
				if name == false then e.error(estr, false, true) end
				return false, estr
			end
		end
	end

	local optloader = function (name)
		if package.loaded[name] then return end --Don't reload an existing module
		local ret, err = pcall(require, name)
		if not ret then
			local estr = &quot;Error on loading optional module '&quot; .. name .. &quot;': &quot; .. err
			if name == false then e.error(estr, false, true) end
			return false, estr			
		else
			if not _G[name] then
				_G[name] = ret
				return ret
			else
				return ret
			end
		end
	end

	for _, mname in ipairs(oasis_includes) do
		local r, err = loader(mname)
		if not r and err then
			e.error(&quot;Breaking from load.&quot;, false, true)
			return
		end
	end

	for _,mname in ipairs(oasis_includes_special) do
		specialloader(mname)
	end

	for _,mname in ipairs(oasis_includes_opt) do
		optloader(mname)
	end

	e.info(&quot;Oasis modules loaded successfully.&quot;, false, false)
	on_oasis_load()
end</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>reload_oasis</name>
                    <packageName></packageName>
                    <script>function reload_oasis()
	for _,v in ipairs(oasis_includes) do
		package.loaded[v] = nil
	end
	for _,v in ipairs(oasis_includes_opt) do
		package.loaded[v] = nil
	end
	cdb.save()
	cd = nil
	fs = nil
	timers = nil
	stopwatch = nil
	load_oasis()
	sendGMCP('Core.Supports.Set [&quot;Core 1&quot;, &quot;Char 1&quot;, &quot;Char.Skills 1&quot;, &quot;Char.Items 1&quot;, &quot;Room 1&quot;, &quot;Comm.Channel 1&quot;, &quot;Room Redirect 1&quot;, &quot;IRE.Rift 1&quot;, &quot;IRE.Composer 1&quot;, &quot;IRE.Time 1&quot;, &quot;IRE.Misc 1&quot;, &quot;IRE.Display 1&quot;]')
	send(&quot; &quot;)
end</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>live_update</name>
                    <packageName></packageName>
                    <script>function prep_update()
	get_projects()
end
</script>
                    <eventHandlerList/>
                </Script>
            </ScriptGroup>
        </ScriptGroup>
        <ScriptGroup isActive="yes" isFolder="yes">
            <name>mapper</name>
            <packageName></packageName>
            <script>mudlet = mudlet or {}; mudlet.mapper_script = true</script>
            <eventHandlerList/>
            <Script isActive="yes" isFolder="no">
                <name>Create Option Table</name>
                <packageName></packageName>
                <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------

function createOption(startingValue, onChangeFunc, allowedVarTypes, use)
	if allowedVarTypes then -- make sure our starting Value follows type rules
		if not table.contains(allowedVarTypes, type(startingValue)) then
			echo(&quot;Starting type is not of allowed type!\n&quot;)
			display(allowedVarTypes)
			echo(&quot;type: &quot; .. type(startingValue) .. &quot;\n&quot;)
			return
		end
	end

	local option = {
		value = startingValue,
		onChange = onChangeFunc,
		allowedVarTypes = allowedVarTypes,
		use = use or &quot;&quot;
	}

	return option
end

function createOptionsTable(defaultTable)
	local index = {} -- index to store the default table at in our proxy table


	local proxyTable = {} -- This is the table that is returned to the user

	proxyTable.disp = echo

	proxyTable.dispDefaultWriteError = function()
		echo(&quot;Can't overwrite default options. Please use the SetOption function to change the value\n&quot;)
	end

	proxyTable.dispOption = function(opt, val)
		if not opt or not val then return end
		echo(&quot;Name: &quot; .. string.title(opt) .. string.rep(&quot; &quot;, 10 - string.len(opt)))
		echo(&quot;Val: &quot; .. tostring(val.value))
		echo(string.rep(&quot; &quot;, 10 - string.len(tostring(val.value))) ..  &quot;- &quot; .. val.use .. &quot;\n&quot;)
	end

	function proxyTable:showAllOptions()
		proxyTable.disp(&quot;Available options: \n&quot;)
		for k, v in pairs(self[index]) do
			self.dispOption(k, v)
		end
		echo(&quot;\n&quot;)
		for k, v in pairs(self[&quot;_customOptions&quot;]) do
			self.dispOption(k, v)
		end

	end

	function proxyTable:getAllOptions()
		local t = {}
		for k, v in pairs(self[index]) do
			t[k] = v.value
		end

		return t
	end

   function proxyTable:setOption(option, value, silent)
		if self[option] == nil then
			proxyTable.disp(&quot;No such option!\n&quot;)
			return
		end

		-- otherwise, set the option
		if self[&quot;_customOptions&quot;][option] then
			if not table.contains(self[&quot;_customOptions&quot;][option].allowedVarTypes, type(value)) then
				proxyTable.disp(&quot;You can't set '&quot; .. option .. &quot;' to that!\n&quot;)
				return
			end
			self[&quot;_customOptions&quot;][option].value = value
			if self[&quot;_customOptions&quot;][option].onChange then
				self[&quot;_customOptions&quot;][option].onChange(option, value)
			end
		else
			if not table.contains(self[index][option].allowedVarTypes, type(value)) then
				proxyTable.disp(&quot;You can't set '&quot; .. option .. &quot;' to that!\n&quot;)
				return
			end
			rawset(self[index][option], &quot;value&quot;, value)
			local opt = rawget(self[index], option)
			if opt.onChange  and not silent then opt.onChange(option, value) end
		end
	end


	proxyTable._customOptions = {}

	local mt = {
		__index = function(t, k)
			local custOp = rawget(t, &quot;_customOptions&quot;)
			if custOp[k] then
			 	local opt = custOp[k]
				if opt then return opt.value else return nil end
			else
				local opt = t[index][k]
				if opt then return opt.value else return nil end
			end
		end,

		__newindex = function (t, k, v)
			if t[index][k] then
				proxyTable.dispDefaultWriteError()
			else
				t[&quot;_customOptions&quot;][k] = v
			end
		end
	}


	proxyTable[index] = defaultTable

	setmetatable(proxyTable, mt)

	return proxyTable

end</script>
                <eventHandlerList/>
            </Script>
            <Script isActive="yes" isFolder="no">
                <name>Load settings</name>
                <packageName></packageName>
                <script>-- mmp = mudlet mapper namespace
mmp = mmp or {
  paused = false,
  autowalking = false,
  currentroom = 0,
  currentroomname = &quot;(unknown)&quot;,
  firstRun = true,
  specials = {},
  ferry_rooms = {}
}

speedWalkWatch = createStopWatch()

-- populated by Mudlet from getPath() and gotoRoom()
speedWalkPath = speedWalkPath or {}
speedWalkDir = speedWalkDir or {}
speedWalkCounter = 0

-- actually used by the mapper for walking
mmp.speedWalkPath = mmp.speedWalkPath or {}
mmp.speedWalkDir = mmp.speedWalkDir or {}


local newversion = &quot;14.5.1&quot;
if mmp.version and mmp.version ~= newversion then
  if not mmp.game then mmp.echo(&quot;Mapper script updated - Thanks! I don't know what game are you connected to, though - so please reconnect, if you could.&quot;)
  else mmp.echo(&quot;Mapper script updated - thanks! You don't need to restart.&quot;) end
end
mmp.version = newversion

function mmp.startup()
  if not mmp.firstRun then
    return
  end

  local private_settings = {}
  private_settings[&quot;belt&quot;]          = createOption(false, mmp.setBelt, { &quot;boolean&quot; }, &quot;Make use of your Belt in Lusternia?&quot;)
  private_settings[&quot;blossom&quot;]       = createOption(false, mmp.setBlossom, { &quot;boolean&quot; }, &quot;Make use of your Flame of dae'Seren in Lusternia?&quot;)
  private_settings[&quot;bonecurio&quot;]     = createOption(false, mmp.setBonecurio, { &quot;boolean&quot; }, &quot;Make use of your Bone curios in Lusternia?&quot;)
  private_settings[&quot;caravan&quot;]       = createOption(false, mmp.changeBoolFunc,{ &quot;boolean&quot; }, &quot;Walk caravans?&quot;)
  private_settings[&quot;cookie&quot;]        = createOption(false, mmp.setCookie, { &quot;boolean&quot; }, &quot;Make use of your Cookie in Lusternia?&quot;)
  private_settings[&quot;crowdmap&quot;]      = createOption(false, mmp.chageMapSource, { &quot;boolean&quot; }, &quot;Use a crowd-sourced map instead of IREs default?&quot;)
  private_settings[&quot;cubix&quot;]         = createOption(false, mmp.setCubix, { &quot;boolean&quot; }, &quot;Make use of your Cubix in Lusternia?&quot;)
  private_settings[&quot;dash&quot;]          = createOption(false, mmp.changeBoolFunc, { &quot;boolean&quot; }, &quot;Use Dash?&quot;)
  private_settings[&quot;duanathar&quot;]     = createOption(false, mmp.setDuanathar, { &quot;boolean&quot; }, &quot;Use Eagle Wings in Achaea?&quot;)
  private_settings[&quot;duanatharan&quot;]   = createOption(false, mmp.setDuanatharan, { &quot;boolean&quot; }, &quot;Use Atavian Wings in Achaea?&quot;)
  private_settings[&quot;facecurio&quot;]     = createOption(false, mmp.setFacecurio, { &quot;boolean&quot; }, &quot;Make use of your Face curios in Lusternia?&quot;)
  private_settings[&quot;feathercurio&quot;]  = createOption(false, mmp.setFeathercurio, { &quot;boolean&quot; }, &quot;Make use of your Feather curios in Lusternia?&quot;)
  private_settings[&quot;figurecurio&quot;]   = createOption(false, mmp.setFigurecurio, { &quot;boolean&quot; }, &quot;Make use of your Figure curios in Lusternia?&quot;)
  private_settings[&quot;fingerblade&quot;]   = createOption(false, mmp.setFingerblade, { &quot;boolean&quot; }, &quot;Make use of your Fingerblade in Lusternia?&quot;)
  private_settings[&quot;flowercurio&quot;]   = createOption(false, mmp.setFlowercurio, { &quot;boolean&quot; }, &quot;Make use of your Flower curios in Lusternia?&quot;)
  private_settings[&quot;fluttercurio&quot;]  = createOption(false, mmp.setFluttercurio, { &quot;boolean&quot; }, &quot;Make use of your Flutter curios in Lusternia?&quot;)
  private_settings[&quot;gallop&quot;]        = createOption(false, mmp.changeBoolFunc, { &quot;boolean&quot; }, &quot;Use Gallop?&quot;)
  private_settings[&quot;head&quot;]          = createOption(false, mmp.setHead, { &quot;boolean&quot; }, &quot;Make use of your Doll's Head in Lusternia?&quot;)
  private_settings[&quot;icicle&quot;]        = createOption(false, mmp.setIcicle, { &quot;boolean&quot; }, &quot;Make use of your Icicle in Lusternia?&quot;)
  private_settings[&quot;lockpathways&quot;]  = createOption(true, mmp.lockPathways, { &quot;boolean&quot; }, &quot;Lock pathway exits?&quot;)
  private_settings[&quot;locksewers&quot;]    = createOption(false, mmp.lockSewers, { &quot;boolean&quot; }, &quot;Lock all sewers?&quot;)
  private_settings[&quot;lockspecials&quot;]  = createOption(false, mmp.lockSpecials, { &quot;boolean&quot; }, &quot;Lock all special exits?&quot;)
  private_settings[&quot;lockwormholes&quot;] = createOption(true, mmp.lockWormholes, { &quot;boolean&quot; }, &quot;Lock all wormholes?&quot;)
  private_settings[&quot;mandala&quot;]       = createOption(false, mmp.setMandala, { &quot;boolean&quot; }, &quot;Make use of your Mandala in Lusternia?&quot;)
  private_settings[&quot;medallion&quot;]     = createOption(false, mmp.setMedallion, { &quot;boolean&quot; }, &quot;Make use of your Medallion in Lusternia?&quot;)
  private_settings[&quot;mud&quot;]           = createOption(false, mmp.setMud, { &quot;boolean&quot; }, &quot;Make use of your Mud in Lusternia?&quot;)
  private_settings[&quot;pebble&quot;]        = createOption(false, mmp.lockPebble, { &quot;boolean&quot; }, &quot;Make use of your enchanted pebble in Achaea?&quot;)
  private_settings[&quot;prism&quot;]         = createOption(false, mmp.setPrism, {&quot;boolean&quot;}, &quot;Make use of your transplanar prism in Lusternia&quot;)
  private_settings[&quot;removewings&quot;]   = createOption(true, mmp.setWingsRemoval, { &quot;boolean&quot; }, &quot;Remove Wings after using them?&quot;)
  private_settings[&quot;runaway&quot;]       = createOption(false, mmp.changeBoolFunc, { &quot;boolean&quot; }, &quot;Use Jester Runaway?&quot;)
  private_settings[&quot;screwdriver&quot;]   = createOption(false, mmp.setScrewdriver, { &quot;boolean&quot; }, &quot;Make use of your Screwdriver in Lusternia?&quot;)
  private_settings[&quot;shackle&quot;]       = createOption(false, mmp.changeBoolFunc, { &quot;boolean&quot; }, &quot;Take off shackle?&quot;)
  private_settings[&quot;showcmds&quot;]      = createOption(true, mmp.changeBoolFunc, { &quot;boolean&quot; }, &quot;Show walking commands?&quot;)
  private_settings[&quot;slowwalk&quot;]      = createOption(false, mmp.setSlowWalk, { &quot;boolean&quot; }, &quot;Walk slowly instead of as quick as possible?&quot;)
  private_settings[&quot;snowglobe&quot;]     = createOption(false, mmp.setSnowglobe, { &quot;boolean&quot; }, &quot;Make use of your Snowglobe in Lusternia?&quot;)
  private_settings[&quot;sprint&quot;]        = createOption(false, mmp.changeBoolFunc, { &quot;boolean&quot; }, &quot;Use Sprint?&quot;)
  private_settings[&quot;tibia&quot;]         = createOption(false, mmp.setTibia, { &quot;boolean&quot; }, &quot;Make use of your Tibia in Lusternia?&quot;)
  private_settings[&quot;toolcurio&quot;]     = createOption(false, mmp.setToolcurio, { &quot;boolean&quot; }, &quot;Make use of your Tool curios in Lusternia?&quot;)
  private_settings[&quot;torus&quot;]         = createOption(false, mmp.setTorus, { &quot;boolean&quot; }, &quot;Make use of your Torus in Lusternia?&quot;)
  private_settings[&quot;toycurio&quot;]      = createOption(false, mmp.setToycurio, { &quot;boolean&quot; }, &quot;Make use of your Toy curios in Lusternia?&quot;)
  private_settings[&quot;updatemap&quot;]     = createOption(true, mmp.changeUpdateMap, { &quot;boolean&quot; }, &quot;Check for new maps from your MUD?&quot;)
  private_settings[&quot;utensilcurio&quot;]  = createOption(false, mmp.setUtensilcurio, { &quot;boolean&quot; }, &quot;Make use of your Utensil curios in Lusternia?&quot;)
  private_settings[&quot;vernalcurio&quot;]   = createOption(false, mmp.setVernalcurio, { &quot;boolean&quot; }, &quot;Make use of your Vernal curios in Lusternia?&quot;)
  private_settings[&quot;waterwalk&quot;]     = createOption(true, mmp.setWaterWalk, { &quot;boolean&quot; }, &quot;Have waterwalk (don't avoid water)?&quot;)
  private_settings[&quot;wheel&quot;]         = createOption(false, mmp.setWheel, { &quot;boolean&quot; }, &quot;Make use of your Wheel in Lusternia?&quot;)
  private_settings[&quot;winglanguage&quot;]  = createOption(&quot;&quot;, mmp.setWingsLanguage, { &quot;string&quot; }, &quot;Speak non-default language for wings:&quot;)

  mmp.settings = createOptionsTable(private_settings)
  mmp.settings.disp = mmp.echo

  mmp.game = false

  mmp.settings.dispOption = function(opt, val)
    cecho(&quot;&lt;green&gt;&quot; .. val.use .. &quot;&lt;white&gt; (&quot; ..opt..&quot;) &quot; .. string.rep(&quot; &quot;, 50 - val.use:len() - opt:len()) .. tostring(val.value) .. &quot;\n&quot;)
  end

  mmp.settings.dispDefaultWriteError = function()
    mmp.echo(&quot;Please use the mconfig alias to set options!&quot;)
  end

  local tmp = getRoomUserData(1, &quot;ferry rooms&quot;)
  if tmp ~= &quot;&quot; then
    for _, i in ipairs(yajl.to_value(tmp)) do
      mmp.ferry_rooms[i] = true
    end
  end

  raiseEvent(&quot;mmp areas changed&quot;)
  mmp.firstRun = false
  mmp.echon(&quot;Mudlet Mapper script for IREs (&quot;..tostring(mmp.version)..&quot;) loaded! (&quot;)
  echoLink(&quot;homepage&quot;,&quot;(openUrl or openURL)'http://wiki.mudlet.org/w/IRE_mapping_script'&quot;, &quot;Clicky clicky to read up on what's this about&quot;)
  echo(&quot;)\n&quot;)
end</script>
                <eventHandlerList/>
            </Script>
            <Script isActive="yes" isFolder="no">
                <name>speedwalking</name>
                <packageName></packageName>
                <script>function mmp.gotoRoom(where, dashtype)
  if not where or not tonumber(where) then
    mmp.echo(&quot;Where do you want to go to?&quot;) return end

  if tonumber(where) == mmp.currentroom then
    mmp.echo(&quot;We're already at &quot;..where..&quot;!&quot;)
   raiseEvent(&quot;mmapper arrived&quot;)
   return
  end

  local madeduanathar, madeduanatharan, mademedallion, madefingerblade, madeblossom, madebelt, madecubix, madeprism, madescrewdriver, madewheel, mademud, madesnowglobe, madecookie, madehead, madeicicle, madetibia, madebonecurio, madeflowercurio, madetorus, madeutensilcurio, madefluttercurio, madetoolcurio, madefacecurio, madetoycurio, madefeathercurio, madefigurecurio, mademandala, madevernalcurio

  local function getcmd(word)
		if mmp.game == &quot;achaea&quot; then
    		return mmp.settings.removewings and
      			[[script:sendAll(&quot;wear wings&quot;, &quot;say *]]..(mmp.settings.winglanguage)..[[ ]]..word..[[&quot;, &quot;remove wings&quot;, false)]]
      		or
      			[[script:send(&quot;say *]]..(mmp.settings.winglanguage)..[[ ]]..word..[[&quot;, false)]]
		elseif mmp.game == &quot;lusternia&quot; then
			if word == &quot;snowglobe&quot; then
				return [[script:send(&quot;shake snowglobe&quot;,false)]]
			elseif word == &quot;bonecurio&quot; then
				return [[script:send(&quot;curio collection activate bone&quot;,false)]]
			elseif word == &quot;flowercurio&quot; then
				return [[script:send(&quot;curio collection activate flower&quot;,false)]]
			elseif word == &quot;utensilcurio&quot; then
				return [[script:send(&quot;curio collection activate utensil&quot;,false)]]
			elseif word == &quot;fluttercurio&quot; then
				return [[script:send(&quot;curio collection activate flutter&quot;,false)]]
			elseif word == &quot;toolcurio&quot; then
				return [[script:send(&quot;curio collection activate tool&quot;,false)]]
			elseif word == &quot;facecurio&quot; then
				return [[script:send(&quot;curio collection activate face&quot;,false)]]
			elseif word == &quot;toycurio&quot; then
				return [[script:send(&quot;curio collection activate toy&quot;,false)]]
			elseif word == &quot;feathercurio&quot; then
				return [[script:send(&quot;curio collection activate feather&quot;,false)]]
			elseif word == &quot;figurecurio&quot; then
				return [[script:send(&quot;curio collection activate figure&quot;,false)]]
			elseif word == &quot;vernalcurio&quot; then
				return [[script:send(&quot;curio collection activate vernal&quot;,false)]]
			else
				return [[script:send(&quot;touch ]]..word..[[&quot;, false)]]
			end
		end
  end

  -- allow mapper 'addons' to link their own exits in
  raiseEvent(&quot;mmp link externals&quot;)

  if mmp.game == &quot;achaea&quot; and (mmp.settings.duanathar or mmp.settings.duanatharan) and gmcp.Room and not table.contains(gmcp.Room.Info.details, &quot;indoors&quot;) and mmp.oncontinent(getRoomArea(mmp.currentroom), &quot;Prime&quot;) then
    if mmp.settings.duanatharan then
      addSpecialExit(mmp.currentroom, 4882, getcmd(&quot;duanatharan&quot;))
      addSpecialExit(mmp.currentroom, 3885, getcmd(&quot;duanathar&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeduanatharan = true
    else
      addSpecialExit(mmp.currentroom, 3885, getcmd(&quot;duanathar&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeduanathar = true
    end
	elseif mmp.game == &quot;lusternia&quot; and (mmp.settings.medallion or mmp.settings.fingerblade or mmp.settings.blossom or mmp.settings.mandala or mmp.settings.belt or mmp.settings.cubix or mmp.settings.screwdriver or mmp.settings.wheel or mmp.settings.mud or mmp.settings.snowglobe or mmp.settings.cookie or mmp.settings.head or mmp.settings.icicle or mmp.settings.tibia or mmp.settings.bonecurio or mmp.settings.flowercurio or mmp.settings.torus or mmp.settings.vernalcurio) and gmcp.Room and (not table.contains(gmcp.Room.Info.details,&quot;indoors&quot;) or table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;)) then
	if mmp.settings.medallion and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 13367, getcmd(&quot;medallion&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      mademedallion = true
	end
	if mmp.settings.fingerblade and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 18777, getcmd(&quot;fingerblade&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefingerblade = true
	end
	if mmp.settings.blossom and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 18730, getcmd(&quot;blossom&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeblossom = true
	end
	if mmp.settings.mandala and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 19563, getcmd(&quot;mandala&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      mademandala = true
	end
	if mmp.settings.belt and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 19627, getcmd(&quot;belt&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madebelt = true
	end
	if mmp.settings.cubix and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 6184, getcmd(&quot;cubix&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madecubix = true
	end
	if mmp.settings.screwdriver and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Facility&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;screwdriver&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 10185, getcmd(&quot;screwdriver&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madescrewdriver = true
	end
	if mmp.settings.wheel and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Dramube Triangle&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;wheel&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 10509, getcmd(&quot;wheel&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madewheel = true
	end
	if mmp.settings.mud and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;Mucklemarsh&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;mud&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 9985, getcmd(&quot;mud&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      mademud = true
	end
	if mmp.settings.snowglobe and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Great Spirit Tree&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;snowglobe&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 10992, getcmd(&quot;snowglobe&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madesnowglobe = true
	end
	if mmp.settings.cookie and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;Crumkindivia&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;cookie&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 9888, getcmd(&quot;cookie&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madecookie = true
	end
	if mmp.settings.head and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Bubble of Bottledowns&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;doll&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 11811, getcmd(&quot;doll&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madedoll = true
	end
	if mmp.settings.icicle and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;Frosticia&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;icicle&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 10457, getcmd(&quot;icicle&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeicicle = true
	end
	if mmp.settings.tibia and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Cankermore Battlegrounds&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;tibia&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 11600, getcmd(&quot;tibia&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madetibia = true
	end
	if mmp.settings.bonecurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28613, getcmd(&quot;bonecurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madebonecurio = true
	end
	if mmp.settings.flowercurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28624, getcmd(&quot;flowercurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeflowercurio = true
	end
	if mmp.settings.torus and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28548, getcmd(&quot;torus&quot;))		-- room number will vary for each torus
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madetorus = true
	end
	if mmp.settings.utensilcurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28617, getcmd(&quot;utensilcurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeutensilcurio = true
	end
	if mmp.settings.fluttercurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28622, getcmd(&quot;fluttercurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefluttercurio = true
	end
	if mmp.settings.toolcurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28586, getcmd(&quot;toolcurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madetoolcurio = true
	end
	if mmp.settings.facecurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28433, getcmd(&quot;facecurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefacecurio = true
	end
	if mmp.settings.toycurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 21548, getcmd(&quot;toycurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madetoycurio = true
	end
	if mmp.settings.feathercurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28591, getcmd(&quot;feathercurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefeathercurio = true
	end
	if mmp.settings.figurecurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28312, getcmd(&quot;figurecurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefigurecurio = true
	end
   if mmp.settings.prism and mmp.useprism() then
		addSpecialExit(mmp.currentroom, 6182, getcmd(&quot;prism&quot;))
		mmp.clearpathcache()
		madeprism = true
	end
	if mmp.settings.vernalcurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 29908, getcmd(&quot;vernalcurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madevernalcurio = true
	end
  end

  -- if getPath worked, then the dirs and room #'s tables were populated for us
  if not mmp.getPath(mmp.currentroom, tonumber(where)) then
    mmp.echo(&quot;Don't know how to get there (&quot;..tostring(where)..&quot;) from here :(&quot;)
    mmp.speedWalkPath = {}
    mmp.speedWalkDir = {}
    speedWalkCounter = 0
    raiseEvent(&quot;mmapper failed path&quot;)
    if mmp.settings.shackle then expandAlias(&quot;wear shackle&quot;) end
    if madeduanatharan then mmp.clearspecials{4882, 3885} elseif madeduanathar then mmp.clearspecials{3885} end
  	 if mademedallion then mmp.clearspecials{13367} end
  	 if madefingerblade then mmp.clearspecials{18777} end
     if madeblossom then mmp.clearspecials{18730} end
  	 if mademandala then mmp.clearspecials{19563} end
  	 if madebelt then mmp.clearspecials{19627} end
 	 if madecubix then mmp.clearspecials{6184} end
  	 if madescrewdriver then mmp.clearspecials{6831, 10185} end
 	 if madewheel then mmp.clearspecials{6831, 10509} end
 	 if mademud then mmp.clearspecials{6831, 9985} end
 	 if madesnowglobe then mmp.clearspecials{6831, 10992} end
     if madecookie then mmp.clearspecials{6831, 9888} end
 	 if madehead then mmp.clearspecials{6831, 11811} end
 	 if madeicicle then mmp.clearspecials{6831, 10457} end
 	 if madetibia then mmp.clearspecials{6831, 11600} end
 	 if madebonecurio then mmp.clearspecials{28613} end
 	 if madeflowercurio then mmp.clearspecials{28624} end
 	 if madetorus then mmp.clearspecials{28548} end
 	 if madeutensilcurio then mmp.clearspecials{28617} end
 	 if madefluttercurio then mmp.clearspecials{28622} end
 	 if madetoolcurio then mmp.clearspecials{28586} end
 	 if madefacecurio then mmp.clearspecials{28433} end
 	 if madetoycurio then mmp.clearspecials{21548} end
 	 if madefeathercurio then mmp.clearspecials{28591} end
 	 if madefigurecurio then mmp.clearspecials{28312} end
     if madeprism then mmp.clearspecials{6182} end
 	 if madevernalcurio then mmp.clearspecials{22908} end

    -- allow mapper 'addons' to unlink their special exits
    raiseEvent(&quot;mmp clear externals&quot;)
    return
  end

  doSpeedWalk(dashtype)
  if madeduanatharan then mmp.clearspecials{4882, 3885} elseif madeduanathar then mmp.clearspecials{3885} end
  if mademedallion then mmp.clearspecials{13367} end
  if madefingerblade then mmp.clearspecials{18777} end
  if madeblossom then mmp.clearspecials{18730} end
  if mademandala then mmp.clearspecials{19563} end
  if madebelt then mmp.clearspecials{19627} end
  if madecubix then mmp.clearspecials{6184} end
  if madescrewdriver then mmp.clearspecials{6831, 10185} end
  if madewheel then mmp.clearspecials{6831, 10509} end
  if mademud then mmp.clearspecials{6831, 9985} end
  if madesnowglobe then mmp.clearspecials{6831, 10992} end
  if madecookie then mmp.clearspecials{6831, 9888} end
  if madehead then mmp.clearspecials{6831, 11811} end
  if madeicicle then mmp.clearspecials{6831, 10457} end
  if madetibia then mmp.clearspecials{6831, 11600} end
  if madebonecurio then mmp.clearspecials{28613} end
  if madeflowercurio then mmp.clearspecials{28624} end
  if madetorus then mmp.clearspecials{28548} end
  if madeutensilcurio then mmp.clearspecials{28617} end
  if madefluttercurio then mmp.clearspecials{28622} end
  if madetoolcurio then mmp.clearspecials{28586} end
  if madefacecurio then mmp.clearspecials{28433} end
  if madetoycurio then mmp.clearspecials{21548} end
  if madefeathercurio then mmp.clearspecials{28591} end
  if madefigurecurio then mmp.clearspecials{28312} end
  if madeprism then mmp.clearspecials{6182} end
  if madevernalcurio then mmp.clearspecials{22908} end

  -- allow mapper 'addons' to unlink their special exits
  raiseEvent(&quot;mmp clear externals&quot;)
end

function mmp.gotoArea (where, number, dashtype, exact)
  if not where or type(where) ~= &quot;string&quot; then
    mmp.echo(&quot;Where do you want to go to?&quot;) return end

  local where = where:lower()

  number = tonumber(number)
  local tmp = getRoomUserData(1, &quot;gotoMapping&quot;)
  if not tmp or tmp == '' then tmp = &quot;[]&quot; end

  local temp, maptable = yajl.to_value(tmp), {}
  for k,v in pairs(temp) do maptable[k:lower()] = v end

  local goto = maptable[where]
  if goto then
  	mmp.gotoRoom(goto, dashtype)
  	return
  end

  local possibleRooms, shortestPath, shortestBorder = {}, {}, 0

  mmp.computeShortestWatch = mmp.computeShortestWatch or createStopWatch()
  startStopWatch(mmp.computeShortestWatch)

  local areaid, msg, multiples = mmp.findAreaID(where, exact)
  if areaid then
     possibleRooms = mmp.getAreaBorders(areaid)

  elseif not areaid and #multiples &gt; 0 then
    if number and number&lt;=#multiples then
        mmp.gotoArea(multiples[number], nil, dashtype, true)
        return
    end
    mmp.echo(&quot;Which area would you like to go to?&quot;)
    fg(&quot;DimGrey&quot;)
    for key, areaname in ipairs(multiples) do
      echo&quot;  &quot;; echoLink(key .. &quot;) &quot;, 'mmp.gotoArea(&quot;'..areaname..'&quot;, nil, '..(dashtype and '&quot;'..dashtype..'&quot;' or &quot;nil&quot;)..', true)', &quot;Click to go to &quot;..areaname, true)
        setUnderline(true) echoLink(areaname, 'mmp.gotoArea(&quot;'..areaname..'&quot;, nil, '..(dashtype and '&quot;'..dashtype..'&quot;' or &quot;nil&quot;)..', true)', &quot;Click to go to &quot;..areaname, true) setUnderline(false) echo&quot;\n&quot;
    end
    resetFormat()
    return
  else
    mmp.echo(string.format(&quot;Don't know of any area named '%s'.&quot;, where))
    return
  end

  local getStopWatchTime, tonumber, getPath = getStopWatchTime, tonumber, mmp.getPath

--mmp.echo(string.format(&quot;Have %s area edge nodes, %ss taken so far...&quot;, table.size(possibleRooms), getStopWatchTime(mmp.computeShortestWatch)))

  -- allocate only 500ms to finding the shortest path, or more if we failed to find anything
  local checkedsofar, outoftime = 0
  for id, _ in pairs(possibleRooms) do
    if mmp.getPath(mmp.currentroom, tonumber(id)) then
      if shortestBorder==0 or #shortestPath &gt; #speedWalkPath then
        shortestPath = speedWalkPath
        shortestBorder = tonumber(id)
      end
    end
    checkedsofar = checkedsofar + 1

    if (getStopWatchTime(mmp.computeShortestWatch) &gt;= .5) then outoftime = true break end
   -- mmp.echo(string.format(&quot;pathed from %s to %s, running time so far: %s&quot;, mmp.currentroom, id, getStopWatchTime(mmp.computeShortestWatch)))
  end

  --mmp.echo(string.format(&quot;total time took: %s&quot;, getStopWatchTime(mmp.computeShortestWatch)))
  stopStopWatch(mmp.computeShortestWatch)

  if shortestBorder == 0 then
    if outoftime then
      mmp.echo(string.format(
        &quot;I checked %d of the %d possible exits \&quot;%s\&quot; has, but none of the ways there worked and it was taking too long :( try doing this again?&quot;,
        checkedsofar, table.size(possibleRooms), where
      ))
    else
      mmp.echo(&quot;Checked &quot;..table.size(possibleRooms)..&quot; exits in that area, and none of them worked :( I Don't know how to get you there.&quot;)
    end
    mmp.speedWalkPath = {}
    mmp.speedWalkDir = {}
    speedWalkCounter = 0
    raiseEvent(&quot;mmapper failed path&quot;)
    return
  end

  mmp.gotoRoom(shortestBorder, dashtype)
end

--- DOES NOT ACCOUNT FOR CHANGING THE MAP YET (within a profile load), because we don't know when it happens
local getpathcache = {}
--setmetatable(getpathcache, {__mode = &quot;kv&quot;}) -- weak keys/values = it'll periodically get cleaned up by gc

function mmp.getPath(from, to)
  assert(tonumber(from) and tonumber(to), &quot;mmp.getPath: both from and to have to be room IDs&quot;)

  local key = string.format(&quot;%s_%s&quot;, from, to)
  local resulttbl = getpathcache[key]

  -- not in cache?
  if not resulttbl then
    mmp.computeGetPath = mmp.computeGetPath or createStopWatch()
    startStopWatch(mmp.computeGetPath)
    local boolean = getPath(from, to)
    if mmp.debug then mmp.echo(&quot;a new getPath() from &quot;..from..&quot; to &quot;..to..&quot; took &quot;..stopStopWatch(mmp.computeGetPath)..&quot;s.&quot;) end
    -- save it into the cache &amp; send away
    getpathcache[key] = {boolean, speedWalkDir, speedWalkPath}
    return boolean
  end

  -- or if it is, retrieve &amp; send away
  speedWalkDir = resulttbl[2]
  speedWalkPath = resulttbl[3]
  return resulttbl[1]
end

function mmp.clearpathcache()
  if mmp.debug then mmp.echo(&quot;path cache cleared&quot;) end
  getpathcache = {}
end
function mmp.showpathcache() return getpathcache end

function mmp.setmovetimer(time)
  if mmp.movetimer then killTimer(mmp.movetimer) end
  if mmp.settings.slowwalk then return end

  mmp.movetimer = tempTimer(getNetworkLatency()+(time or 0.5), function ()
    mmp.movetimer = false
    mmp.move()
  end)
end

-- moves to the next room we need to.
function mmp.move()
  if mmp.paused or not mmp.autowalking or mmp.movetimer or not mmp.canmove() then return end
  -- sometimes it's 0 - default to 1
  if speedWalkCounter == 0 then speedWalkCounter = 1 end

  local cmd
  if mmp.settings[&quot;caravan&quot;] then cmd = &quot;lead caravan &quot;..mmp.speedWalkDir[speedWalkCounter]
  else
    cmd = mmp.speedWalkDir[speedWalkCounter]
  end

  cmd = cmd or ''

  -- timeout before loadstring, so it can set its own if it would like to.
  mmp.setmovetimer()

  if string.starts(cmd, &quot;script:&quot;) then
    cmd = string.gsub( cmd, &quot;script:&quot;, &quot;&quot; ) loadstring(cmd)()
    if mmp.settings.showcmds then cecho(string.format(&quot;&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;%s&lt;red&gt;)&quot;, #mmp.speedWalkDir - speedWalkCounter + 1, &quot;&lt;script&gt;&quot;)) end
  else
    send(cmd, false)
    if mmp.settings.showcmds then cecho(string.format(&quot;&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;%s&lt;red&gt;)&quot;, #mmp.speedWalkDir - speedWalkCounter + 1, cmd)) end
  end
end

function mmp.swim()
  -- not going anywhere? don't do anything
  if not mmp.speedWalkDir[speedWalkCounter] then return end

  send(&quot;swim &quot; .. mmp.speedWalkDir[speedWalkCounter], false)
  if mmp.settings.showcmds then cecho(string.format(&quot;&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;swim %s&lt;red&gt;)&quot;, #mmp.speedWalkDir - speedWalkCounter + 1, mmp.speedWalkDir[speedWalkCounter])) end

  mmp.setmovetimer(2.5)
end

function mmp.enterGrate()
  -- not going anywhere? don't do anything
  if not mmp.speedWalkDir[speedWalkCounter] then return end

  send(&quot;enter grate &quot; .. mmp.speedWalkDir[speedWalkCounter], false)
  if mmp.settings.showcmds then cecho(string.format(&quot;&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;enter grate %s&lt;red&gt;)&quot;, #mmp.speedWalkDir - speedWalkCounter + 1, mmp.speedWalkDir[speedWalkCounter])) end

  mmp.setmovetimer(2.5)
end

function mmp.openDoor()
  -- not going anywhere? don't do anything
  if not mmp.speedWalkDir[speedWalkCounter] then return end

  send(&quot;open door &quot; .. mmp.speedWalkDir[speedWalkCounter], false)
  if mmp.settings.showcmds then cecho(string.format(&quot;&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;open door %s&lt;red&gt;)&quot;, #mmp.speedWalkDir - speedWalkCounter + 1, mmp.speedWalkDir[speedWalkCounter])) end

  mmp.setmovetimer(getNetworkLatency())
end

function mmp.unlockDoor()
  -- not going anywhere? don't do anything
  if not mmp.speedWalkDir[speedWalkCounter] then return end

  send(&quot;unlock door &quot; .. mmp.speedWalkDir[speedWalkCounter], false)
  if mmp.settings.showcmds then cecho(string.format(&quot;&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;unlock door %s&lt;red&gt;)&quot;, #mmp.speedWalkDir - speedWalkCounter, mmp.speedWalkDir[speedWalkCounter])) end

  mmp.setmovetimer(getNetworkLatency())
end

function mmp.customwalkdelay(delay)
  mmp.setmovetimer(getNetworkLatency()+delay)
end

function mmp.stop()
  mmp.speedWalkPath = {}
  mmp.speedWalkDir = {}
  speedWalkCounter = 0
  stopStopWatch(speedWalkWatch)
  --if mmp.movetimer then killTimer( mmp.movetimer ) end
  mmp.autowalking = false

  -- clear all the temps we've got
  for trigger, ID in pairs(mmp.specials) do
    killTrigger(ID)
  end
  mmp.specials = {}

  mmp.echo(&quot;Stopped walking.&quot;)
  raiseEvent(&quot;mmapper stopped&quot;)
  if mmp.settings.shackle then expandAlias(&quot;wear shackle&quot;) end
end

-- Aetolia and Lusternia support showing balances in GMCP. This is easy to support, so we do!
-- if we can't move, setup a polling timer to prompt walking when we can again.
-- popular systems that expose balance &amp; equilibrium values can be added here as well, perhaps though a similarly-named function.
function mmp.canmove(fromtimer)
  if mapper_can_move and mapper_can_move() then
	if fromtimer then
      mmp.move()
    else return true end
  elseif mapper_can_move then
    tempTimer(0.2, [[mmp.canmove(true)]])
    return false
  end

  if not gmcp.Char then return true end

  if (gmcp.Char and
    -- Achaea
    (not gmcp.Char.Vitals.bal or gmcp.Char.Vitals.bal == &quot;1&quot;) and
    (not gmcp.Char.Vitals.eq or gmcp.Char.Vitals.eq == &quot;1&quot;) and
    -- Lusternia
    (not gmcp.Char.Vitals.balance or gmcp.Char.Vitals.balance == &quot;1&quot;) and
    (not gmcp.Char.Vitals.equilibrium or gmcp.Char.Vitals.equilibrium == &quot;1&quot;) and
    (not gmcp.Char.Vitals.right_arm or gmcp.Char.Vitals.right_arm == &quot;1&quot;) and
    (not gmcp.Char.Vitals.left_arm or gmcp.Char.Vitals.left_arm == &quot;1&quot;) and
    (not gmcp.Char.Vitals.right_leg or gmcp.Char.Vitals.right_leg == &quot;1&quot;) and
    (not gmcp.Char.Vitals.left_leg or gmcp.Char.Vitals.left_leg == &quot;1&quot;) and
    (not gmcp.Char.Vitals.psisuper or gmcp.Char.Vitals.psisuper ~= &quot;0&quot;) and
    (not gmcp.Char.Vitals.psisub or gmcp.Char.Vitals.psisub ~= &quot;0&quot;) and
    (not gmcp.Char.Vitals.psiid or gmcp.Char.Vitals.psiid ~= &quot;0&quot;) and
    (not gmcp.Char.Balance or gmcp.Char.Balance.List.balance == &quot;1&quot;) and
    (not gmcp.Char.Balance or gmcp.Char.Balance.List.equilibrium == &quot;1&quot;) and
    (not gmcp.Char.Balance or gmcp.Char.Balance.List.rarm == &quot;1&quot;) and
    (not gmcp.Char.Balance or gmcp.Char.Balance.List.larm == &quot;1&quot;) and
    (not gmcp.Char.Balance or gmcp.Char.Balance.List.legs == &quot;1&quot;) and
    (not gmcp.Char.Vitals.prone or (gmcp.Char.Vitals.prone == &quot;0&quot; or gmcp.Char.Vitals.prone == 0))
  ) then
	if fromtimer then
      mmp.move()
    else return true end
  else
    tempTimer(0.2, [[mmp.canmove(true)]])
    return false
  end
end

local oldnum
function speedwalking( event, num )
  local num = tonumber(num) or tonumber(gmcp.Room.Info.num)
  if num ~= mmp.currentroom then mmp.previousroom = mmp.currentroom end
  mmp.currentroom = num
  mmp.currentroomname = getRoomName(num)

  -- track if we're inside or outside, if possible
  if gmcp.Room then
    if mmp.inside and not table.contains(gmcp.Room.Info.details, &quot;indoors&quot;) then
      mmp.inside = false
      raiseEvent(&quot;mmapper went outside&quot;)
    elseif not mmp.inside and table.contains(gmcp.Room.Info.details, &quot;indoors&quot;) then
      mmp.inside = true
      raiseEvent(&quot;mmapper went inside&quot;)
    end
    -- the event could cancel speedwalking - in this case quit
    if mmp.ignore_speedwalking then
      mmp.ignore_speedwalking = nil
      return
    end
  end
  if oldnum == num then return else oldnum = num end

  if not mmp.autowalking then return end

  if mmp.movetimer then killTimer(mmp.movetimer); mmp.movetimer = false end

  if num == mmp.speedWalkPath[#mmp.speedWalkPath] then
    local walktime = stopStopWatch(speedWalkWatch)
    mmp.echo(string.format(&quot;We've arrived! Took us %.1fs.\n&quot;, walktime))
    raiseEvent(&quot;mmapper arrived&quot;)
    if mmp.settings.shackle then expandAlias(&quot;wear shackle&quot;) end
    mmp.speedWalkPath = {}
    mmp.speedWalkDir = {}
    speedWalkCounter = 0
    mmp.autowalking = false
  elseif mmp.speedWalkPath[speedWalkCounter] == num then
    speedWalkCounter = speedWalkCounter + 1
    mmp.move()
  elseif #mmp.speedWalkPath&gt; 0 and not mmp.ferry_rooms[num] and not (gmcp.Room.Info.details and table.contains(gmcp.Room.Info.details, &quot;ferry&quot;)) then -- ended up somewhere we didn't want to be, and this isn't a ferry room?
    speedWalkMoved = false
    -- re-calculate path then
    mmp.echo(&quot;Ended up off the path, recalculating a new path...&quot;)
    local destination = mmp.speedWalkPath[#mmp.speedWalkPath]
    if not mmp.getPath(num, destination) then
      mmp.echo(string.format(&quot;Don't know how to get to %d (%s) anymore :( Move into a room we know of to continue&quot;,
        destination, getRoomName(destination)))
    else
      mmp.gotoRoom (destination)
    end
  end
end

function doSpeedWalk(dashtype)
  mmp.speedWalkDir = mmp.deepcopy(speedWalkDir)
  mmp.speedWalkPath = mmp.deepcopy(speedWalkPath)
  speedWalkDir, speedWalkPath = {}, {}

  resetStopWatch(speedWalkWatch)
  startStopWatch(speedWalkWatch)
  if mmp.settings[&quot;gallop&quot;] or mmp.settings[&quot;dash&quot;] or mmp.settings.sprint or dashtype then
    mmp.fixPath(mmp.currentroom, mmp.speedWalkPath[#mmp.speedWalkPath],
      (mmp.settings[&quot;gallop&quot;] and &quot;gallop&quot;) or (mmp.settings[&quot;dash&quot;] and &quot;dash&quot;) or (mmp.settings.sprint and &quot;sprint&quot;) or (mmp.settings.runaway and &quot;runaway&quot;) or dashtype)
  end

  mmp.fixSpecialExits(mmp.speedWalkDir)

  if #mmp.speedWalkPath == 0 then
    mmp.autowalking = false
    mmp.echo(&quot;Couldn't find a path to the destination :(&quot;)
    raiseEvent(&quot;mmapper failed path&quot;)
    if mmp.settings.shackle then expandAlias(&quot;wear shackle&quot;) end
    return
  end

  mmp.autowalking = true

  -- this is a fix: convert nums to actual numbers
  for i = 1, #mmp.speedWalkPath do
    mmp.speedWalkPath[i] = tonumber(mmp.speedWalkPath[i])
  end

  if mmp.settings.shackle then expandAlias(&quot;remove shackle&quot;) end
  if not mmp.paused then
    mmp.echon(&quot;Starting speedwalk from &quot;..(atcp.RoomNum or gmcp.Room.Info.num)..&quot; to &quot;) echoLink(mmp.speedWalkPath[#mmp.speedWalkPath], 'mmp.gotoRoom &quot;' .. mmp.speedWalkPath[#mmp.speedWalkPath].. '&quot;', 'Go to ' .. mmp.speedWalkPath[#mmp.speedWalkPath]) echo(&quot;: &quot;)
    speedWalkCounter = 1
    if mmp.canmove() then mmp.move() else echo(&quot;(when we get balance back / aren't hindered)&quot;) end
  else
    mmp.echo(&quot;Will go to &quot;..mmp.speedWalkPath[#mmp.speedWalkPath]..&quot; as soon as the mapper is unpaused.&quot;)
  end
end

function mmp.failpath()
  if mmp.movetimer then
    local walktime = stopStopWatch(speedWalkWatch)
    mmp.echo(string.format(&quot;Can't continue further! Took us %.1fs to get here.\n&quot;, walktime))
  end

  mmp.autowalking = false
  
  if mmp.settings.shackle then expandAlias(&quot;wear shackle&quot;) end
  mmp.speedWalkPath = {}
  mmp.speedWalkDir = {}
  speedWalkCounter = 0
  if mmp.movetimer then killTimer( mmp.movetimer ); mmp.movetimer = nil end
  raiseEvent(&quot;mmapper failed path&quot;)
end

function mmp.changeBoolFunc(name, option)
  local en
  if option then en = &quot;will now use&quot; else en = &quot;will no longer use&quot; end
  mmp.echo(&quot;&lt;green&gt;Okay, the mapper &quot; .. en .. &quot; &lt;white&gt;&quot; .. name .. &quot;&lt;green&gt;!&quot;)
end

function mmp.fixPath(rFrom,rTo,dashtype)
  local currentPath, currentIds = {}, {}
  local dRef = {[&quot;n&quot;] = &quot;north&quot;, [&quot;e&quot;] = &quot;east&quot;, [&quot;s&quot;] = &quot;south&quot;, [&quot;w&quot;] = &quot;west&quot;}
  if not getPath(rFrom,rTo) then return false end

  -- Logic: Look for a direction repeated at least two times.
  -- count the number of times it repeats, then look that many rooms ahead.
  -- if that room also contains the direction we're headed, just travel that many directions.
  -- otherwise, dash.

  local repCount = 1
  local index = 1
  local dashExaust = false
  while mmp.speedWalkDir[index] do
    dashExaust = false
    repCount = 1
    while mmp.speedWalkDir[index+repCount] == mmp.speedWalkDir[index] do
      repCount = repCount + 1
      if repCount == 11 then
        dashExaust = true
        break
      end
    end
    if repCount &gt; 1 then
      -- Found direction repitition. Calculate dash path.
      local exits = getRoomExits(mmp.speedWalkPath[index+(repCount-1)])
      local pname = &quot;&quot;
      for word in mmp.speedWalkDir[index]:gmatch(&quot;%w&quot;) do pname = pname .. (dRef[word] or word) end
      if not exits[pname] or dashExaust then
        -- Final room in this direction does not continue, dash!
        table.insert(currentPath,string.format(&quot;%s %s&quot;,dashtype,mmp.speedWalkDir[index]))
        currentIds[#currentIds+1] = mmp.speedWalkPath[index+repCount-1]
      else
        -- Final room in this direction continues onwards, don't dash
        for i = 1,repCount do
          table.insert(currentPath,mmp.speedWalkDir[index])
          currentIds[#currentIds+1] = mmp.speedWalkPath[index+i-1]
        end
      end
      index = index + repCount
    else
      -- No repetition, just add the direction.
      table.insert(currentPath,mmp.speedWalkDir[index])
      currentIds[#currentIds+1] = mmp.speedWalkPath[index]
      index = index + 1
    end
  end

  mmp.speedWalkDir = currentPath
  mmp.speedWalkPath = currentIds
  return true
end

-- a certain version of the mapper gave us special exits prepended with 0 or 1 in the command
-- depending on if it was locked. Need to remove these before we can use them
function mmp.fixSpecialExits(directions)
  for i = 1, #directions do
    if directions[i]:match(&quot;^%d&quot;) then directions[i] = directions[i]:sub(2) end
  end
end

-- cleanup function to remove the temp special exit we made - only way to remove specials in Mudlet atm is by clearing them all
function mmp.clearspecials(ignorerooms)
  local t = getSpecialExits(mmp.currentroom)
  clearSpecialExits(mmp.currentroom)

  for connectingroom, exits in pairs(t) do
    if not table.contains(ignorerooms,connectingroom) then -- don't re-add this one back as it's our temp
      for command, locked in pairs(exits) do
        --debug echo: mmp.echo(&quot;need to re-link this room to &quot;..connectingroom..&quot; with &quot;..command..&quot; that is &quot;..(locked == &quot;1&quot; and &quot;locked&quot; or &quot;unlocked&quot;)..&quot;.&quot;)
        addSpecialExit(mmp.currentroom, connectingroom, command)
        if locked == &quot;1&quot; then lockSpecialExit(mmp.currentroom, connectingroom, command, true) end
      end
    end
  end
end</script>
                <eventHandlerList>
                    <string>RoomNum</string>
                    <string>gmcp.Room.Info</string>
                </eventHandlerList>
            </Script>
            <Script isActive="yes" isFolder="no">
                <name>Utilities</name>
                <packageName></packageName>
                <script>-- functions internal to the mapper

function mmp.highlight_unfinished_rooms()
	if not mmp.areatable then return end
	for a,b in pairs (mmp.areatable) do
		local roomList = getAreaRooms(b) or {}
		for c,d in pairs (roomList) do
			if (getRoomName(d) == &quot;&quot;) then
				local fgr,fgg,fgb = unpack(color_table.red)
				local bgr,bgg,bgb = unpack(color_table.blue)
				highlightRoom(d, fgr,fgg,fgb,bgr,bgg,bgb, 1, 100, 100)
			end
		end
	end
end

function mmp.usebix()
	if mmp.game ~= &quot;lusternia&quot; then return end

	if (table.contains(gmcp.Room.Info.details, &quot;the Prime Material Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Ethereal Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Water Elemental Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Air Elemental Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Fire Elemental Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Earth Elemental Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;Celestia, Plane of Light&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Tainted Plane of Nil&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Cosmic Plane of Continuum&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Cosmic Plane of Vortex&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Astral Plane&quot;)) and
        gmcp.Room.Info.area ~= &quot;the City of Climanti&quot; and
		table.contains(gmcp.Room.Info.details, &quot;outdoors&quot;) then
		return true
	end
	return false
end

function mmp.useprism()
	if mmp.game ~= &quot;lusternia&quot; then return end
	if (table.contains(gmcp.Room.Info.details, &quot;the Prime Material Plane&quot;) or
	table.contains(gmcp.Room.Info.details, &quot;the Ethereal Plane&quot;) or
	table.contains(gmcp.Room.Info.details, &quot;the Water Elemental Plane&quot;) or
	table.contains(gmcp.Room.Info.details, &quot;the Air Elemental Plane&quot;) or
	table.contains(gmcp.Room.Info.details, &quot;the Fire Elemental Plane&quot;) or
	table.contains(gmcp.Room.Info.details, &quot;the Earth Elemental Plane&quot;)) and
    gmcp.Room.Info.area ~= &quot;the City of Climanti&quot; and
	table.contains(gmcp.Room.Info.details, &quot;outdoors&quot;) then
		return true
	end
	return false
end
function mmp.usebubblix()
	if mmp.game ~= &quot;lusternia&quot; then return end

	if ((table.contains(gmcp.Room.Info.details, &quot;the Prime Material Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Ethereal Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Water Elemental Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Air Elemental Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Fire Elemental Plane&quot;) or
		table.contains(gmcp.Room.Info.details, &quot;the Earth Elemental Plane&quot;)) and
        gmcp.Room.Info.area ~= &quot;the City of Climanti&quot; and
		table.contains(gmcp.Room.Info.details, &quot;outdoors&quot;)) or
		table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
		return true
	end
	return false
end</script>
                <eventHandlerList/>
                <Script isActive="yes" isFolder="no">
                    <name>Locating &amp; echoing functions</name>
                    <packageName></packageName>
                    <script>-- for a given room name, we'll echo all the vnums
function mmp.echonums(roomname, wholist, who_list_hidden)
  if roomname == &quot;hidden from who&quot; then 
    echo(&quot;?&quot;)
    return nil
  end
  local t = mmp.searchRoomExact(roomname)

  if not next(t) then
    echo &quot;?&quot; return nil end

  -- transform the kv table into a table of tables for cleaner code.
    -- + perhaps Mudlet in future will give this us anyway, sorted by relevancy
  local dt = {}
  for roomid,room in pairs(t) do
    dt[#dt+1] = {name = room, id = roomid}
  end

  -- we can have nothing if we asked for exact match
  if not dt[1] then echo(&quot;?-&quot;) return end

  -- display first three ids. Can't really nicely table.concat them.
  echoLink(dt[1].id, 'mmp.gotoRoom('..dt[1].id..')', string.format(&quot;Go to %s (%s)&quot;, dt[1].id, dt[1].name))
  if not dt[2] or wholist then return end

  echo&quot;, &quot;
  echoLink(dt[2].id, 'mmp.gotoRoom('..dt[2].id..')', string.format(&quot;Go to %s (%s)&quot;, dt[2].id, dt[2].name))
  if not dt[3] then return end

  echo&quot;, &quot;
  echoLink(dt[3].id, 'mmp.gotoRoom('..dt[3].id..')', string.format(&quot;Go to %s (%s)&quot;, dt[3].id, dt[3].name))
  if not dt[4] then return end

  echo&quot;, ...&quot;
end

function mmp.ret_len_nums(roomname)
  local t = mmp.searchRoomExact(roomname)
  local ret = &quot;&quot;

  if not next(t) then return 1 end

  -- transform the kv table into a table of tables for cleaner code.
    -- + perhaps Mudlet in future will give this us anyway, sorted by relevancy
  local dt = {}
  for roomid,room in pairs(t) do
    dt[#dt+1] = {name = room, id = roomid}
  end

  -- we can have nothing if we asked for exact match
  if not dt[1] then return 1 end

  -- display first three ids. Can't really nicely table.concat them.
  ret = tostring(dt[1].id)
  return ret:len()
end

function mmp.roomEcho(query)
  local result = mmp.searchRoom(query)

  if not tonumber(select(2, next(result))) then
    for roomid, roomname in pairs(result) do roomid = tonumber(roomid)
      cecho(&quot;&lt;DarkSlateGrey&gt; (&lt;blue&gt;&quot;)
      echoLink(roomid, 'mmp.gotoRoom('..roomid..')', string.format(&quot;Go to %s (%s)&quot;, roomid, tostring(roomname)))
      cecho(&quot;&lt;DarkSlateGrey&gt;)&quot;)
    end

  else
    for roomname, roomid in pairs(result) do roomid = tonumber(roomid)
      cecho(&quot;&lt;DarkSlateGrey&gt; (&lt;blue&gt;&quot;)
      echoLink(roomid, 'mmp.gotoRoom('..roomid..')', string.format(&quot;Go to %s (%s)&quot;, roomid, tostring(roomname)))
      cecho(&quot;&lt;DarkSlateGrey&gt;)&quot;)
    end
  end
end

function mmp.locateAndEcho(room, person)
    local t = mmp.searchRoomExact(room)

    echo &quot;  (&quot;
    mmp.echonums(room, true)
    echo &quot;)&quot;

	-- lowercase results
	for k,v in pairs(t) do if tonumber(k) then t[k] = v:lower() else t[k:lower()] = v end end

    if not (t[room:lower()] or table.contains(t, room:lower())) then return end

    echo&quot;\n&quot;
    if table.size(t) == 1 then
      local k,v = next(t)
      cecho(&quot;&lt;red&gt;From your knowledge, that room is in &lt;orange_red&gt;&quot;..mmp.cleanAreaName(mmp.areatabler[getRoomArea(type(k) == &quot;number&quot; and k or v)] or &quot;?&quot;)..&quot;&lt;red&gt;.&quot;)
    else
      local k,v = next(t)
    local areas = {}
      if type(k) == &quot;number&quot; then
        for k, _ in pairs(t) do
          areas[mmp.areatabler[getRoomArea(k)] or &quot;?&quot;] = true
        end
      else
        for _, k in pairs(t) do
          areas[mmp.areatabler[getRoomArea(k)] or &quot;?&quot;] = true
        end
      end

      local flattened_areas = {}
      for k, _ in pairs(areas) do
        if k ~= &quot;&quot; then flattened_areas[#flattened_areas+1] = mmp.cleanAreaName(k) end
      end

      cecho(&quot;&lt;red&gt;From your knowledge, that room might be in &lt;orange_red&gt;&quot;..table.concat(flattened_areas, &quot;, or &quot;)..&quot;&lt;red&gt;.&quot;)
    end

   if person then
      mmp.pdb[person] = room
      mmp.pdb_lastupdate[person] = true
      raiseEvent(&quot;mmapper updated pdb&quot;)
   end
end

function mmp.locateAndEchoSide(room, person)
    local t = mmp.searchRoomExact(room)

    echo &quot;  (&quot;
    mmp.echonums(room, true)
    echo &quot;)&quot;

	-- lowercase results
	for k,v in pairs(t) do if tonumber(k) then t[k] = v:lower() else t[k:lower()] = v end end

    if not (t[room:lower()] or table.contains(t, room:lower())) then return end

    --echo&quot;\n&quot;
    if table.size(t) == 1 then
      local k,v = next(t)
      cecho(&quot;&lt;red&gt;  (&quot;..mmp.cleanAreaName(mmp.areatabler[getRoomArea(type(k) == &quot;number&quot; and k or v)] or &quot;?&quot;)..&quot;)&quot;)
    else
      local k,v = next(t)
    local areas = {}
      if type(k) == &quot;number&quot; then
        for k, _ in pairs(t) do
          areas[mmp.areatabler[getRoomArea(k)] or &quot;?&quot;] = true
        end
      else
        for _, k in pairs(t) do
          areas[mmp.areatabler[getRoomArea(k)] or &quot;?&quot;] = true
        end
      end

      local flattened_areas = {}
      for k, _ in pairs(areas) do
        if k ~= &quot;&quot; then flattened_areas[#flattened_areas+1] = mmp.cleanAreaName(k) end
      end

      cecho(&quot;&lt;red&gt; (&quot;..table.concat(flattened_areas, &quot;, &quot;)..&quot;)&quot;)
    end

   if person then
      mmp.pdb[person] = room
      mmp.pdb_lastupdate[person] = true
      raiseEvent(&quot;mmapper updated pdb&quot;)
   end
end

function mmp.locateAndEchoInternal(room, person)
    local t = mmp.searchRoomExact(room)



	-- lowercase results
	for k,v in pairs(t) do if tonumber(k) then t[k] = v:lower() else t[k:lower()] = v end end

    if not (t[room:lower()] or table.contains(t, room:lower())) then return end

    --echo&quot;\n&quot;
    if table.size(t) == 1 then
      local k,v = next(t)
      cecho(&quot;&lt;red&gt; in &quot;..mmp.cleanAreaName(mmp.areatabler[getRoomArea(type(k) == &quot;number&quot; and k or v)] or &quot;?&quot;)..&quot;.&quot;)
    else
      local k,v = next(t)
    local areas = {}
      if type(k) == &quot;number&quot; then
        for k, _ in pairs(t) do
          areas[mmp.areatabler[getRoomArea(k)] or &quot;?&quot;] = true
        end
      else
        for _, k in pairs(t) do
          areas[mmp.areatabler[getRoomArea(k)] or &quot;?&quot;] = true
        end
      end

      local flattened_areas = {}
      for k, _ in pairs(areas) do
        if k ~= &quot;&quot; then flattened_areas[#flattened_areas+1] = mmp.cleanAreaName(k) end
      end

      cecho(&quot;&lt;red&gt; in &quot;..table.concat(flattened_areas, &quot;, &quot;)..&quot;.&quot;)
    end

	echo &quot;  (&quot;
    mmp.echonums(room, true)
    echo &quot;)&quot;

   if person then
      mmp.pdb[person] = room
      mmp.pdb_lastupdate[person] = true
      raiseEvent(&quot;mmapper updated pdb&quot;)
   end
end</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>Aliases</name>
                    <packageName></packageName>
                    <script>function mmp.roomWhoFind(query)
  if query:ends('.') then query = query:sub(1,-2) end
  local result = mmp.searchRoomExact(query)

  if type(result) == &quot;string&quot; or not next(result) then
    cecho(&quot;&lt;CadetBlue&gt;  You have no recollection of any room with that name.&quot;) return end

  if not tonumber(select(2, next(result))) then -- old style
    for roomid, roomname in pairs(result) do roomid = tonumber(roomid)
      cecho(string.format(&quot;  &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt; (&lt;blue&gt;&quot;,
        tostring(roomname)))
      echoLink(roomid, 'mmp.gotoRoom('..roomid..')', string.format(&quot;Go to %s (%s)&quot;, roomid, tostring(roomname)))
      cecho(string.format(&quot;&lt;DarkSlateGrey&gt;) &lt;white&gt;%s&lt;DarkSlateGrey&gt;.\n&quot;, tostring(mmp.areatabler[getRoomArea(roomid)])))
    end

  else -- new style
    for roomname, roomid in pairs(result) do roomid = tonumber(roomid)
      cecho(string.format(&quot;  &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt; (&lt;blue&gt;&quot;,
        tostring(roomname)))
      echoLink(roomid, 'mmp.gotoRoom('..roomid..')', string.format(&quot;Go to %s (%s)&quot;, roomid, tostring(roomname)))
      cecho(string.format(&quot;&lt;DarkSlateGrey&gt;) &lt;white&gt;%s&lt;DarkSlateGrey&gt;.\n&quot;, tostring(mmp.areatabler[getRoomArea(roomid)])))
    end
  end
end

function mmp.roomFind(query)
  if query:ends('.') then query = query:sub(1,-2) end
  local result = mmp.searchRoom(query)

  if type(result) == &quot;string&quot; or not next(result) then
    cecho(&quot;&lt;grey&gt;You have no recollection of any room with that name.&quot;) return end

  cecho(&quot;&lt;DarkSlateGrey&gt;You know the following relevant rooms:\n&quot;)

  local function showmeropis(roomid)
    if mmp.game ~= &quot;achaea&quot; then return '' end

    return mmp.oncontinent(getRoomArea(roomid), &quot;Prime&quot;) and '' or ' (Meropis)'
  end

  if not tonumber(select(2, next(result))) then -- old style
    for roomid, roomname in pairs(result) do roomid = tonumber(roomid)
      cecho(string.format(&quot;  &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt; (&lt;blue&gt;&quot;,
        tostring(roomname)))
      echoLink(roomid, 'mmp.gotoRoom('..roomid..')', string.format(&quot;Go to %s (%s)&quot;, roomid, tostring(roomname)))
      cecho(string.format(&quot;&lt;DarkSlateGrey&gt;) in &lt;LightSlateGray&gt;%s%s&lt;DarkSlateGrey&gt;.&quot;, mmp.cleanAreaName(tostring(mmp.areatabler[getRoomArea(roomid)])), showmeropis(roomid)))
      fg(&quot;DarkSlateGrey&quot;) echoLink(&quot; &gt; Show path\n&quot;, [[mmp.echoPath(mmp.currentroom, ]]..roomid..[[)]], &quot;Display directions from here to &quot;..roomname, true) resetFormat()
    end

  else -- new style
    for roomname, roomid in pairs(result) do roomid = tonumber(roomid)
      cecho(string.format(&quot;  &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt; (&lt;blue&gt;&quot;,
        tostring(roomname)))
      echoLink(roomid, 'mmp.gotoRoom('..roomid..')', string.format(&quot;Go to %s (%s)&quot;, roomid, tostring(roomname)))
      cecho(string.format(&quot;&lt;DarkSlateGrey&gt;) in &lt;LightSlateGray&gt;%s%s&lt;DarkSlateGrey&gt;.&quot;, mmp.cleanAreaName(tostring(mmp.areatabler[getRoomArea(roomid)])), showmeropis(roomid)))
      fg(&quot;DarkSlateGrey&quot;) echoLink(&quot; &gt; Show path\n&quot;, [[mmp.echoPath(mmp.currentroom, ]]..roomid..[[)]], &quot;Display directions from here to &quot;..roomname, true) resetFormat()
    end
  end

  cecho(string.format(&quot;  &lt;DarkSlateGrey&gt;%d rooms found.\n&quot;, table.size(result)))
end

function mmp.echoRoomList(areaname, exact)
  local areaid, msg, multiples = mmp.findAreaID(areaname, exact)
  if areaid then
    local roomlist, endresult = getAreaRooms(areaid) or {}, {}

    -- obtain a room list for each of the room IDs we got
    local getRoomName = getRoomName
    for _, id in pairs(roomlist) do
      endresult[id] = getRoomName(id)
    end

    -- sort room IDs so we can display them in order
    table.sort(roomlist)

    -- now display something half-decent looking
    cecho(string.format(
      &quot;&lt;DarkSlateGrey&gt;List of all rooms in &lt;grey&gt;%s&lt;DarkSlateGrey&gt; (areaid &lt;grey&gt;%s&lt;DarkSlateGrey&gt; - &lt;grey&gt;%d&lt;DarkSlateGrey&gt; rooms):\n&quot;, msg, areaid, table.size(endresult)))
    local echoLink, sformat, fg, echo = echoLink, string.format, fg, cecho
    -- use pairs, as we can have gaps between room IDs
    for _, roomid in pairs(roomlist) do
      local roomname = endresult[roomid]
      fg(&quot;blue&quot;) echoLink(sformat(&quot;%6s&quot;, roomid), 'mmp.gotoRoom('..roomid..')', string.format(&quot;Go to %s (%s)&quot;, roomid, tostring(roomname)), true)
       cecho(string.format(&quot;&lt;DarkSlateGrey&gt;: &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt;.\n&quot;, roomname))
    end

  elseif not id and #multiples &gt; 0 then
    mmp.echo(&quot;For which area would you want to list rooms for?&quot;)
    fg(&quot;DimGrey&quot;)
    for _, areaname in ipairs(multiples) do
      echo&quot;  &quot;; setUnderline(true) echoLink(areaname, 'mmp.echoRoomList(&quot;'..areaname..'&quot;, true)', &quot;Click to view the room list for &quot;..areaname, true) setUnderline(false) echo&quot;\n&quot;
    end
    resetFormat()

  else
    mmp.echo(string.format(&quot;Don't know of any area named '%s'.&quot;, areaname))
  end
end

function mmp.echoAreaList()
  local list = getAreaTable()
  local ids, rlist = {}, {}
  local totalroomcount = 0
  for area, id in pairs(list) do
    if id ~= 0 then ids[#ids+1] = id; rlist[id] = area end end
  table.sort(ids)


  -- count the amount of rooms in an area, taking care to count the room in the 0th
  -- index as well if there is one
  -- saves the total room count on the side as well
  local function countrooms(areaid)
    local allrooms = getAreaRooms(areaid) or {}
    local areac = (#allrooms or 0) + (allrooms[0] and 1 or 0)
    totalroomcount = totalroomcount + areac
    return areac
  end

  cecho(string.format(
      &quot;&lt;DarkSlateGrey&gt;List of all areas we know of (click to view room list):\n&quot;))
  local getAreaRooms, cecho, fg, echoLink, format, rep = getAreaRooms, cecho, fg, echoLink, string.format, string.rep
  for _, id in pairs(ids) do
    cecho(format(&quot;&lt;blue&gt;%s%d &quot;, rep(&quot; &quot;, (7-#tostring(id))), id))
    -- +1 because getAreaRooms starts counting at 0
    fg(&quot;DarkSlateGrey&quot;) echoLink(rlist[id]..(&quot; &quot;):rep(40-#rlist[id])..&quot;(&quot;..mmp.comma_value(countrooms(id))..&quot; rooms)&quot;, 'mmp.echoRoomList(&quot;'..rlist[id]..'&quot;, true)', &quot;View the room list for &quot;..rlist[id], true) echo(&quot;\n&quot;)
  end
  cecho(string.format(
      &quot;&lt;DarkSlateGrey&gt;Total amount of rooms in this map: %s\n&quot;, mmp.comma_value(totalroomcount)))
end

function mmp.clearLabels(areaid)
  local function clearlabels(areaid)
    local t = getMapLabels(areaid)
    if type(t) ~= &quot;table&quot; then return end

    for labelid, _ in pairs(t) do deleteMapLabel(areaid, labelid) end
  end

  if areaid == &quot;map&quot; then
    for areaid in pairs(mmp.areatabler) do
      clearlabels(areaid)
    end

    mmp.echo(&quot;Cleared labels in all of the map.&quot;)
    return
  end

  clearlabels(areaid)
  mmp.echo(string.format(&quot;Cleared all labels in '%s'.&quot;, mmp.areatabler[areaid]))
end

function mmp.deleteArea(name, exact)
  local id, fname, ma = mmp.findAreaID(name, exact)

  if id then
    mmp.doareadelete(id)
  elseif next(ma) then
    mmp.echo(&quot;Which one of these specifically would you like to delete?&quot;)

    fg(&quot;DimGrey&quot;)
    for _,name in ipairs(ma) do
    echo &quot;  &quot; setUnderline(true) echoLink(name, [[mmp.deleteArea(&quot;]]..name..[[&quot;, true)]], &quot;Delete &quot;..name, true) setUnderline(false) echo&quot;\n&quot;
    end
    resetFormat()
    else
      mmp.echo(&quot;Don't know of that area.&quot;)
  end

  raiseEvent(&quot;mmp areas changed&quot;)
end

-- the function actually doing area deletion
function mmp.doareadelete(areaid)
  mmp.deletingarea = {}

  local t = mmp.deletingarea

  local rooms = getAreaRooms(areaid)
  t.roomcount = table.size(rooms)
  t.roombatches = {}
  t.currentbatch = 1
  t.areaid = areaid
  t.areaname = getAreaTableSwap()[areaid]

  -- delete the area right away if there's nothing in it
  if t.roomcount == 0 then
    deleteArea(t.areaid)
    mmp.echo(&quot;All done! The area was already gone/empty.&quot;)
  end

  local rooms_per_batch = 100

  -- split up rooms into tables of tables, to be deleted in batches so
  -- that our print statements in between get a chance to be processed
  for batch = 1, t.roomcount, 100 do
    t.roombatches[#t.roombatches+1] = {}
    local onebatch = t.roombatches[#t.roombatches]
    for inbatch = 1, 100 do
      onebatch[#onebatch+1] = rooms[batch+inbatch]
    end
  end

  function mmp.deletenextbatch()
    local t = mmp.deletingarea
    if not t then return end

    local currentbatch = t.roombatches[t.currentbatchi]

    if currentbatch == nil then
      deleteArea(t.areaid)
      mmp.echo(&quot;All done! Deleted the '&quot;..t.areaname..&quot;' area.&quot;)
      mmp.deletingarea = nil
      centerview(mmp.currentroom)
      return
    end

    local deleteRoom = deleteRoom
    for i = 1, #currentbatch do
      deleteRoom(currentbatch[i])
    end

    mmp.echo(string.format(&quot;Deleted %d batch%s so far, %d left to go - %.2f%% done out of %d needed&quot;, 
          t.currentbatchi, (t.currentbatchi == 1 and '' or 'es'), #t.roombatches - t.currentbatchi, 
          (100/#t.roombatches)*t.currentbatchi, #t.roombatches))

    t.currentbatchi = t.currentbatchi + 1
    tempTimer(0.010, mmp.deletenextbatch)
  end

  t.currentbatchi = 1
  mmp.echo(&quot;Prepped room batches, starting deletion...&quot;)
  tempTimer(0.010, mmp.deletenextbatch)
end

function mmp.renameArea(name, exact)
  if not (mmp.currentroom or getRoomArea(mmp.currentroom)) then
    mmp.echo(&quot;Don't know what area are we in at the moment, to rename it.&quot;)
  else
  setAreaName(getRoomArea(mmp.currentroom), name)
  mmp.echo(string.format(&quot;Renamed %s to %s (%d).&quot;, mmp.areatabler[getRoomArea(mmp.currentroom)], name, getRoomArea(mmp.currentroom)))
  centerview(mmp.currentroom)
  end

  raiseEvent(&quot;mmp areas changed&quot;)
end

function mmp.roomArea(otherroom, name, exact)
    local id,fname,ma
    if tonumber(name) then id = tonumber(name); fname = mmp.areatabler[id]
    else id, fname, ma = mmp.findAreaID(name, exact) end

    if otherroom ~= &quot;&quot; and not mmp.roomexists(otherroom) then
      mmp.echo(&quot;Room id &quot;..otherroom..&quot; doesn't seem to exist.&quot;)
      return
    elseif otherroom == &quot;&quot; and not mmp.roomexists(mmp.currentroom) then
      mmp.echo(&quot;Don't know where we are at the moment.&quot;)
      return
    end

   otherroom = otherroom ~= &quot;&quot; and otherroom or mmp.currentroom

  if id then
    setRoomArea(otherroom, id)
    mmp.echo(string.format(&quot;Moved %s to %s (%d).&quot;, (getRoomName(otherroom) ~= &quot;&quot; and getRoomName(otherroom) or &quot;''&quot;), fname, id))
    centerview(otherroom)
  elseif next(ma) then
    mmp.echo(&quot;Into which area exactly would you like to move the room?&quot;)

    fg(&quot;DimGrey&quot;)
    for _,name in ipairs(ma) do
    echo &quot;  &quot; setUnderline(true) echoLink(name, [[mmp.roomArea('', &quot;]]..name..[[&quot;, true)]], &quot;Move the room to &quot;..name, true) setUnderline(false) echo&quot;\n&quot;
    end
    resetFormat()
    else
      mmp.echo(&quot;Don't know of that area.&quot;)
  end
end

function mmp.getAreaBorders(areaid)
	if mmp.debug then
		mmp.getAreaBordersTimer = mmp.getAreaBordersTimer or createStopWatch()
		startStopWatch(mmp.getAreaBordersTimer)
	end

    local roomlist, endresult = getAreaRooms(areaid), {}
    -- sometimes getAreaRooms can give us no result :(
    if not roomlist then mmp.echo(&quot;Sorry, seems we can't go there - getAreaRooms(&quot;..areaid..&quot;) didn't give us any results (Mudlet problem - redownloading the map might help fix it)&quot;) return end

	local getRoomExits, getRoomName, getSpecialExitsSwap, contains, pairs = getRoomExits, getRoomName, getSpecialExitsSwap, table.contains, pairs

    -- make a key-value list of room IDs
    local reverselist = {}
    for i = 0, #roomlist do reverselist[roomlist[i]] = true end

    -- obtain a room list for each of the room IDs we got
    --for _, id in pairs(roomlist) do
    for i = 0, #roomlist do
      local id = roomlist[i]
      local exits = getRoomExits(id)
      for _, to in pairs(exits) do
        if not reverselist[to] then
          endresult[id] = getRoomName(id)
        end
      end
      local specialexits = getSpecialExitsSwap(id)
      for _, to in pairs(specialexits) do
        if not reverselist[to] then
          endresult[id] = getRoomName(id)
        end
      end
    end

	if mmp.debug then
		mmp.echo(&quot;mmp.getAreaBordersTimer() on areaid &quot;..areaid..&quot; took &quot;..stopStopWatch(mmp.getAreaBordersTimer)..&quot;s to run. Returned &quot;..table.size(endresult)..&quot; results.&quot;)
	end

    return endresult
end


function mmp.viewArea (where, exact)
  if not where or not type(where)==&quot;string&quot; then
    mmp.echo(&quot;Which area would you like to view?&quot;) return end


  local areaid, msg, multiples = mmp.findAreaID(where, exact)
  if areaid then
    -- center on the first room ID, which typically is the start of an area
    local rooms = getAreaRooms(areaid) or {}
    if not rooms[1] then mmp.echo(&quot;The area has no rooms in it.&quot;) else
    centerview(rooms[1]) end

  elseif not areaid and #multiples &gt; 0 then
    mmp.echo(&quot;Which area would you like to view exactly?&quot;)
    fg(&quot;DimGrey&quot;)
    for _, areaname in ipairs(multiples) do
      echo&quot;  &quot;; setUnderline(true) echoLink(areaname, 'mmp.viewArea(&quot;'..areaname..'&quot;, true)', &quot;Click to view &quot;..areaname, true) setUnderline(false) echo&quot;\n&quot;
    end
    resetFormat()
    return
  else
    mmp.echo(string.format(&quot;Don't know of any area named '%s'.&quot;, where))
    return
  end
end

-- room label the room I'm in
-- room label 342 this is a label in room 342
-- room label green this is a green label where I'm at
-- room label green black this is a green to black label where I'm at
-- room label 34 green black this is a green to black label at room 34
-- how it works: split input string into tokens by space, then determine
-- what to do by checking first few tokens, and finally call the local
-- function with the proper arguments
function mmp.roomLabel(input)
  if not createMapLabel then
    mmp.echo(&quot;Your Mudlet doesn't support createMapLabel() yet - please update to 2.0-test3 or better.&quot;) return
  end

  local tk = input:split(&quot; &quot;)
  local room, fg, bg, message = mmp.currentroom, &quot;yellow&quot;, &quot;red&quot;, &quot;Some room label&quot;

  -- input always have to be something, so tk[1] at least always exists
  if tonumber(tk[1]) then
    room = tonumber(table.remove(tk, 1)) -- remove the number, so we're left with the colors or msg
  end

  -- next: is this a foreground color?
  if tk[1] and color_table[tk[1]] then
    fg = table.remove(tk, 1)
  end

  -- next: is this a backround color?
  if tk[1] and color_table[tk[1]] then
    bg = table.remove(tk, 1)
  end

  -- the rest would be our message
  if tk[1] then
    message = table.concat(tk, &quot; &quot;)
  end

  -- if we haven't provided a room ID and we don't know where we are yet, we can't make a label
  if not room then
    mmp.echo(&quot;We don't know where we are to make a label here.&quot;) return
  end

  local x,y = getRoomCoordinates(room)
  local f1,f2,f3 = unpack(color_table[fg])
  local b1,b2,b3 = unpack(color_table[bg])

  -- finally: do it :)

  local lid = createMapLabel(getRoomArea(room), message, x, y, f1,f2,f3, b1,b2,b3)
  mmp.echo(string.format(&quot;Created new label #%d '%s' in %s.&quot;, lid, message, getRoomAreaName(getRoomArea(room))))
end

function mmp.areaLabels (where, exact)
  if not getMapLabels then
    mmp.echo(&quot;Your Mudlet doesn't support getMapLabels() yet - please update to 2.0-test3 or better.&quot;) return
  end

  if (not where or not type(where)==&quot;string&quot;) and not mmp.currentroom then
    mmp.echo(&quot;For which area would you like to view labels?&quot;) return end

  if not where then
  exact = true
    where = getRoomAreaName(getRoomArea(mmp.currentroom))
  end

  local areaid, msg, multiples = mmp.findAreaID(where, exact)
  if areaid then
    local t = getMapLabels(areaid)
    if type(t) ~= &quot;table&quot; or not next(t) then
      mmp.echo(string.format(&quot;'%s' doesn't seem to have any labels.&quot;, getRoomAreaName(areaid)))
      return
    end

    mmp.echo(string.format(&quot;Area labels for '%s'&quot;, getRoomAreaName(areaid)))
    for labelid, labeltext in pairs(t) do
      fg(&quot;DimGrey&quot;)
      echo(string.format(&quot;  %d) %s (&quot;, labelid, labeltext))
      fg&quot;orange_red&quot; setUnderline(true) echoLink('delete', string.format('deleteMapLabel(%d, %d); mmp.echo(&quot;Deleted label #'..labelid..'&quot;)', areaid, labelid), &quot;Delete label #&quot;..labelid..&quot; from &quot;..getRoomAreaName(areaid))
      setUnderline(false) echo&quot;)\n&quot;
    end
    resetFormat()

  elseif not areaid and #multiples &gt; 0 then
    mmp.echo(&quot;Which area would you like to view exactly?&quot;)
    fg(&quot;DimGrey&quot;)
    for _, areaname in ipairs(multiples) do
      echo&quot;  &quot;; setUnderline(true) echoLink(areaname, 'mmp.areaLabels(&quot;'..areaname..'&quot;, true)', &quot;Click to view labels in &quot;..areaname, true) setUnderline(false) echo&quot;\n&quot;
    end
    resetFormat()
    return
  else
    mmp.echo(string.format(&quot;Don't know of any area named '%s'.&quot;, where))
    return
  end
end

function mmp.echoPath(from, to)
	assert(tonumber(from) and tonumber(to), &quot;mmp.getPath: both from and to have to be room IDs&quot;)
	if mmp.getPath(from, to) then
		mmp.echo(&quot;&lt;white&gt;Directions from &lt;yellow&gt;&quot; .. string.upper(searchRoom(from)) .. &quot; &lt;white&gt;to &lt;yellow&gt;&quot; .. string.upper(searchRoom(to)) .. &quot;&lt;white&gt;:&quot;)
		mmp.echo(table.concat(speedWalkDir, &quot;, &quot;))
		return mmp.speedWalkDir
	end
end

function mmp.listSpecialExits(filter)
  local c = 0

  mmp.echo(&quot;Listing special exits...&quot;)
  for area, areaname in pairs(mmp.areatabler) do
    local rooms = getAreaRooms(area) or {}
    for i = 0, #rooms do
      local exits = getSpecialExits(rooms[i] or 0)

       if exits and next(exits) then
         for exit, cmd in pairs(exits) do
           if type(cmd) == &quot;table&quot; then cmd = next(cmd) end
           if cmd:match(&quot;^%d&quot;) then cmd = cmd:sub(2) end

           if not filter or cmd:lower():find(filter, 1, true) then
            if getRoomArea(exit) ~= area then
              cecho(string.format(&quot;&lt;dark_slate_grey&gt;%s &lt;LightSlateGray&gt;(%d, in %s)&lt;dark_slate_grey&gt; &lt;MediumSlateBlue&gt;-&gt; &lt;coral&gt;%s -&lt;MediumSlateBlue&gt;&gt;&lt;dark_slate_grey&gt; %s &lt;LightSlateGray&gt;(%d, in %s)\n&quot;, getRoomName(rooms[i]), rooms[i], areaname,
                cmd, getRoomName(exit), exit, mmp.areatabler[getRoomArea(exit)] or '?'))
            else
              cecho(string.format(&quot;&lt;dark_slate_grey&gt;%s &lt;LightSlateGray&gt;(%d)&lt;dark_slate_grey&gt; &lt;MediumSlateBlue&gt;-&gt; &lt;coral&gt;%s &lt;MediumSlateBlue&gt;-&gt;&lt;dark_slate_grey&gt; %s &lt;LightSlateGray&gt;(%d)&lt;dark_slate_grey&gt; in %s\n&quot;, getRoomName(rooms[i]), rooms[i], cmd, getRoomName(exit), exit, areaname))
            end
            c = c + 1
           end
         end
       end
    end
  end

  mmp.echo(string.format(&quot;%d exits listed%s.&quot;, c, (not filter and '' or &quot;, with for the filter '&quot;..filter..&quot;'&quot;)))
end

function mmp.delSpecialExits(filter)
  local c = 0
  for area, areaname in pairs(mmp.areatabler) do
    local rooms = getAreaRooms(area) or {}
    for i = 0, #rooms do
      local exits = getSpecialExits(rooms[i] or 0)

       if exits and next(exits) then
         for exit, cmd in pairs(exits) do
           if type(cmd) == &quot;table&quot; then cmd = next(cmd) end
           if cmd:match(&quot;^%d&quot;) then cmd = cmd:sub(2) end

           if not filter or cmd:lower():find(filter, 1, true) then
            local rid, action
            local originalExits = {}
            local e = getSpecialExits(rooms[i])
            for t,n in pairs(e) do
              rid = tonumber(t)
              for a,l in pairs(n) do
                action = tostring(a)
              end
              if not action:find(filter,1,true) then
                originalExits[rid] = action
              end
            end
            clearSpecialExits(rooms[i])
            for rid, act in pairs(originalExits) do
              addSpecialExit(rooms[i], tonumber(rid), tostring(act))
            end
            c = c + 1
           end
         end
       end
    end
  end

  mmp.echo(string.format(&quot;%d exits deleted%s.&quot;, c, (not filter and '' or &quot;, with for the filter '&quot;..filter..&quot;'&quot;)))
end</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>Directions-translating functions</name>
                    <packageName></packageName>
                    <script>-- translates n to north and so forth
local temp = {
    n = &quot;north&quot;,
    e = &quot;east&quot;,
    s = &quot;south&quot;,
    w = &quot;west&quot;,
    ne = &quot;northeast&quot;,
    se = &quot;southeast&quot;,
    sw = &quot;southwest&quot;,
    nw = &quot;northwest&quot;,
    u = &quot;up&quot;,
    d = &quot;down&quot;,
    i = &quot;in&quot;,
    o = &quot;out&quot;,
    [&quot;in&quot;] = &quot;in&quot;
}
local anytolongmap = {}
for s, l in pairs(temp) do anytolongmap[l] = l; anytolongmap[s] = l end
function mmp.anytolong(exit)

  return anytolongmap[exit]
end

function mmp.anytoshort(exit)
  local t = {
    n = &quot;north&quot;,
    e = &quot;east&quot;,
    s = &quot;south&quot;,
    w = &quot;west&quot;,
    ne = &quot;northeast&quot;,
    se = &quot;southeast&quot;,
    sw = &quot;southwest&quot;,
    nw = &quot;northwest&quot;,
    u = &quot;up&quot;,
    d = &quot;down&quot;,
    [&quot;in&quot;] = &quot;in&quot;,
    out = &quot;out&quot;
  }
  local rt = {}
  for s,l in pairs(t) do
    rt[l] = s; rt[s] = s
  end

  return rt[exit]
end


function mmp.ranytolong(exit)
  local t = {
    n = &quot;south&quot;,
    north = &quot;south&quot;,
    e = &quot;west&quot;,
    east = &quot;west&quot;,
    s = &quot;north&quot;,
    south = &quot;north&quot;,
    w = &quot;east&quot;,
    west = &quot;east&quot;,
    ne = &quot;southwest&quot;,
    northeast = &quot;southwest&quot;,
    se = &quot;northwest&quot;,
    southeast = &quot;northwest&quot;,
    sw = &quot;northeast&quot;,
    southwest = &quot;northeast&quot;,
    nw = &quot;southeast&quot;,
    northwest = &quot;southeast&quot;,
    u = &quot;down&quot;,
    up = &quot;down&quot;,
    d = &quot;up&quot;,
    down = &quot;up&quot;,
    i = &quot;out&quot;,
    [&quot;in&quot;] = &quot;out&quot;,
    o = &quot;in&quot;,
    out = &quot;in&quot;
  }

  return t[exit]
end

-- returns nil or the room number relative to this one
function mmp.relativeroom(from, dir)
  if not mmp.roomexists(from) then return end

  local exits = getRoomExits(tonumber(from))
  return exits[mmp.anytolong(dir)]
end
</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>mconfig settings functions</name>
                    <packageName></packageName>
                    <script>function mmp.doLock(what, lock, filter)
  if what then mmp.echo(string.format(&quot;%s all %s...&quot;, (lock and &quot;Locking&quot; or &quot;Unlocking&quot;), what)) end
  local c = 0

  local getAreaRooms, getSpecialExits, lockSpecialExit, next = getAreaRooms, getSpecialExits, lockSpecialExit, next
  for _, area in pairs(getAreaTable()) do
    local rooms = getAreaRooms(area) or {}
    for i = 0, #rooms do
      local exits = getSpecialExits(rooms[i] or 0)

       if exits and next(exits) then
         for exit, cmd in pairs(exits) do
           if type(cmd) == &quot;table&quot; then cmd = next(cmd) end

           if (not filter and not (cmd:lower():find(&quot;pathfind&quot;, 1, true) or cmd:lower():find(&quot;worm warp&quot;, 1, true) or cmd:lower():find(&quot;enter grate&quot;, 1, true))) or (filter and cmd:lower():find(filter, 1, true)) then
             lockSpecialExit(rooms[i], exit, cmd, lock)
             c = c + 1
           end
         end
       end
    end
  end

  if what then mmp.echo(string.format(&quot;%s %s known %s.&quot;, (lock and &quot;Locked&quot; or &quot;Unlocked&quot;), c, what)) end
  return c
end

function mmp.lockPathways()
  local lock = mmp.settings.lockpathways and true or false
  mmp.doLock(&quot;pathways&quot;, lock, &quot;pathfind&quot;)
end

function mmp.lockSewers()
  local lock = mmp.settings.locksewers and true or false
  return mmp.doLock(&quot;sewer grates&quot;, lock, &quot;enter grate&quot;)
end

function mmp.lockWormholes()
  local lock = mmp.settings.lockwormholes and true or false
  return mmp.doLock(&quot;wormholes&quot;, lock, &quot;worm warp&quot;)
end
tempTimer(0, function() if mmp.firstRun then mmp.lockWormholes() end end)

function mmp.lockPebble()
  local disabled = (not mmp.settings.pebble) and true or false
  mmp.doLock(nil, disabled, &quot;touch 116998&quot;)
  mmp.doLock(nil, disabled, &quot;touch 277930&quot;)

  mmp.echo(string.format(&quot;Use of pebble %s.&quot;, disabled and &quot;disabled&quot; or &quot;enabled&quot;))
end

function mmp.lockSpecials()
  local lock = mmp.settings.lockspecials and true or false
  mmp.doLock(&quot;special exits&quot;, lock)
end

function mmp.setDuanathar()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.duanathar then mmp.echo(&quot;Okay, will see about using Eagle wings when you goto somewhere while outside!&quot;)
  else mmp.echo(&quot;Won't use Eagle wings anymore.&quot;) end
end

function mmp.setDuanatharan()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.duanatharan then mmp.echo(&quot;Okay, will see about using Atavian wings (both duanathar and duanatharan) when you goto somewhere while outside!&quot;)
  else mmp.echo(&quot;Won't use Atavian wings anymore.&quot;) end
end

function mmp.chageMapSource()
  local use = mmp.settings.crowdmap and true or false
  if use and not mmp.game or mmp.game ~= &quot;achaea&quot; then
    mmp.echo(&quot;Sorry - the crowdsourced map is only available for use in Achaea. If you'd like to help start one for your game, please post at http://forums.mudlet.org/viewtopic.php?f=13&amp;t=1696. If you are playing Achaea, then it is likely that you just downloaded the script - and it doens't know what you are playing. Reconnect and it'll know.&quot;)
    mmp.settings.crowdmap = false
  elseif use and not loadMap then
   mmp.echo(&quot;Sorry - your Mudlet is too old and can't load maps. Please update: http://forums.mudlet.org/viewtopic.php?f=5&amp;t=1874&quot;)
   mmp.settings.crowdmap = false
  elseif use then
    mmp.echo(&quot;Will use the crowdsourced map for updates instead!&quot;)
    mmp.checkforupdate()
  else
    mmp.echo(&quot;Will use the default Achaea map for updates.&quot;)
  end
end

function mmp.setWingsLanguage()
  mmp.echo(&quot;Alright, will say Duanathar and Duanathar in &quot;..mmp.settings.winglanguage:title()..&quot;.&quot;)
end

function mmp.setWingsRemoval()
  mmp.echo(&quot;Okay - &quot;..(mmp.settings.removewings and &quot;will&quot; or &quot;won't&quot;)..&quot; remove wings after using them.&quot;)
end

function mmp.setSlowWalk()
  if mmp.settings.slowwalk then
    mmp.echo(&quot;Will walk 'slowly' - that is, only try to move in a direction once per room, and move again once we've arrived. This will make us better walkers when it's very laggy, as we won't spam directions unnecessarily and miss certain turns - but it does mean that if we fail to move for some reason, we won't retry again either at all.&quot;)
  else
    mmp.echo(&quot;Will walk as quick as we can!&quot;)
  end
end

function mmp.disableWaterWalk()
  local c = 0
  local getRoomEnv, setRoomWeight = getRoomEnv, setRoomWeight
  for roomid, roomname in pairs(getRooms()) do
    if mmp.waterenvs[getRoomEnv(roomid)] then
      setRoomWeight(roomid, 3)
      c = c + 1
    end
  end

  return c
end

function mmp.enableWaterWalk()
  local c = 0
  local getRoomEnv, setRoomWeight = getRoomEnv, setRoomWeight
  for roomid, roomname in pairs(getRooms()) do
    if mmp.waterenvs[getRoomEnv(roomid)] then
      setRoomWeight(roomid, 1)
      c = c + 1
    end
  end

  return c
end

function mmp.setWaterWalk()
  if mmp.settings.waterwalk then
    mmp.echo(&quot;Enabled waterwalk for &quot;..mmp.enableWaterWalk()..&quot; rooms - so we'll be treating land and water rooms the same now in terms of traverse speed over them.&quot;)
  else
    mmp.echo(&quot;Disabled waterwalk for &quot;..mmp.disableWaterWalk()..&quot; rooms - so we'll be preferring land rooms over water ones wherever it's quicker.&quot;)
  end
end

function mmp.setMedallion()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.medallion then mmp.echo(&quot;Okay, will see about using Medallion whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Medallion anymore.&quot;) end
end

function mmp.setFingerblade()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.fingerblade then mmp.echo(&quot;Okay, will see about using Fingerblade whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Fingerblade anymore.&quot;) end
end

function mmp.setBlossom()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.blossom then mmp.echo(&quot;Okay, will see about using the Flame whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use the Flame anymore.&quot;) end
end

function mmp.setMandala()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.mandala then mmp.echo(&quot;Okay, will see about using Mandala whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Mandala anymore.&quot;) end
end

function mmp.setBelt()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.belt then mmp.echo(&quot;Okay, will see about using Belt whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Belt anymore.&quot;) end
end

function mmp.setCubix()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.cubix then mmp.echo(&quot;Okay, will see about using Cubix whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Cubix anymore.&quot;) end
end

function mmp.setPrism()
	mmp.clearpathcache()
	if mmp.settings.prism then mmp.echo(&quot;Okay, will see about using Prism whenever it's quicker&quot;)
	else mmp.echo(&quot;Won't use Prism anymore.&quot;) end
end

function mmp.setScrewdriver()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.screwdriver then mmp.echo(&quot;Okay, will see about using Screwdriver whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Screwdriver anymore.&quot;) end
end

function mmp.setWheel()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.wheel then mmp.echo(&quot;Okay, will see about using Wheel whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Wheel anymore.&quot;) end
end

function mmp.setMud()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.mud then mmp.echo(&quot;Okay, will see about using Mud whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Mud anymore.&quot;) end
end
function mmp.setSnowglobe()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.snowglobe then mmp.echo(&quot;Okay, will see about using Snowglobe whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Snowglobe anymore.&quot;) end
end

function mmp.setCookie()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.cookie then mmp.echo(&quot;Okay, will see about using Cookie whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Cookie anymore.&quot;) end
end

function mmp.setHead()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.head then mmp.echo(&quot;Okay, will see about using Doll's Head whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Doll's Head anymore.&quot;) end
end

function mmp.setIcicle()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.icicle then mmp.echo(&quot;Okay, will see about using Icicle whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Icicle anymore.&quot;) end
end

function mmp.setTibia()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.tibia then mmp.echo(&quot;Okay, will see about using Tibia whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Tibia anymore.&quot;) end
end

function mmp.setBonecurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.bonecurio then mmp.echo(&quot;Okay, will see about using Bone Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Bone Curio collection anymore.&quot;) end
end

function mmp.setFlowercurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.flowercurio then mmp.echo(&quot;Okay, will see about using Flower Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Flower Curio collection anymore.&quot;) end
end

function mmp.setTorus()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.torus then mmp.echo(&quot;Okay, will see about using your Torus whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use your Torus anymore.&quot;) end
end

function mmp.setUtensilcurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.utensilcurio then mmp.echo(&quot;Okay, will see about using Utensil Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Utensil Curio collection anymore.&quot;) end
end

function mmp.setFluttercurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.fluttercurio then mmp.echo(&quot;Okay, will see about using Flutter Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Flutter Curio collection anymore.&quot;) end
end

function mmp.setToolcurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.toolcurio then mmp.echo(&quot;Okay, will see about using Tool Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Tool Curio collection anymore.&quot;) end
end

function mmp.setFacecurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.facecurio then mmp.echo(&quot;Okay, will see about using Face Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Face Curio collection anymore.&quot;) end
end

function mmp.setToycurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.toycurio then mmp.echo(&quot;Okay, will see about using Toy Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Toy Curio collection anymore.&quot;) end
end

function mmp.setFeathercurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.feathercurio then mmp.echo(&quot;Okay, will see about using Feather Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Feather Curio collection anymore.&quot;) end
end

function mmp.setFigurecurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.figurecurio then mmp.echo(&quot;Okay, will see about using Figure Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Figure Curio collection anymore.&quot;) end
end

function mmp.setVernalcurio()
  mmp.clearpathcache() -- clear the cache so it'll use wings or will stop using wings

  if mmp.settings.vernalcurio then mmp.echo(&quot;Okay, will see about using Vernal Curio collection whenever it's quicker&quot;)
  else mmp.echo(&quot;Won't use Vernal Curio collection anymore.&quot;) end
end</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>API</name>
                    <packageName></packageName>
                    <script>-------------------------------------------------
-- This script lists some of the API functions available from the IRE mudlet-mapper
-- not all functions that are available are included here, however.

function mmp.echo(what)
  what = what or &quot;&quot;
  moveCursorEnd(&quot;main&quot;) if getCurrentLine() ~= &quot;&quot; then echo&quot;\n&quot; end
  decho(&quot;&lt;112,229,0&gt;(&lt;73,149,0&gt;mapper&lt;112,229,0&gt;): &lt;255,255,255&gt;&quot;)
  cecho(tostring(what))
  echo(&quot;\n&quot;)
end

function mmp.echon(what)
  moveCursorEnd(&quot;main&quot;) if getCurrentLine() ~= &quot;&quot; then echo&quot;\n&quot; end
  decho(&quot;&lt;112,229,0&gt;(&lt;73,149,0&gt;mapper&lt;112,229,0&gt;): &lt;255,255,255&gt;&quot;)
  cecho(tostring(what))
end

function mmp.deleteLineP()
  deleteLine()
  tempLineTrigger(1,1,[[
    if isPrompt() then deleteLine() end
  ]])
end

function mmp.pause(what)
  assert(what == nil or what == &quot;on&quot; or what == &quot;off&quot;, &quot;mmp.pause wants 'on', 'off' or nothing as an argument&quot;)

  if what == &quot;on&quot; or (what == nil and not mmp.paused) then
    mmp.paused = true
  elseif  what == &quot;off&quot; or (what == nil and mmp.paused) then
    mmp.paused = false
  end

  mmp.echo(&quot;Speedwalking &quot; .. (mmp.paused and &quot;paused&quot; or &quot;unpaused&quot;) .. &quot;.&quot;)
  if not mmp.paused then mmp.move() end
end

function mmp.mapLook(roomid, delay)
  centerview(roomid)
  if mmp.maplooktimer then killTimer(mmp.maplooktimer) end
  mmp.maplooktimer = tempTimer(tonumber(delay) or 4, [[centerview(mmp.currentroom); mmp.maplooktimer = nil]])
end

function mmp.getnums(roomname, exact)
  if tonumber(roomname) then return {roomname} end

  local t = (not exact and mmp.searchRoom or mmp.searchRoomExact)(roomname)

  if not t or not next(t) then
    return nil end

  local result = {}

  if not tonumber(select(2, next(t))) then
    for roomid,_ in pairs(t) do
      if roomid ~= 0 then result[#result+1] = tonumber(roomid) end
    end
  else
    for _,roomid in pairs(t) do
      if roomid ~= 0 then result[#result+1] = tonumber(roomid) end
    end
  end

  return result
end

-- searchRoom with a cache!
local cache = {}
setmetatable(cache, {__mode = &quot;kv&quot;}) -- weak keys/values = it'll periodically get cleaned up by gc

function mmp.searchRoom(what)
  local result = cache[what]
  if not result then
    result = searchRoom(what)
    local realResult = {}
    for key, value in pairs(type(result) == &quot;table&quot; and result or {}) do
        -- both ways, because searchRoom can return either id-room name or the reverse
        if type(key) == &quot;string&quot; then
          realResult[key:ends(&quot; (road)&quot;) and key:sub(1, -8) or key] = value
        else
          realResult[key] = value:ends(&quot; (road)&quot;) and value:sub(1, -8) or value
        end
    end
    cache[what] = realResult
    result = realResult
  end
  return result
end

local function endswith(s, suffix)
    return s:sub(#s - #suffix + 1) == suffix
end

function mmp.searchRoomExact(what)
  if type(what) ~= 'string' then return end

  local roomTable = mmp.searchRoom(what)
  local realResult = {}
  what = what:lower()
  for key, value in pairs (roomTable) do
    if type(key) == &quot;string&quot; and (key:lower() == what or (endswith(key, '.') and key:sub(1, -2) == what)) then
        realResult[key:ends(&quot; (road)&quot;) and key:sub(1, -8) or key] = value
    elseif type(value) == &quot;string&quot; and (value:lower() == what or (endswith(value, '.') and value:sub(1, -2) == what)) then
        realResult[key] = value:ends(&quot; (road)&quot;) and value:sub(1, -8) or value
    end
  end
  if (table.is_empty(realResult)) then
    return roomTable
  else
    return realResult
  end
end

function mmp.findAreaID(areaname, exact)
  local areaname = areaname:lower()
  local list = getAreaTable()

  -- iterate over the list of areas, matching them with substring match.
  -- if we get match a single area, then return it's ID, otherwise return
  -- 'false' and a message that there are than one are matches
  local returnid, fullareaname, multipleareas = nil, nil, {}
  for area, id in pairs(list) do
    if (not exact and area:lower():find(areaname, 1, true)) or (exact and areaname == area:lower()) then
      returnid = id; fullareaname = area; multipleareas[#multipleareas+1] = area
    end
  end

  if #multipleareas == 1 then
    return returnid, fullareaname
  else
    return nil, nil, multipleareas
  end
end

function mmp.roomexists(num)
  if not num then return false end
  if roomExists then return roomExists(num) end

  local s,m = pcall(getRoomArea, tonumber(num))
  return (s and true or false)
end

-- patches welcome to finish this function.
function mmp.removecontinent(area, continent)
  local tmp = getRoomUserData(1, &quot;areaContinents&quot;)
  local continents = {}

  if tmp ~= &quot;&quot; then
    continents = yajl.to_value(tmp)
  end

  if not next(continents) then return nil, &quot;no continents are known&quot; end
  if not continents[continent] then return nil, &quot;no such continent is recorded&quot; end

end

function mmp.indexof_valueonly(data, value)
  for i = 1, #data do
    if data[i] == value then return i end
  end

  return false
end

-- checks if given area ID is on the given continent. Returns true only if certainly knows
function mmp.oncontinent(areaid, continent)
  local tmp = getRoomUserData(1, &quot;areaContinents&quot;)
  if tmp == &quot;&quot; then return end

  local continents = yajl.to_value(tmp)
  if not continents[continent] then return end

  return mmp.indexof_valueonly(continents[continent], areaid)
end

-- accepts areaname or ID
function mmp.cleanAreaName(area)
  local areaname = type(area) == &quot;number&quot; and mmp.areatabler[area] or area
  if not areaname then return area end

  -- strip , the
  areaname = areaname:gsub(&quot;, the$&quot;, '')

  -- strip , the Type of
  areaname = areaname:gsub(&quot;, the %w+ of$&quot;, '')

  -- strip , the Type of (important)
  areaname = areaname:gsub(&quot;, the %w+ of %((.+)%)$&quot;, &quot; (%1)&quot;)

  -- strip , the (important)
  areaname = areaname:gsub(&quot;, the %((.+)%)$&quot;, &quot; (%1)&quot;)

  return areaname
end

-- if this room is in a unique area, report it. Otherwise gives nil
function mmp.getexactarea(roomname)
  local rooms = mmp.searchRoomExact(roomname)

  if not rooms or not next(rooms) then return nil end

  local areaid
  for roomid, roomname in pairs(rooms) do

    local caid = getRoomArea(roomid)
    if areaid and areaid ~= caid then return nil end
    areaid = caid
  end

  if areaid then return mmp.areatabler[areaid] end
end

-- returns the area name of a room or ?
function mmp.getAreaName(roomid)
   return mmp.areatabler[getRoomArea(roomid)] or '?'
end

-- removes extra prefixes and suffixes that are not part of the actual room name
function mmp.cleanroomname(roomname)
  local starts, ends = string.starts, string.ends

  if starts(roomname, &quot;Flying above &quot;) then
    roomname = string.sub(roomname, -(#roomname-13))
  end
  if starts(roomname, &quot;In the trees above &quot;) then
    roomname = string.sub(roomname, -(#roomname-19))
  end
  if starts(roomname, &quot;The ruins of &quot;) then
    roomname = string.sub(roomname, -(#roomname-13))
  end
  if ends(roomname, &quot; (road)&quot;) then
    roomname = string.sub(roomname, 1, (#roomname-7))
  end
  if ends(roomname, &quot; (indoors)&quot;) then
    roomname = string.sub(roomname, 1, (#roomname-10))
  end
  if ends(roomname, &quot;.&quot;) then
    roomname = string.sub(roomname, 1, (#roomname-1))
  end
  if ends(roomname, &quot; (indoor road)&quot;) then
    roomname = string.sub(roomname, 1, (#roomname-14))
  end

  return roomname
end</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>mmp.roomLook</name>
                    <packageName></packageName>
                    <script>function mmp.roomLook(input)
  -- we can do a report with a number
  local function handle_number(num)
    -- compile all available data
    if not mmp.roomexists(num) then mmp.echo(num..&quot; doesn't seem to exist.&quot;) return end
    local s, areanum = pcall(getRoomArea,num)
    if not s then mmp.echo(areanum); return; end

    local exits = getRoomExits(num)
    local name = getRoomName(num)
    local islocked = roomLocked(num)
    local weight = (getRoomWeight(num) and getRoomWeight(num) or &quot;?&quot;) -- getRoomWeight is buggy in one of the versions, is actually linked to setRoomWeight and thus returns nil
    local exitweights = (getExitWeights and getExitWeights(num) or {})
    local coords = {getRoomCoordinates(num)}
    local specexits = getSpecialExits(num)
    local env = getRoomEnv(num)
    local envname = (mmp.envidsr and mmp.envidsr[env]) or &quot;?&quot;

    -- generate a report
    mmp.echo(string.format(&quot;Room: %s #: %d area: %s (%d)&quot;,
      name, num, tostring(mmp.areatabler[areanum]), areanum))

    mmp.echo(string.format(&quot;Coordinates: x:%d, y:%d, z:%d, locked: %s, weight: %s&quot;, coords[1], coords[2], coords[3], (islocked and &quot;yep&quot; or &quot;nope&quot;), tostring(weight)))

    mmp.echo(string.format(&quot;Environment: %s (%d)%s&quot;, tostring(envname), env, (getRoomUserData(num, &quot;indoors&quot;) ~= '' and &quot;, indoors&quot; or '')))

    mmp.echo(string.format(&quot;Exits (%d):&quot;, table.size(exits)))
    for exit, leadsto in pairs(exits) do
      echo(string.format(&quot;  %s -&gt; %s (%d)%s%s\n&quot;, exit, getRoomName(leadsto), leadsto,
        ((getRoomArea(leadsto) or &quot;?&quot;) == areanum and &quot;&quot;
        or &quot; (in &quot;..(mmp.areatabler[getRoomArea(leadsto)] or &quot;?&quot;)..&quot;)&quot;),
        ((not exitweights[mmp.anytoshort(exit)] or exitweights[mmp.anytoshort(exit)] == 0) and &quot;&quot; or &quot; (weight: &quot;..exitweights[mmp.anytoshort(exit)]..&quot;)&quot;)
      ))
    end

    -- display special exits if we got any
    if next(specexits) then
      mmp.echo(string.format(&quot;Special exits (%d):&quot;,table.size(specexits)))

      for leadsto, command in pairs(specexits) do
        if type(command) == &quot;string&quot; then
          echo(string.format(&quot;  %s -&gt; %s (%d)\n&quot;, command, getRoomName(leadsto), leadsto))
        else -- new format - exit name, command
          for cmd, locked in pairs(command) do
            if locked == '1' then
              cecho(string.format(&quot;&lt;DarkSlateGrey&gt;  %s -&gt; %s (%d) (locked)\n&quot;, cmd, getRoomName(leadsto), leadsto))
            else
              echo(string.format(&quot;  %s -&gt; %s (%d)\n&quot;, cmd, getRoomName(leadsto), leadsto))
            end
          end
        end
      end
    end

    -- actions we can do. This will be a short menu of sorts for actions
    mmp.echo(&quot;Stuff you can do:&quot;)
    echo&quot;  &quot; echo(&quot;Clear all labels &quot;) setUnderline(true) echoLink(&quot;(in area)&quot;, 'mmp.clearLabels('..areanum..')', '', true) setUnderline(false)
    echo&quot; &quot; setUnderline(true)
    echoLink(&quot;(whole map)&quot;, [[
    if not mmp.clearinglabels then
      mmp.echo(&quot;Are you sure you want to clear all of your labels on this map? If yes, click the link again.&quot;)
      mmp.clearinglabels = true
    else
      mmp.clearLabels(&quot;map&quot;)
      mmp.clearinglabels = nil
    end
    ]], '', true) setUnderline(false) echo&quot;\n&quot;
    echo&quot;  &quot; setUnderline(true) echoLink(&quot;Check for mapper &amp; map updates&quot;, 'mmp.echo(&quot;Checking...&quot;) mmp.checkforupdate()', '', true) setUnderline(false)
    echo&quot; &quot; setUnderline(true) echoLink(&quot;(force map)&quot;, [[
      if io.exists(getMudletHomeDir()..&quot;/map downloads/current&quot;) then
        local s,m = os.remove(getMudletHomeDir()..&quot;/map downloads/current&quot;)
        if not s then mmp.echo(&quot;Couldn't delete '&quot;..getMudletHomeDir()..&quot;/map downloads/current' file: &quot;..tostring(m)..&quot;.&quot;) end
      end
      mmp.echo(&quot;Re-downloading the latest crowdmap...&quot;)
      mmp.checkforupdate()
    ]], &quot;Re-download the map regardless if you have latest&quot;, true)
    setUnderline(false)
    echo&quot;\n&quot;
  end

  -- see if we can do anything with the name
  local function handle_name(name)
    local result = mmp.searchRoom(name)

    if type(result) == &quot;string&quot; then
      cecho(&quot;&lt;grey&gt;You have no recollection of any room with that name.&quot;) return end

    -- if we got one result, then act on it
    if table.size(result) == 1 then
      if type(next(result)) == &quot;number&quot; then
        handle_number(next(result))
      else
        handle_number(select(2, next(result)))
      end
      return
    end

    -- if not, then ask the user to clarify which one would they want
    mmp.echo(&quot;Which room specifically would you like to look up?&quot;)
    if not select(2, next(result)) or not tonumber(select(2, next(result))) then
      for roomid, roomname in pairs(result) do roomid = tonumber(roomid)
        cecho(string.format(&quot;  &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt; (&lt;blue&gt;&quot;,
          tostring(roomname)))
        echoLink(roomid, 'mmp.roomLook('..roomid..')', string.format(&quot;View room details for %s (%s)&quot;, roomid, tostring(roomname)))
        cecho(string.format(&quot;&lt;DarkSlateGrey&gt;) in the &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt;.\n&quot;, tostring(mmp.areatabler[getRoomArea(roomid)])))
      end

    else
      for roomname, roomid in pairs(result) do roomid = tonumber(roomid)
        cecho(string.format(&quot;  &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt; (&lt;blue&gt;&quot;,
          tostring(roomname)))
        echoLink(roomid, 'mmp.roomLook('..roomid..')', string.format(&quot;View room details for %s (%s)&quot;, roomid, tostring(roomname)))
        cecho(string.format(&quot;&lt;DarkSlateGrey&gt;) in the &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt;.\n&quot;, tostring(mmp.areatabler[getRoomArea(roomid)])))
      end
    end
  end

  if not input then
    if not mmp.roomexists(mmp.currentroom) then
      mmp.echo(mmp.currentroom.. &quot; doesn't seem to be mapped yet.&quot;)
      mmp.echo(&quot;Stuff you can do:&quot;)
      echo&quot;  &quot; echoLink(&quot;Check for all updates&quot;, 'mmp.echo(&quot;Checking...&quot;) mmp.checkforupdate()', '')
      echo&quot; &quot; echoLink(&quot;(force map)&quot;, [[
      local s,m = os.remove(getMudletHomeDir()..&quot;/map downloads/current&quot;)
        if io.exists(getMudletHomeDir()..&quot;/map downloads/current&quot;) then
          local s,m = os.remove(getMudletHomeDir()..&quot;/map downloads/current&quot;)
          if not s then mmp.echo(&quot;Couldn't delete '&quot;..getMudletHomeDir()..&quot;/map downloads/current' file: &quot;..tostring(m)..&quot;.&quot;) end
        end
        mmp.echo(&quot;Re-downloading the latest map...&quot;)
        mmp.checkforupdate()
      ]], &quot;Re-download the map regardless if you have latest&quot;)
      echo&quot;\n&quot;
    else input = mmp.currentroom end
  end

  if tonumber(input) then
    handle_number(tonumber(input))
  else
    handle_name(input)
  end

  mmp.echo(string.format(&quot;version %s.&quot;, tostring(mmp.version)))
end</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>mmp.wormholesfix</name>
                    <packageName></packageName>
                    <script>function mmp.wormholesfix()
  local c = 0
  local weight = 10
  for _, area in pairs(getAreaTable()) do
    local rooms = getAreaRooms(area) or {}
    for i = 0, #rooms do
      local exits = getSpecialExits(rooms[i] or 0)

       if exits and next(exits) then
         for exit, cmd in pairs(exits) do
           if type(cmd) == &quot;table&quot; then cmd = next(cmd) end

           if (cmd:lower():find(&quot;worm warp&quot;, 1, true)) then
				setExitWeight(rooms[i], cmd, weight)
             c = c + 1
           end
         end
       end
    end
  end

  if c &gt; 0 then mmp.echo(string.format(&quot;%s wormholes weighted to %s (so we don't take them over too short distances).&quot;, c, weight)) end
end</script>
                    <eventHandlerList>
                        <string>mmapper updated map</string>
                        <string>sysMapDownloadEvent</string>
                    </eventHandlerList>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>mmp.clearlastupdate</name>
                    <packageName></packageName>
                    <script>function mmp.clearlastupdate()
  -- reset mmp.pdb_lastupdate on the prompt
  enableTrigger&quot;Mudlet Mapper prompt trigger&quot;
end</script>
                    <eventHandlerList>
                        <string>mmapper updated pdb</string>
                    </eventHandlerList>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>Third-party functions</name>
                    <packageName></packageName>
                    <script>-- from: http://lua-users.org/wiki/CopyTable
local function deepcopy(orig)
    local orig_type = type(orig)
    local copy
    if orig_type == 'table' then
        copy = {}
        for orig_key, orig_value in next, orig, nil do
            copy[deepcopy(orig_key)] = deepcopy(orig_value)
        end
        setmetatable(copy, deepcopy(getmetatable(orig)))
    else -- number, string, boolean, etc
        copy = orig
    end
    return copy
end

mmp.deepcopy = deepcopy</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>mmp_regenerate_areas</name>
                    <packageName></packageName>
                    <script>function mmp_regenerate_areas()
  -- cached data
  mmp.areatable = getAreaTable() -- this translates an area name to an ID
  mmp.areatabler = {} -- this translates an ID to an area name

  local t = getAreaTable()
  for k,v in pairs(t) do
    mmp.areatabler[tonumber(v)] = k
  end

  mmp.clearpathcache()
end</script>
                    <eventHandlerList>
                        <string>mmp areas changed</string>
                        <string>mmapper map reloaded</string>
                    </eventHandlerList>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>mmp_relock_areas</name>
                    <packageName></packageName>
                    <script>function mmp_relock_areas()
	local getAreaRooms, lockRoom, lockedareas = getAreaRooms, lockRoom, mmp.locked

	for areaid, areaname in pairs(getAreaTableSwap()) do
		if lockedareas[areaid] then
			local rooms = getAreaRooms(areaid) or {}
			for _, roomid in pairs(rooms) do
				lockRoom(roomid, true)
			end
		else
			local rooms = getAreaRooms(areaid) or {}
			for _, roomid in pairs(rooms) do
				lockRoom(roomid, false)
			end
		end
	end

	-- make sure area with ID 0 is locked - this was causing crashing issues
	local rooms = getAreaRooms(0) or {}
	for _, roomid in pairs(rooms) do
		lockRoom(roomid, true)
	end	
end</script>
                    <eventHandlerList>
                        <string>mmapper map reloaded</string>
                    </eventHandlerList>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>Fix setExit</name>
                    <packageName></packageName>
                    <script>do
local oldsetExit = setExit

local exitmap = {
  n = 1,
  north = 1,
  ne = 2,
  northeast = 2,
  nw = 3,
  northwest = 3,
  e = 4,
  east = 4,
  w = 5,
  west = 5,
  s = 6,
  south = 6,
  se = 7,
  southeast = 7,
  sw = 8,
  southwest = 8,
  u = 9,
  up = 9,
  d = 10,
  down = 10,
  [&quot;in&quot;] = 11,
  out = 12
}

function setExit(from, to, direction)
  if type(direction) == &quot;string&quot; and not exitmap[direction] then return false end

  return oldsetExit(from, to, type(direction) == &quot;string&quot; and exitmap[direction] or direction)
end
end</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>Fix exit locking funcs</name>
                    <packageName></packageName>
                    <script>do
local oldlockExit = lockExit
local oldhasExitLock = hasExitLock

local exitmap = {
  n = 1,
  north = 1,
  ne = 2,
  northeast = 2,
  nw = 3,
  northwest = 3,
  e = 4,
  east = 4,
  w = 5,
  west = 5,
  s = 6,
  south = 6,
  se = 7,
  southeast = 7,
  sw = 8,
  southwest = 8,
  u = 9,
  up = 9,
  d = 10,
  down = 10,
  [&quot;in&quot;] = 11,
  out = 12
}

function lockExit(from, direction, status)
  if type(direction) == &quot;string&quot; and not exitmap[direction] then return false end

  return oldlockExit(from, type(direction) == &quot;string&quot; and exitmap[direction] or direction, status)
end

function hasExitLock(from, direction)
  if type(direction) == &quot;string&quot; and not exitmap[direction] then return false end

  return oldhasExitLock(from, type(direction) == &quot;string&quot; and exitmap[direction] or direction)
end
end</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>Assorted small utilities</name>
                    <packageName></packageName>
                    <script>function mmp.comma_value(n) -- credit http://richard.warburton.it
	local left,num,right = string.match(n,'^([^%d]*%d)(%d*)(.-)$')
	return left..(num:reverse():gsub('(%d%d%d)','%1,'):reverse())..right
end</script>
                    <eventHandlerList/>
                </Script>
            </Script>
            <Script isActive="yes" isFolder="no">
                <name>Person tracking</name>
                <packageName></packageName>
                <script>--[[
mmp will have 2 person tracking databases:
- mmp.pdb  =  used to store the last known location of a person
- mmp.pdb_lastupdate  =  used to store the output of the last locating command

Both databases work with the person's name as key and the location name as value.

]]
mmp.pdb = mmp.pdb or {}
mmp.pdb_lastupdate = mmp.pdb_lastupdate or {}

function mmp.is_here(who)
  return (mmp.pdb[who] and mmp.pdb[who] == mmp.currentroomname) and true or false
end</script>
                <eventHandlerList/>
            </Script>
            <Script isActive="yes" isFolder="no">
                <name>Lock Area</name>
                <packageName></packageName>
                <script>-- Lock Area

mmp.locked = mmp.locked or {}
mmp.lastLockSearch = mmp.lastLockSearch or nil

function mmp.doLockArea(search)
	local areaList
	if search ~= nil then
		local r = rex.new(string.lower(search))
		mmp.lastLockSearch = search
		for name, id in pairs(getAreaTable()) do
			if r:match(string.lower(name)) then
				areaList = areaList or {}
				areaList[name] = id
			end
		end
		if areaList == nil then
			mmp.echo(&quot;'&quot; .. search .. &quot;' did not match any known areas!&quot;)
			return
		end
	else
		mmp.lastLockSearch = nil
		areaList = getAreaTable()
	end

	for name, id in pairs(areaList) do
		mmp.echon(name .. string.rep(&quot; &quot;, 40 - string.len(name)))
		if not mmp.locked[id] then
			setFgColor(0, 200, 0)
			setUnderline(true)
			echoLink(&quot;Lock!&quot;, [[mmp.lockArea( ']] .. name:gsub(&quot;'&quot;, [[\']]) .. [[', true )]], &quot;Click to lock area '&quot; .. name .. &quot;'&quot;, true)
		else
			setFgColor(200, 0, 0)
			setUnderline(true)
			echoLink(&quot;Unlock!&quot;, [[mmp.lockArea( ']] .. name:gsub(&quot;'&quot;, [[\']]) .. [[', false )]], &quot;Click to unlock area '&quot; .. name .. &quot;'&quot;, true)
		end
	end

	if not search then
		echo&quot;\n\n&quot; mmp.echo(&quot;Use &lt;green&gt;arealock &lt;area&gt;&lt;white&gt; to filter areas.&quot;)
	end
end

function mmp.lockArea(name, lock, dontreshow)
	local areas = getAreaTable()
	local rooms = getAreaRooms(areas[name]) or {}
    local lockRoom = lockRoom
    local count = 0
	for _, room in pairs(rooms) do
		lockRoom(room, lock)
        count = count + 1
	end

	mmp.locked[areas[name]] = lock and true or nil
	mmp.echo(string.format(&quot;Area '%s' %slocked! All %s room%s within it.&quot;, name, (lock and '' or 'un'), count, (count == 1 and '' or 's')))

	if not dontreshow then mmp.doLockArea(mmp.lastLockSearch) end
end


</script>
                <eventHandlerList/>
            </Script>
            <Script isActive="yes" isFolder="no">
                <name>Center view via GMCP</name>
                <packageName></packageName>
                <script></script>
                <eventHandlerList/>
                <Script isActive="yes" isFolder="no">
                    <name>mmp_center_roominfo</name>
                    <packageName></packageName>
                    <script>function mmp_center_roominfo()
  -- lusternia has gmcp.Room.Players before gmcp.Room.Info is created
  if gmcp.Room.Info then centerview(gmcp.Room.Info.num) end
end</script>
                    <eventHandlerList>
                        <string>gmcp.Room</string>
                    </eventHandlerList>
                </Script>
            </Script>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>mm Mapping</name>
                <packageName></packageName>
                <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                <eventHandlerList/>
                <Script isActive="yes" isFolder="no">
                    <name>mmp_mapping_newroom</name>
                    <packageName></packageName>
                    <script>--mmp_mapping_newroom
local function makeroom(oldid, newid, x,y,z)
  assert(x and y and z, &quot;makeroom: need all 3 coordinates&quot;)
  addRoom(newid)
  setRoomCoordinates(newid, x, y, z)
  setRoomArea(newid, getRoomArea(oldid))

  local fgr,fgg,fgb = unpack(color_table.red)
  local bgr,bgg,bgb = unpack(color_table.blue)
  highlightRoom(newid, fgr,fgg,fgb,bgr,bgg,bgb, 1, 100, 100)

  if mmp.envids[gmcp.Room.Info.environment] then
    setRoomEnv(newid, mmp.envids[gmcp.Room.Info.environment])
  else setRoomEnv(newid, getRoomEnv(oldid)) end

  return string.format(&quot;Created new room %d at %dx,%dy,%dz.&quot;, newid, x,y,z)
end

-- gives the reverse shifted coordinates, ie asking for the sw exit + coords will give the coords at ne
local function getshiftedcoords(original,ox,oy,oz)
  local x,y,z
  local has = table.contains

  -- reverse the exit
  w = mmp.ranytolong(original)

  if has({&quot;west&quot;, &quot;left&quot;, &quot;w&quot;, &quot;l&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy); z = (z or oz)
  elseif has({&quot;east&quot;, &quot;right&quot;, &quot;e&quot;, &quot;r&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy); z = (z or oz)
  elseif has({&quot;north&quot;, &quot;top&quot;, &quot;n&quot;, &quot;t&quot;}, w) then
    x = (x or ox); y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;south&quot;, &quot;bottom&quot;, &quot;s&quot;, &quot;b&quot;}, w) then
    x = (x or ox); y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;northwest&quot;, &quot;topleft&quot;, &quot;nw&quot;, &quot;tl&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;northeast&quot;, &quot;topright&quot;, &quot;ne&quot;, &quot;tr&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({&quot;southeast&quot;, &quot;bottomright&quot;, &quot;se&quot;, &quot;br&quot;}, w) then
    x = (x or ox) + 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;southwest&quot;, &quot;bottomleft&quot;, &quot;sw&quot;, &quot;bl&quot;}, w) then
    x = (x or ox) - 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({&quot;up&quot;, &quot;u&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) + 1
  elseif has({&quot;down&quot;, &quot;d&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) - 1
  elseif has({&quot;in&quot;, &quot;i&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) - 1
  elseif has({&quot;out&quot;, &quot;o&quot;}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) + 1
  else
    mmp.echo(&quot;Don't know where to shift the coordinates for a &quot;..tostring(w)..&quot; (&quot;..tostring(original)..&quot;) exit.&quot;)
  end

  return x,y,z
end

function mmp_mapping_newroom(_, num)
local s,m = xpcall(function ()
  if not mmp.editing then return end
  if not gmcp.Room then
    mmp.echo(&quot;You need to have GMCP turned on (see preferences on a recent Mudlet) for mapping stuff.&quot;)
    return
  end

  -- wilderness mapping right now is UNFINISHED! It does not handle the grid breakup. So, please don't try it, and please won't whine about it.
  local function inwilderness()
    return (gmcp.Room.Info.coords == &quot;&quot; and gmcp.Room.Info.area == &quot;&quot;)
  end

  local getRoomName, getRoomCoordinates, getRoomsByPosition = getRoomName, getRoomCoordinates, getRoomsByPosition

  local num = tonumber(num) or tonumber(gmcp.Room.Info.num)
  local currentexits = gmcp.Room.Info.exits
  local s = &quot;&quot;

  if not mmp.roomexists(num) then
    -- see if we can create and link this room with an existing one
    -- wilderness and non-wilderness rooms require different methods of calculating relative coordinates
    if not inwilderness() then
      for exit, id in pairs(currentexits) do
        if mmp.roomexists(id) then
          s = makeroom(id, num, getshiftedcoords(exit, getRoomCoordinates(id)))
        end
      end
    else
      local x,y = tostring(num):match(&quot;.-(%d%d%d)(%d%d%d)$&quot;)
      -- Achaea's coordinates seem to be in the 4th quadrant, while Mudlets 0,0 is in the middle of the map. Invert y so going north-south looks alright
      s = makeroom(mmp.previousroom, num, x,y*-1,0)
    end
  end

  -- if we created it, and some data could be filled in
  if mmp.roomexists(num) then
    -- cleanup the room name
    local rootroomname = mmp.cleanroomname(gmcp.Room.Info.name)

    -- match exact case, so mappers alertness' works properly
    if getRoomName(num) ~= rootroomname then
      setRoomName(num, rootroomname)
      unHighlightRoom(num)
      s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. &quot;Updated room name to '&quot;..rootroomname..&quot;'.&quot;
    end

    -- autolink exits
    if not inwilderness() then
      local x = getRoomExits(num) or {}
      -- check for missing exits
      for exit, id in pairs(currentexits) do
        if id == 0 then
          s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. &quot;Can't link to the &quot;..exit..&quot;, it leads to a room with ID 0 (and that's not supported yet).&quot;
        else
          if not x[mmp.anytolong(exit)] then
            if not mmp.roomexists(id) then
              s = makeroom(num, id, getshiftedcoords(mmp.ranytolong(exit), getRoomCoordinates(num)))
            end
            if setExit(num, id, exit) then
              s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. &quot;Added missing exit &quot;..exit..&quot; to &quot;..(getRoomName(id) ~= &quot;&quot; and getRoomName(id) or &quot;''&quot;)..&quot; (&quot;..id..&quot;).&quot;
            else
              s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. string.format(&quot;Failed to link %d withh %d via %s exit for some reason :/&quot;, num, id, exit)
            end
          end
        end
      end
    else
      local function getshiftedcoords(direction, ox, oy, oz)
        if direction == 'n' then return ox, oy+1, oz
        elseif direction == 'e' then return ox+1, oy, oz
        elseif direction == 's' then return ox, oy-1, oz
        elseif direction == 'w' then return ox-1, oy, oz
        elseif direction == 'ne' then return ox+1, oy+1, oz
        elseif direction == 'se' then return ox+1, oy-1, oz
        elseif direction == 'sw' then return ox-1, oy-1, oz
        elseif direction == 'nw' then return ox-1, oy+1, oz
        else error(&quot;getshiftedcoords: direction &quot;..direction..&quot; isn't supported yet.&quot;)
        end
      end

      local x,y,z = getRoomCoordinates(num)
      local currentexits = getRoomExits(num) or {}
      for _, exit in ipairs{'n', 'e', 's', 'w', 'ne', 'se', 'sw', 'nw'} do
        local roomatdir = getRoomsByPosition(getRoomArea(num), getshiftedcoords(exit, x,y,z))

        if roomatdir[0] then
          local id = roomatdir[0]

          if not currentexits[mmp.anytolong(exit)] then
            if setExit(num, id, exit) then
              s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. &quot;Added missing exit &quot;..exit..&quot; to &quot;..(getRoomName(id) ~= &quot;&quot; and getRoomName(id) or &quot;''&quot;)..&quot; (&quot;..id..&quot;).&quot;
            else
              s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. string.format(&quot;Failed to link %d withh %d via %s exit for some reason :/&quot;, num, id, exit)
            end

            local exit = mmp.anytoshort(mmp.ranytolong(exit))
            if setExit(id, num, exit) then
              s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. &quot;Added missing exit &quot;..exit..&quot; to &quot;..(getRoomName(id) ~= &quot;&quot; and getRoomName(id) or &quot;''&quot;)..&quot; (&quot;..id..&quot;).&quot;
            else
              s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. string.format(&quot;Failed to link %d withh %d via %s exit for some reason :/&quot;, num, id, exit)
            end
          end
        end
      end
    end

    -- check for unexisting exits
    if mmp.settings[&quot;autoclear&quot;] then
      for exit, id in pairs(getRoomExits(num)) do
        if not currentexits[mmp.anytoshort(exit)] then
          setExit(num, -1, exit)
          s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. exit .. &quot; exit to &quot;..id..&quot; doesn't actually exist, removed it.&quot;
        end
      end
    end

    -- check for environment update, if we have environments mapped out
    if mmp.envids[gmcp.Room.Info.environment] and mmp.envids[gmcp.Room.Info.environment] ~= getRoomEnv(num) then
      setRoomEnv(num, mmp.envids[gmcp.Room.Info.environment])
      s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. &quot;Updated environment name to &quot;..gmcp.Room.Info.environment..&quot;.&quot;
    end

    -- check indoors status
    local indoors = table.contains(gmcp.Room.Info.details, &quot;indoors&quot;)
    if indoors and getRoomUserData(num, &quot;indoors&quot;) == '' then
      setRoomUserData(num, &quot;indoors&quot;, &quot;y&quot;)
      s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. &quot;Updated room to be indoors.&quot;
    elseif not indoors and getRoomUserData(num, &quot;indoors&quot;) ~= '' then
      setRoomUserData(num, &quot;indoors&quot;, &quot;&quot;)
      s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. &quot;Updated room to be outdoors.&quot;
    end

    -- check for wilderness exits
    if getRoomChar(num) ~= &quot;W&quot; and table.contains(gmcp.Room.Info.details, &quot;wilderness&quot;) then
      setRoomChar(num, &quot;W&quot;)
      s = s .. (#s &gt; 0 and &quot; &quot; or &quot;&quot;) .. &quot;Added the wilderness mark.&quot;
    end
  end

  if #s &gt; 0 then mmp.echo(s); centerview(mmp.currentroom) end
end, function (error)
  mmp.echo(&quot;Oops! Has a small problem (&quot;..error..&quot;).&quot;)
  echo&quot;  &quot; echoLink(&quot;view steps&quot;, 'echo[['..debug.traceback()..']]', &quot;View steps of code that led up to it&quot;)
end)
if not s then mmp.echo(m) end
end
</script>
                    <eventHandlerList>
                        <string>gmcp.Room.Info</string>
                        <string>RoomNum</string>
                    </eventHandlerList>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>mmp_save_options</name>
                    <packageName></packageName>
                    <script>function mmp_save_options()
	local saveTable = {
		locked_areas = mmp.locked,
		options = mmp.settings:getAllOptions()
	}

	if string.char(getMudletHomeDir():byte()) == &quot;/&quot; then _sep = &quot;/&quot; else  _sep = &quot;\\&quot; end
	local saveFile = getMudletHomeDir() ..  _sep .. &quot;mapper.options.lua&quot;

	table.save(saveFile, saveTable)
end</script>
                    <eventHandlerList>
                        <string>sysExitEvent</string>
                    </eventHandlerList>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>mmp_load_options</name>
                    <packageName></packageName>
                    <script>function mmp_load_options()
	local loadTable = mmp_load_locks()

	if loadTable.options then
		for k, v in pairs(loadTable.options) do
			mmp.settings:setOption(k, v, true)
		end
	end
end

function mmp_load_locks()
	local loadTable = {}

	if string.char(getMudletHomeDir():byte()) == &quot;/&quot; then _sep = &quot;/&quot; else  _sep = &quot;\\&quot; end
	local loadFile = getMudletHomeDir() ..  _sep .. &quot;mapper.options.lua&quot;

    if io.exists(loadFile) then table.load(loadFile, loadTable) end

	if loadTable.locked_areas then
		mmp.locked = loadTable.locked_areas
	end

    local lockRoom, getAreaRooms = lockRoom, getAreaRooms
	for area in pairs(mmp.locked) do
		local rooms = getAreaRooms(area)
		for _, roomid in pairs(rooms or {}) do
			lockRoom(roomid, true)
		end
	end

	return loadTable
end</script>
                    <eventHandlerList>
                        <string>sysLoadEvent</string>
                    </eventHandlerList>
                </Script>
            </ScriptGroup>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>Game-specific</name>
                <packageName></packageName>
                <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                <eventHandlerList/>
                <Script isActive="yes" isFolder="no">
                    <name>Achaea</name>
                    <packageName></packageName>
                    <script></script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>register_achaeas_envdata</name>
                        <packageName></packageName>
                        <script>function register_achaeas_envdata(_, game)
  if game ~= &quot;Achaea&quot; then return end

  mmp.envids =
  {
    Catacombs                   = 14,
    [&quot;Constructed underground&quot;] = 2,
    [&quot;Deep Ocean&quot;]              = 24,
    [&quot;Deep Ocean floor&quot;]        = 30,
    [&quot;Dwarven city&quot;]            = 18,
    [&quot;Magma Caves&quot;]             = 31,
    [&quot;Natural underground&quot;]     = 3,
    [&quot;Ocean floor&quot;]             = 34,
    [&quot;Tsol'aa city&quot;]            = 19,
    Beach                       = 5,
    Blighted                    = 29,
    Desert                      = 6,
    Forest                      = 4,
    Freshwater                  = 22,
    Garden                      = 21,
    Grasslands                  = 7,
    Hills                       = 9,
    Jungle                      = 17,
    Mountains                   = 14,
    Nothing                     = 0,
    Ocean                       = 20,
    Path                        = 11,
    Polar                       = 27,
    Reef                        = 25,
    River                       = 10,
    Road                        = 12,
    Ruins                       = 32,
    Sewer                       = 23,
    Skies                       = 10,
    Swamp                       = 15,
    Trees                       = 28,
    Tundra                      = 16,
    Urban                       = 8,
    Valley                      = 13,
    Vessel                      = 36,
    Water                       = 30,
  }

  mmp.waterenvs = {}
  local waterids = { &quot;Freshwater&quot;, &quot;Ocean&quot;, &quot;River&quot;, &quot;Deep Ocean&quot;, &quot;Water&quot;, &quot;Reef&quot;, &quot;Ocean floor&quot; }
  for i = 1, #waterids do mmp.waterenvs[mmp.envids[waterids[i]]] = true end

  mmp.envidsr = {};
  for name, id in pairs(mmp.envids) do mmp.envidsr[id] = name end
end</script>
                        <eventHandlerList>
                            <string>mmp logged in</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>mmapper_achaea_went_outside</name>
                        <packageName></packageName>
                        <script>-- track whenever we need to use wings when we get outside!
function mmapper_achaea_went_outside()
  if not mmp.autowalking or not (mmp.settings.duanathar or mmp.settings.duanatharan) or mmp.game ~= &quot;achaea&quot; or
    (mmp.currentroom == mmp.speedWalkPath[#mmp.speedWalkPath]) or
    not mmp.oncontinent(getRoomArea(mmp.currentroom), &quot;Prime&quot;) then return end

  -- repath, maybe that'll allow us to use wings now.
  local madeduanatharan, madeduanathar

  local function getcmd(word)
    return mmp.settings.removewings and
      [[script:sendAll(&quot;wear wings&quot;, &quot;say *]]..(mmp.settings.winglanguage)..[[ ]]..word..[[&quot;, &quot;remove wings&quot;, false)]]
      or
      [[script:send(&quot;say *]]..(mmp.settings.winglanguage)..[[ ]]..word..[[&quot;, false)]]
  end

    if mmp.settings.duanatharan then
      addSpecialExit(mmp.currentroom, 4882, getcmd(&quot;duanatharan&quot;))
      addSpecialExit(mmp.currentroom, 3885, getcmd(&quot;duanathar&quot;))
      --mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeduanatharan = true
    else
      addSpecialExit(mmp.currentroom, 3885, getcmd(&quot;duanathar&quot;))
      --mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeduanathar = true
    end

  mmp.getPath(mmp.currentroom, mmp.speedWalkPath[#mmp.speedWalkPath]) -- don't need to check return value since that fact shouldnt've changed

  -- if our path didn't change, re-instate it as it was (since the new path starts from this room that we checked at)
  if speedWalkDir[1]:find(&quot;duanathar&quot;, 1, true) then
    speedWalkCounter = 0
    mmp.echo(&quot;We got outside - going to shortcut with wings.&quot;)
    mmp.gotoRoom(mmp.speedWalkPath[#mmp.speedWalkPath])
    mmp.ignore_speedwalking = true
  end

  if madeduanatharan then mmp.clearspecials{4882, 3885} elseif madeduanathar then mmp.clearspecials{3885} end
end</script>
                        <eventHandlerList>
                            <string>mmapper went outside</string>
                        </eventHandlerList>
                    </Script>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>Aetolia</name>
                    <packageName></packageName>
                    <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>register_aetolias_envdata</name>
                        <packageName></packageName>
                        <script>function register_aetolias_envdata(_, game)
  if game ~= &quot;Aetolia&quot; then return end

  mmp.envids =
  {
    [&quot;a bridge&quot;]                = 55,
    [&quot;Airship wreckage&quot;]        = 62,
    [&quot;camp site&quot;]               = 57,
    [&quot;Constructed underground&quot;] = 2,
    [&quot;Deep ocean&quot;]              = 24,
    [&quot;lifeless sands&quot;]          = 54,
    [&quot;logged forest&quot;]           = 56,
    [&quot;Natural underground&quot;]     = 3,
    [&quot;Tsol'aa city&quot;]            = 19,
    [&quot;Underwater city&quot;]         = 28,
    [&quot;within a tree&quot;]           = 36,
    Beach                       = 5,
    Canyon                      = 34,
    Castle                      = 61,
    Cavern                      = 69,
    Chaos                       = 1,
    Crater                      = 37,
    Desert                      = 6,
    Ethereal                    = 67,
    Forest                      = 4,
    Freshwater                  = 22,
    Garden                      = 21,
    Grasslands                  = 7,
    Graveyard                   = 31,
    grotto                      = 70,
    Hills                       = 9,
    Ice                         = 30,
    Jungle                      = 17,
    lava                        = 39,
    Mines                       = 32,
    Mountains                   = 14,
    Ocean                       = 20,
    Onboard                     = 33,
    Path                        = 11,
    Reef                        = 25,
    River                       = 10,
    Road                        = 12,
    Ruins                       = 26,
    Sewer                       = 23,
    Shadows                     = 58,
    Swamp                       = 15,
    Temple                      = 29,
    Tundra                      = 16,
    Urban                       = 8,
    Valley                      = 13,
    Village                     = 27,
  }

  mmp.waterenvs = {}
  local waterids = { &quot;River&quot;, &quot;Freshwater&quot;, &quot;Deep ocean&quot;, &quot;Reef&quot;, &quot;Underwater city&quot; }
  for i = 1, #waterids do mmp.waterenvs[mmp.envids[waterids[i]]] = true end

  mmp.envidsr = {};
  for name, id in pairs(mmp.envids) do mmp.envidsr[id] = name end
end</script>
                        <eventHandlerList>
                            <string>mmp logged in</string>
                        </eventHandlerList>
                    </Script>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>Lusternia</name>
                    <packageName></packageName>
                    <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>register_lusternias_envdata</name>
                        <packageName></packageName>
                        <script>function register_lusternias_envdata(_, game)
  if game ~= &quot;Lusternia&quot; then return end

  mmp.envids =
  {
    [&quot;constructed underground&quot;] = 2,
    [&quot;deep ocean&quot;]              = 24,
    [&quot;natural underground&quot;]     = 3,
    aether                      = 36,
    astral                      = 35,
    beach                       = 5,
    chaos                       = 39,
    clouds                      = 37,
    concordance                 = 38,
    darkness                    = 1,
    desert                      = 6,
    divine                      = 33,
    farmlands                   = 30,
    flesh                       = 18,
    forest                      = 4,
    freshwater                  = 22,
    garden                      = 21,
    grasslands                  = 7,
    hills                       = 9,
    jungle                      = 17,
    mountains                   = 14,
    netherworld                 = 34,
    ocean                       = 20,
    path                        = 11,
    polar                       = 27,
    reef                        = 25,
    river                       = 10,
    road                        = 12,
    ruins                       = 19,
    sewer                       = 23,
    swamp                       = 15,
    trees                       = 28,
    tundra                      = 16,
    urban                       = 8,
    valley                      = 13,
    volcanic                    = 32,
    wasteland                   = 29,
  }

  mmp.waterenvs = {}
  local waterids = { &quot;river&quot;, &quot;ocean&quot;, &quot;freshwater&quot;, &quot;deep ocean&quot; }
  for i = 1, #waterids do mmp.waterenvs[mmp.envids[waterids[i]]] = true end

  mmp.envidsr = {};
  for name, id in pairs(mmp.envids) do mmp.envidsr[id] = name end
end</script>
                        <eventHandlerList>
                            <string>mmp logged in</string>
                        </eventHandlerList>
                    </Script>
                    <Script isActive="yes" isFolder="no">
                        <name>mmapper_lusternia_went_outside</name>
                        <packageName></packageName>
                        <script>function mmapper_lusternia_went_outside()
  -- track whenever we need to use items when we get outside!
  if not mmp.autowalking or not (mmp.settings.medallion or mmp.settings.fingerblade or mmp.settings.blossom or mmp.settings.belt or mmp.settings.cubix or mmp.settings.screwdriver or mmp.settings.wheel or mmp.settings.mud or mmp.settings.snowglobe or mmp.settings.cookie or mmp.settings.head or mmp.settings.icicle or mmp.settings.tibia or mmp.settings.bonecurio or mmp.settings.flowercurio or mmp.settings.torus or mmp.settings.utensilcurio or mmp.settings.fluttercurio or mmp.settings.toolcurio or mmp.settings.facecurio or mmp.settings.toycurio or mmp.settings.mandala or mmp.settings.feathercurio or mmp.settings.figurecurio or mmp.settings.vernalcurio) or mmp.game ~= &quot;lusternia&quot; or
    (mmp.currentroom == mmp.speedWalkPath[#mmp.speedWalkPath]) then return end

  -- repath, maybe that'll allow us to use wings now.
  local mademedallion, madefingerblade, madeblossom, madebelt, madeprism, madecubix, madescrewdriver, madewheel, mademud, madesnowglobe, madehead, madecookie, madeicicle, madetibia, madebonecurio, madeflowercurio, madetorus, madeutensilcurio, madefluttercurio, madetoolcurio, madefacecurio, madetoycurio, madefeathercurio, madefigurecurio, mademandala, madevernalcurio

  local function getcmd(item)
		if item == &quot;snowglobe&quot; then
			return [[script:send(&quot;shake snowglobe&quot;,false)]]
		elseif word == &quot;bonecurio&quot; then
			return [[script:send(&quot;curio collection activate bone&quot;,false)]]
		elseif word == &quot;flowercurio&quot; then
			return [[script:send(&quot;curio collection activate flower&quot;,false)]]
		elseif word == &quot;utensilcurio&quot; then
			return [[script:send(&quot;curio collection activate utensil&quot;,false)]]
		elseif word == &quot;fluttercurio&quot; then
			return [[script:send(&quot;curio collection activate flutter&quot;,false)]]
		elseif word == &quot;toolcurio&quot; then
			return [[script:send(&quot;curio collection activate tool&quot;,false)]]
		elseif word == &quot;facecurio&quot; then
			return [[script:send(&quot;curio collection activate face&quot;,false)]]
		elseif word == &quot;toycurio&quot; then
			return [[script:send(&quot;curio collection activate toy&quot;,false)]]
		elseif word == &quot;feathercurio&quot; then
			return [[script:send(&quot;curio collection activate feather&quot;,false)]]
		elseif word == &quot;figurecurio&quot; then
			return [[script:send(&quot;curio collection activate figure&quot;,false)]]
		elseif word == &quot;vernalcurio&quot; then
			return [[script:send(&quot;curio collection activate vernal&quot;,false)]]
		else
			return [[script:send(&quot;touch ]]..(item)..[[&quot;, false)]]
		end
  end

    if mmp.settings.medallion and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 13367, getcmd(&quot;medallion&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      mademedallion = true
	end
	if mmp.settings.fingerblade and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 18777, getcmd(&quot;fingerblade&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefingerblade = true
	end
	if mmp.settings.blossom and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 18730, getcmd(&quot;blossom&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeblossom = true
	end
	if mmp.settings.mandala and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 19563, getcmd(&quot;mandala&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      mademandala = true
	end
	if mmp.settings.belt and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 19627, getcmd(&quot;belt&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madebelt = true
	end
	if mmp.settings.cubix and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 6184, getcmd(&quot;cubix&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madecubix = true
	end
	if mmp.settings.screwdriver and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Facility&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;screwdriver&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 10185, getcmd(&quot;screwdriver&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madescrewdriver = true
	end
	if mmp.settings.wheel and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Dramube Triangle&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;wheel&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 10509, getcmd(&quot;wheel&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madewheel = true
	end
	if mmp.settings.mud and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;Mucklemarsh&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;mud&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 9985, getcmd(&quot;mud&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      mademud = true
	end
	if mmp.settings.snowglobe and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Great Spirit Tree&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;snowglobe&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 10992, getcmd(&quot;snowglobe&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madesnowglobe = true
	end
	if mmp.settings.cookie and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;Crumkindivia&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;cookie&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 9888, getcmd(&quot;cookie&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madecookie = true
	end
	if mmp.settings.head and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Bubble of Bottledowns&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;doll&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 11811, getcmd(&quot;doll&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madedoll = true
	end
	if mmp.settings.icicle and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;Frosticia&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;icicle&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 10457, getcmd(&quot;icicle&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeicicle = true
	end
	if mmp.settings.tibia and mmp.usebubblix() then
		if gmcp.Room.Info.area == &quot;the Cankermore Battlegrounds&quot; then
      		addSpecialExit(mmp.currentroom, 6831, getcmd(&quot;tibia&quot;))
		elseif not table.contains(gmcp.Room.Info.details, &quot;an Aetherbubble&quot;) then
      		addSpecialExit(mmp.currentroom, 11600, getcmd(&quot;tibia&quot;))
		end
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madetibia = true
	end
   if mmp.settings.bonecurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28613, getcmd(&quot;bonecurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madebonecurio = true
	end
	if mmp.settings.flowercurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28624, getcmd(&quot;flowercurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeflowercurio = true
	end
	if mmp.settings.torus and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 25848, getcmd(&quot;torus&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madetorus = true
	end
	if mmp.settings.utensilcurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28617, getcmd(&quot;utensilcurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madeutensilcurio = true
	end
	if mmp.settings.fluttercurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28622, getcmd(&quot;fluttercurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefluttercurio = true
	end
	if mmp.settings.toolcurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28586, getcmd(&quot;toolcurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madetoolcurio = true
	end
	if mmp.settings.facecurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28433, getcmd(&quot;facecurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefacecurio = true
	end
	if mmp.settings.toycurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 21548, getcmd(&quot;toycurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madetoycurio = true
	end
	if mmp.settings.feathercurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28591, getcmd(&quot;feathercurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefeathercurio = true
	end
	if mmp.settings.figurecurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 28312, getcmd(&quot;figurecurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madefigurecurio = true
	end
   if mmp.settings.prism and mmp.useprism() then
		addSpecialExit(mmp.currentroom, 6182, getcmd(&quot;prism&quot;))
		mmp.clearpathcache()
		madeprism = true
	end
	if mmp.settings.vernalcurio and mmp.usebix() then
      addSpecialExit(mmp.currentroom, 29908, getcmd(&quot;vernalcurio&quot;))
      mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way
      madevernalcurio = true
	end

  mmp.getPath(mmp.currentroom, mmp.speedWalkPath[#mmp.speedWalkPath]) -- don't need to check return value since that fact shouldnt've changed

  -- if our path didn't change, re-instate it as it was (since the new path starts from this room that we checked at)
  if speedWalkDir[1]:find(&quot;medallion&quot;,1,true) or speedWalkDir[1]:find(&quot;fingerblade&quot;,1,true) or speedWalkDir[1]:find(&quot;blossom&quot;,1,true) or speedWalkDir[1]:find(&quot;belt&quot;) or speedWalkDir[1]:find(&quot;cubix&quot;) or speedWalkDir[1]:find(&quot;bonecurio&quot;,1,true) or speedWalkDir[1]:find(&quot;flowercurio&quot;,1,true) or speedWalkDir[1]:find(&quot;torus&quot;,1,true) or speedWalkDir[1]:find(&quot;utensilcurio&quot;,1,true) or speedWalkDir[1]:find(&quot;fluttercurio&quot;,1,true) or speedWalkDir[1]:find(&quot;toolcurio&quot;,1,true) or speedWalkDir[1]:find(&quot;facecurio&quot;,1,true) or speedWalkDir[1]:find(&quot;toycurio&quot;,1,true) or speedWalkDir[1]:find(&quot;feathercurio&quot;,1,true) or speedWalkDir[1]:find(&quot;mandala&quot;,1,true) or speedWalkDir[1]:find(&quot;figurecurio&quot;,1,true) or speedWalkDir[1]:find(&quot;prism&quot;,1,true) or speedWalkDir[1]:find(&quot;vernalcurio&quot;,1,true) then
    speedWalkCounter = 0
    mmp.echo(&quot;We got outside - going to shortcut with 'bix device.&quot;)
    mmp.gotoRoom(mmp.speedWalkPath[#mmp.speedWalkPath])
    mmp.ignore_speedwalking = true
  end

  if mademedallion then mmp.clearspecials{13367} end
  if madefingerblade then mmp.clearspecials{18777} end
  if madeblossom then mmp.clearspecials{18730} end
  if madebelt then mmp.clearspecials{19627} end
  if madecubix then mmp.clearspecials{6184} end
  if madescrewdriver then mmp.clearspecials{6831, 10185} end
  if madewheel then mmp.clearspecials{6831, 10509} end
  if mademud then mmp.clearspecials{6831, 9985} end
  if madesnowglobe then mmp.clearspecials{6831, 10992} end
  if madecookie then mmp.clearspecials{6831, 9888} end
  if madehead then mmp.clearspecials{6831, 11811} end
  if madeicicle then mmp.clearspecials{6831, 10457} end
  if madetibia then mmp.clearspecials{6831, 11600} end
  if madebonecurio then mmp.clearspecials{28613} end
  if madeflowercurio then mmp.clearspecials{28624} end
  if madetorus then mmp.clearspecials{25848} end
  if madeutensilcurio then mmp.clearspecials{28617} end
  if madefluttercurio then mmp.clearspecials{28622} end
  if madetoolcurio then mmp.clearspecials{28586} end
  if madefacecurio then mmp.clearspecials{28433} end
  if madetoycurio then mmp.clearspecials{21548} end
  if madefeathercurio then mmp.clearspecials{28591} end
  if madefigurecurio then mmp.clearspecials{28312} end
  if madeprism then mmp.clearspecials{6182} end
  if madevernalcurio then mmp.clearspecials{29908} end
  if mademandala then mmp.clearspecials{19563} end
end
</script>
                        <eventHandlerList>
                            <string>mmapper went outside</string>
                        </eventHandlerList>
                    </Script>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>Imperian</name>
                    <packageName></packageName>
                    <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>register_imperians_envdata</name>
                        <packageName></packageName>
                        <script>function register_imperians_envdata(_, game)
  if game ~= &quot;Imperian&quot; then return end
  mmp.envids =
  {
    [&quot;a sheltered dell&quot;]        = 68,
    [&quot;Arcane Temple&quot;]           = 66,
    [&quot;Blackened Lands&quot;]         = 58,
    [&quot;Blackstone Dungeon&quot;]      = 65,
    [&quot;Blackstone Keep&quot;]         = 62,
    [&quot;Constructed underground&quot;] = 2,
    [&quot;Dark Forest&quot;]             = 1,
    [&quot;Deep Ocean&quot;]              = 24,
    [&quot;Desert Ruins&quot;]            = 38,
    [&quot;Dwarven city&quot;]            = 18,
    [&quot;Forestal Council&quot;]        = 44,
    [&quot;Frozen Bog&quot;]              = 76,
    [&quot;Lake of Fire&quot;]            = 56,
    [&quot;Natural underground&quot;]     = 3,
    [&quot;Noble Bar&quot;]               = 53,
    [&quot;Noble Chambers&quot;]          = 51,
    [&quot;Rocky Shore&quot;]             = 77,
    [&quot;Sylayan city&quot;]            = 19,
    [&quot;Tainted Underground&quot;]     = 35,
    [&quot;Tainted Water&quot;]           = 39,
    [&quot;Underground Lake&quot;]        = 36,
    [&quot;Vast Ocean&quot;]              = 26,
    [&quot;Wetlands Village&quot;]        = 64,
    [&quot;within a tent&quot;]           = 69,
    Academia                    = 42,
    Acropolis                   = 33,
    Beach                       = 5,
    Blighted                    = 74,
    bog                         = 73,
    Catacombs                   = 63,
    Church                      = 54,
    Cliffs                      = 67,
    Crags                       = 32,
    Desert                      = 6,
    Docks                       = 30,
    Farmland                    = 41,
    Forest                      = 4,
    Freshwater                  = 22,
    Garden                      = 21,
    garrison                    = 71,
    Grasslands                  = 7,
    Graveyard                   = 46,
    Hills                       = 9,
    Jungle                      = 17,
    Mountains                   = 14,
    Nobility                    = 50,
    Ocean                       = 20,
    Path                        = 11,
    Polar                       = 27,
    Pond                        = 49,
    pyramid                     = 72,
    quarry                      = 70,
    River                       = 10,
    Road                        = 12,
    Ruins                       = 37,
    Scrublands                  = 78,
    Sewer                       = 23,
    Swamp                       = 15,
    Temple                      = 57,
    Tower                       = 79,
    transportation              = 48,
    Tundra                      = 16,
    Underworld                  = 28,
    Urban                       = 8,
    Valley                      = 13,
    Villa                       = 75,
    Village                     = 47,
    Village                     = 55,
    Volcano                     = 59,
    Warrens                     = 31,
  }

  mmp.waterenvs = {}
  local waterids = { &quot;River&quot;, &quot;Ocean&quot;, &quot;Deep Ocean&quot;, &quot;Vast Ocean&quot;, &quot;Underground Lake&quot;, &quot;Tainted Water&quot;, &quot;Lake of Fire&quot; }
  for i = 1, #waterids do mmp.waterenvs[mmp.envids[waterids[i]]] = true end

  mmp.envidsr = {};
  for name, id in pairs(mmp.envids) do mmp.envidsr[id] = name end
end</script>
                        <eventHandlerList>
                            <string>mmp logged in</string>
                        </eventHandlerList>
                    </Script>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>Midmekia Online</name>
                    <packageName></packageName>
                    <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>register_midkemias_envdata</name>
                        <packageName></packageName>
                        <script>function register_midkemias_envdata(_, game)
  if game ~= &quot;Midkemia Online&quot; then return end
  mmp.envids =
  {
    [&quot;constructed underground&quot;] = 2,
    [&quot;fresh water&quot;]             = 20,
    [&quot;natural underground&quot;]     = 3,
    [&quot;shores of Lake Moraelin&quot;] = 33,
    beach                       = 5,
    canyon                      = 29,
    farmlands                   = 31,
    forest                      = 4,
    garden                      = 19,
    grasslands                  = 7,
    hills                       = 9,
    ice                         = 27,
    mines                       = 28,
    mountains                   = 14,
    ocean                       = 18,
    path                        = 11,
    plains                      = 30,
    reef                        = 23,
    river                       = 10,
    road                        = 12,
    ruins                       = 24,
    sewers                      = 21,
    swamp                       = 15,
    temple                      = 26,
    tundra                      = 16,
    urban                       = 8,
    valley                      = 13,
    village                     = 25,
    volcanic                    = 32,
  }

  mmp.waterenvs = {}
  local waterids = { &quot;river&quot;, &quot;ocean&quot;, &quot;fresh water&quot;, &quot;reef&quot; }
  for i = 1, #waterids do mmp.waterenvs[mmp.envids[waterids[i]]] = true end

  mmp.envidsr = {};
  for name, id in pairs(mmp.envids) do mmp.envidsr[id] = name end
end</script>
                        <eventHandlerList>
                            <string>mmp logged in</string>
                        </eventHandlerList>
                    </Script>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>Lithmeria</name>
                    <packageName></packageName>
                    <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>register_lithmerias_envdata</name>
                        <packageName></packageName>
                        <script>function register_lithmerias_envdata(_, game)
  if game ~= &quot;Lithmeria&quot; then return end

  mmp.envids =
  {
    [&quot;deep water&quot;] = 4,
    beach          = 11,
    bridge         = 6,
    building       = 13,
    cliffs         = 1,
    desert         = 11,
    forest         = 2,
    highway        = 6,
    jungle         = 10,
    mountain       = 1,
    ocean          = 4,
    path           = 6,
    plains         = 3,
    river          = 4,
    road           = 6,
    shallowwater   = 4,
    swamp          = 2,
    tundra         = 7,
    underground    = 8,
    urban          = 8,
    water          = 4,
  }

  for name, number in pairs(mmp.envids) do
    mmp.envids[name] = number+256 -- adjust for in-built colors
  end

  mmp.waterenvs = {}
  local waterids = { &quot;shallowwater&quot;, &quot;river&quot;, &quot;water&quot;, &quot;deep water&quot;, &quot;ocean&quot; }
  for i = 1, #waterids do mmp.waterenvs[mmp.envids[waterids[i]]] = true end

  mmp.envidsr = {};
  for name, id in pairs(mmp.envids) do mmp.envidsr[id] = name end
end</script>
                        <eventHandlerList>
                            <string>mmp logged in</string>
                        </eventHandlerList>
                    </Script>
                </Script>
            </ScriptGroup>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>Test / one-time things</name>
                <packageName></packageName>
                <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                <eventHandlerList/>
                <Script isActive="no" isFolder="no">
                    <name>mmp_grabenvid</name>
                    <packageName></packageName>
                    <script>function mmp_grabenvid()
  if not mmp.envids[gmcp.Room.Info.environment] then
    mmp.envids[gmcp.Room.Info.environment] = getRoomEnv(mmp.currentroom)
    mmp.echo(string.format(&quot;Remembered environment %s as %d&quot;, gmcp.Room.Info.environment, mmp.envids[gmcp.Room.Info.environment]))
  end
end

function mmp.getMaxID()
  local roomIDs = {}
  for area, _ in pairs(mmp.areatabler) do
    local ok, t = pcall(getAreaRooms, area)
    if ok then
      for _, id in pairs(t or {}) do
        roomIDs[id] = true
      end
    end
  end

  return table.maxn(roomIDs)
end

function mmp.getUnknownEnvs()
  local maxid, missing = mmp.getMaxID(), {}

  for i = 1, maxid do
    if mmp.roomexists(i) then
      if not table.contains(mmp.envids, getRoomEnv(i)) and not table.contains(missing, getRoomEnv(i)) then
        mmp.echo(string.format(&quot;Missing env %d from room %d ('%s' in '%s')&quot;,
          tostring(getRoomEnv(i)), i, tostring(getRoomName(i)), tostring(mmp.areatabler[getRoomArea(i)])))
        missing[i] = getRoomEnv(i)
      end
    end
  end
end</script>
                    <eventHandlerList>
                        <string>gmcp.Room.Info</string>
                    </eventHandlerList>
                </Script>
            </ScriptGroup>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>Check for map updates</name>
                <packageName></packageName>
                <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                <eventHandlerList/>
                <Script isActive="yes" isFolder="no">
                    <name>mmp_downloaded_file</name>
                    <packageName></packageName>
                    <script>function mmp_downloaded_file(_, filename)
  if not io.exists(filename) then return end

  -- workaround for https://bugs.launchpad.net/mudlet/+bug/1092769
--  if mmp[&quot;downloaded_file_block_&quot;..filename] then return end
--  mmp[&quot;downloaded_file_block_&quot;..filename] = tempTimer(5, [[mmp[&quot;downloaded_file_block_]]..filename..[[&quot;] = nil]])

  if filename == tostring(mmp.mapperfile) then   -- mapper script version
	mmp.checkingupdates = false

    local f, s = io.open(filename)
    if f then s = f:read(&quot;*l&quot;):trim(); io.close(f) end

    if s ~= tostring(mmp.version) then
      mmp.newmapperversion = s
      mmp.retrievechangelog()
    end

  elseif filename == tostring(mmp.changelogfile) then   -- changelog for the mapper script
	mmp.checkingupdates = false

    local f, s = io.open(filename)
    if f then s = f:read(&quot;*a&quot;); io.close(f) end

    local changelog = string.match(s, [[&lt;div class=&quot;information&quot;&gt;(.-)&lt;/div]])
    changelog = string.gsub(changelog, &quot;Â&quot;, '')
    changelog = string.gsub(changelog, &quot;&lt;br/&gt;&quot;, '\n')
    changelog = string.gsub(changelog, &quot;&amp;#39;&quot;, &quot;'&quot;)
    --mmp.echon(&quot;&quot;)
    --echoLink(&quot;The mapper script was updated! Would you like to download the update? Click here if so.&quot;, &quot;mmp.downloadmapperscript()&quot;, &quot;Changelog for the latest (&quot;..tostring(mmp.version)..&quot; -&gt; &quot;..tostring(mmp.newmapperversion)..&quot;) update:\n&quot;..changelog, true)

  elseif filename == mmp.crowdchangelogfile then   -- changelog for the crowdmap
    local f, s = io.open(filename)
    if f then s = f:read(&quot;*a&quot;); io.close(f) end

    -- make environment
    local env = {} -- add functions you know are safe here

    -- run code under environment [Lua 5.1]
    local function run(untrusted_code)
      if untrusted_code:byte(1) == 27 then return nil, &quot;binary bytecode prohibited&quot; end
      local untrusted_function, message = loadstring(untrusted_code)
      if not untrusted_function then return nil, message end
      setfenv(untrusted_function, env)
      return pcall(untrusted_function)
    end

    run(s)

	mmp.crowdchangelog = env.changelog

    mmp.echon(&quot;The crowdmap map was &quot;)
    setUnderline(true)
    echoLink(&quot;updated&quot;, '', &quot;New version: &quot;..tostring(mmp.newversion)..&quot;, previous version: &quot;..(mmp.oldversion or &quot;(none)&quot;), true)
    setUnderline(false)
    echo(&quot; (&quot;)
    setUnderline(true)
    echoLink(&quot;see full changelog&quot;, &quot;mmp.showcrowdchangelog()&quot;, 'View the full changelog for mappers', true)
    setUnderline(false)
    echo(&quot;). Latest improvement is: &quot;..tostring(mmp.crowdchangelog[#mmp.crowdchangelog])..&quot;.\n&quot;)

    mmp.downloadcrowdmap(mmp.newversion)

  elseif filename == mmp.crowdmapfile then    -- crowdmap map
    mmp.echo(&quot;Map downloaded, loading it in...&quot;)

    local tmp = getRoomUserData(1, &quot;gotoMapping&quot;)
    local oldmaptable = {}

    if tmp ~= &quot;&quot; then
      oldmaptable = yajl.to_value(tmp)
    end

    local ok = loadMap(filename)

    if ok then
      local wc = mmp.lockWormholes()
	  local ws = mmp.lockSewers()
      mmp.lockPebble()
      if mmp.game == &quot;achaea&quot; and wc == 0 and ws == 0 then -- in achaea, using crowdmap, if we didn't get any special exits - it means Mudlet needs to be updated
        mmp.echo(&quot;Sorry, it seems your Mudlet isn't compatible with the new crowdmap format - and the map cannot be loaded fully. Please update your Mudlet:\n  http://www.mudlet.org/download/&quot;)
        return
      end

      if mmp.settings.waterwalk then mmp.enableWaterWalk() else mmp.disableWaterWalk() end

      mmp.echo(&quot;Map loaded fine - enjoy!&quot;)

      tmp = getRoomUserData(1, &quot;gotoMapping&quot;)
      local newmaptable = {}

      if tmp ~= &quot;&quot; then
        newmaptable = yajl.to_value(tmp)
      end

      for k,v in pairs(oldmaptable) do newmaptable[k] = v end
      setRoomUserData(1, &quot;gotoMapping&quot;, yajl.to_string(newmaptable))
      mmp.echo(&quot;Marks from the old map migrated successfully.&quot;)

      raiseEvent(&quot;mmapper updated map&quot;)
    else
      mmp.echon(&quot;Map failed to load - you need to have the mapper open. Please open it, and then &quot;)
      echoLink(&quot;click here&quot;, [[
        local tmp = getRoomUserData(1, &quot;gotoMapping&quot;)
        local oldmaptable = {}
        if tmp ~= &quot;&quot; then
          oldmaptable = yajl.to_value(tmp)
        end

        local ok = loadMap(']]..filename..[[')
        if ok then
        local wc = mmp.lockWormholes()
	    local ws = mmp.lockSewers()
        mmp.lockPebble()
        if mmp.game == &quot;achaea&quot; and wc == 0 and ws == 0 then -- in achaea, using crowdmap, if we didn't get any special exits - it means Mudlet needs to be updated
          mmp.echo(&quot;Sorry, it seems your Mudlet isn't compatible with the new crowdmap format - and the map cannot be loaded fully. Please update your Mudlet:\n  http://www.mudlet.org/download/&quot;)
          return
        end

        if mmp.settings.waterwalk then mmp.enableWaterWalk() else mmp.disableWaterWalk() end

        mmp.echo(&quot;Map loaded successfully!&quot;)

          tmp = getRoomUserData(1, &quot;gotoMapping&quot;)
          local newmaptable = {}
          if tmp ~= &quot;&quot; then
            newmaptable = yajl.to_value(tmp)
          end
          for k,v in pairs(oldmaptable) do newmaptable[k] = v end
          setRoomUserData(1, &quot;gotoMapping&quot;, yajl.to_string(newmaptable))
          mmp.echo(&quot;Marks from the old map migrated successfully.&quot;)
          raiseEvent(&quot;mmapper updated map&quot;)
        else mmp.echo(&quot;Nope, didn't work. Open the map and try again?&quot;) end
      ]],
      &quot;Click here to try loading the map again&quot;)
      echo(&quot; to try loading it in again.\n&quot;)
    end

  elseif filename == tostring(mmp.downloadedscript) then   -- new mapper script xml downloaded
	mmp.checkingupdates = false

    mmp.echo(&quot;Your mapper script was downloaded to '&quot;..filename..&quot;' - uninstall the current copy and install the new one now!&quot;)

  elseif filename == tostring(mmp.mapfile) then   -- map version #, either IRE's or crowd
	mmp.checkingupdates = false

    local function needupdate(currentmd5, oldmd5)
      if not mmp.settings.crowdmap then
        mmp.echon(&quot;The games map was &quot;)
        echoLink(&quot;updated&quot;, '', &quot;New MD5: &quot;..tostring(currentmd5)..&quot;, previous MD5: &quot;..(oldmd5 or &quot;(none)&quot;), true)
        echo(&quot; - you should update yours! Go to Settings -&gt; Mapper tab and click on the button there. Once you've updated, &quot;)
        echoLink(&quot;click here&quot;, &quot;mmp.updatedmap('&quot;..currentmd5..&quot;')&quot;, &quot;Click here to quiet the update reminder&quot;)
        echo(&quot; to remove the reminder.&quot;)
      else
        mmp.newversion, mmp.oldversion = currentmd5, oldmd5
        mmp.retrievecrowdchangelog()
      end
    end

    local f, s = io.open(filename)
    if f then s = f:read(&quot;*a&quot;); io.close(f) end
    local currentmd5 = string.match(s, &quot;([a-z0-9]+)  map%.xml&quot;)

    -- using crowdsourced map
    if not currentmd5 then
      currentmd5 = s:trim()
    end

	os.remove(filename)

    -- never checked yet?
    if not io.exists(getMudletHomeDir()..&quot;/map downloads/current&quot;) then needupdate(currentmd5) return end

    -- otherwise read old file and check
    local f, s = io.open(getMudletHomeDir()..&quot;/map downloads/current&quot;)
    if f then s = f:read(&quot;*a&quot;); io.close(f) end

    if s ~= currentmd5 then needupdate(currentmd5, s) end
  end
end</script>
                    <eventHandlerList>
                        <string>sysDownloadDone</string>
                    </eventHandlerList>
                </Script>
                <Script isActive="yes" isFolder="no">
                    <name>Check for updates</name>
                    <packageName></packageName>
                    <script>local downloadfolder = getMudletHomeDir()..&quot;/map downloads/&quot;
local whereisit

-- this should get called at start and every hour after that
function mmp.checkforupdate()
  if not mmp.game or mmp.checkingupdates then return end

  local game = (mmp.game == &quot;mko&quot;) and &quot;midkemiaonline&quot; or mmp.game
  mmp.mapfile = downloadfolder..&quot;MD5&quot;
  mmp.mapperfile = downloadfolder..&quot;mapper&quot;

  if not downloadFile then
    mmp.echo(&quot;Your version of Mudlet doesn't support downloading files - please upgrade to 2.0+&quot;)
  else
    if not lfs.attributes(downloadfolder) then
      if lfs and lfs.mkdir then
         local t,s = lfs.mkdir(downloadfolder)
         if not t and s ~= &quot;File exists&quot; then mmp.echo(&quot;Couldn't make the '&quot;..downloadfolder..&quot;' folder; &quot;..s) return end
      else
        mmp.echo(&quot;Sorry, but you need LuaFileSystem (lfs) installed, or have the '&quot;..downloadfolder..&quot;' folder exist.&quot;)
        return
      end
    end

    if mmp.settings.crowdmap and mmp.game and mmp.game == &quot;achaea&quot; then
      downloadFile(mmp.mapfile, &quot;http://dl.dropboxusercontent.com/s/iqk5bf905iox0k9/version.txt?dl=1&quot;)
    elseif mmp.settings.updatemap then
      downloadFile(mmp.mapfile, &quot;http://www.&quot;..game..&quot;.com/maps/MD5SUM&quot;)
    end

    downloadFile(mmp.mapperfile, &quot;http://bazaar.launchpad.net/~mudlet-makers/mudlet/mapper-lua/download/head:/version-20110910005237-2917fpevgi4koxqk-1/version&quot;)
	mmp.checkingupdates = true
  end
end

-- called by the user when the map is updated to register the fact that it was
function mmp.updatedmap(currentmd5)
  assert(currentmd5, &quot;need md5 sum to write to file&quot;)

  local f,err = io.open(downloadfolder..&quot;current&quot;, &quot;w&quot;)
  if not f then return mmp.echo(&quot;Couldn't write to the update file, because: &quot;..err) end
  f:write(currentmd5)
  f:close()

  local t = {&quot;Go you for updating!&quot;, &quot;Thanks for updating the map!&quot;, &quot;Alright, map updated!&quot;}
  mmp.echo(t[math.random(1, #t)])
end

-- downloads the latest changelog for the mapper if it was updated
function mmp.retrievechangelog()
  mmp.changelogfile = downloadfolder..&quot;changelog&quot;

  downloadFile(mmp.changelogfile, &quot;http://bazaar.launchpad.net/~mudlet-makers/mudlet/mapper-lua/files&quot;)
end

function mmp.retrievecrowdchangelog()
  mmp.crowdchangelogfile = downloadfolder..&quot;crowdchangelogfile&quot;

  downloadFile(mmp.crowdchangelogfile, &quot;http://dl.dropboxusercontent.com/s/pu51s482csta8zj/changelog.txt?dl=1&quot;)
end

-- downloads the public crowdsources map!
function mmp.downloadmapperscript()
  local downloadlocationfile = downloadfolder..&quot;savepath&quot;
  local downloadlocation
  local exists = lfs.attributes

  -- somewhat complicated thing to nicely deal with all scenarios.
  if not exists(downloadlocationfile) then
    downloadlocation = whereisit()
    if not downloadlocation then return end
  end

  if not downloadlocation then
    local f, s = io.open(downloadlocationfile)
    if f then downloadlocation = f:read(&quot;*a&quot;); io.close(f) end


    if not exists(downloadlocation) then
      downloadlocation = whereisit()
      if not downloadlocation or not exists(downloadlocation) then return end
    end
  end


  mmp.downloadedscript = downloadlocation..&quot;/mudlet-mapper.xml&quot;
  downloadFile(mmp.downloadedscript, &quot;http://bazaar.launchpad.net/~mudlet-makers/mudlet/mapper-lua/download/head:/mudletmapper.xml-20100916000616-71kbxngi7b3nybta-1/mudlet-mapper.xml&quot;)

  local f,err = io.open(downloadlocationfile, &quot;w&quot;)
  if not f then return mmp.echo(&quot;Couldn't write to the location file, because: &quot;..err) end
  f:write(downloadlocation)
  f:close()
  mmp.echo(&quot;Okay, downloading the mapper script...&quot;)
end

function mmp.downloadcrowdmap(newversion)
  mmp.crowdmapfile = downloadfolder..&quot;crowdmap&quot;

  local f,err = io.open(downloadfolder..&quot;current&quot;, &quot;w&quot;)
  if not f then return mmp.echo(&quot;Couldn't write to the update file, because: &quot;..err) end
  f:write(newversion)
  f:close()


  downloadFile(mmp.crowdmapfile, &quot;http://dl.dropboxusercontent.com/s/sbj9f1s1l4h7otg/map?dl=1&quot;)

  mmp.echo(&quot;Downloading the latest crowdmap...&quot;)
end

function mmp.showcrowdchangelog()
  mmp.echo(&quot;Public map changelog:&quot;)

  if not mmp.crowdchangelog then mmp.echo(&quot;(none yet)&quot;) return end

  for k,v in ipairs(mmp.crowdchangelog) do
    cecho(string.format(&quot;  %s) %s\n&quot;, k,v:gsub(&quot;\t&quot;, &quot;     &quot;)))
  end
end

whereisit = function()
  local path = invokeFileDialog(false, &quot;Where should we save the file? Select a folder and click Open&quot;)

  if path == &quot;&quot; then return nil else return path end
end</script>
                    <eventHandlerList/>
                    <Script isActive="yes" isFolder="no">
                        <name>mmp_checkupdatestart</name>
                        <packageName></packageName>
                        <script>function mmp_checkupdatestart(...)
  if mmp.checkforupdatetimer then killTimer(mmp.checkforupdatetimer) end
  mmp.checkforupdatetimer = tempTimer(math.random(3, 10), mmp.checkforupdate)
end

function mmp.changeUpdateMap()
  if mmp.settings.updatemap then
    mmp.echo(&quot;Will check for new map updates from your MUD.&quot;)
    enableTimer&quot;Check for updates periodically&quot;
    mmp_checkupdatestart()
  else
    mmp.echo(&quot;Won't check for new map updates from your MUD.&quot;)
    disableTimer&quot;Check for updates periodically&quot;
	if mmp.checkforupdatetimer then killTimer(&quot;mmp.checkforupdatetimer&quot;) end
  end
end</script>
                        <eventHandlerList>
                            <string>mmp logged in</string>
                        </eventHandlerList>
                    </Script>
                </Script>
                <Script isActive="no" isFolder="no">
                    <name>mmp_see_dl_errors</name>
                    <packageName></packageName>
                    <script>-- this should be off by default
function mmp_see_dl_errors(...)
  display{...}
end</script>
                    <eventHandlerList>
                        <string>sysDownloadError</string>
                    </eventHandlerList>
                </Script>
            </ScriptGroup>
            <Script isActive="yes" isFolder="no">
                <name>Initialize</name>
                <packageName></packageName>
                <script>mmp.startup()</script>
                <eventHandlerList/>
                <Script isActive="yes" isFolder="no">
                    <name>mmp.mapdata_changed</name>
                    <packageName></packageName>
                    <script>-- aggregates map load and such events into one
function mmp.mapdata_changed()
  raiseEvent(&quot;mmapper map reloaded&quot;)
end</script>
                    <eventHandlerList>
                        <string>sysMapLoad</string>
                        <string>sys2DMapLoad</string>
                        <string>sys3DMapLoad</string>
                        <string>sysMapDownloadEvent</string>
                    </eventHandlerList>
                </Script>
            </Script>
        </ScriptGroup>
        <ScriptGroup isActive="yes" isFolder="yes">
            <name>personal</name>
            <packageName></packageName>
            <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
            <eventHandlerList/>
            <ScriptGroup isActive="yes" isFolder="yes">
                <name>registered priorities</name>
                <packageName></packageName>
                <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                <eventHandlerList/>
                <Script isActive="no" isFolder="no">
                    <name>combat</name>
                    <packageName></packageName>
                    <script>registered = registered or {}
registered.prios = registered.prios or {}

registered.prios.carnifex = {
	one = {
		affliction = {
			&quot;crushed_chest&quot;,
			&quot;fitness&quot;,
			&quot;voyria&quot;,
			&quot;peace&quot;,
			&quot;paresis&quot;,
			&quot;clumsiness&quot;,
			&quot;weariness&quot;,
			&quot;asthma&quot;,
			&quot;slickness&quot;,
			&quot;anorexia&quot;,
			&quot;stupidity&quot;,
			&quot;disfigurement&quot;,
			&quot;crushed_kneecaps&quot;,
			&quot;left_leg_broken&quot;,
			&quot;right_leg_broken&quot;,
			&quot;cracked_ribs&quot;,
			&quot;right_arm_broken&quot;,
			&quot;left_arm_broken&quot;,
			&quot;crushed_elbows&quot;,
			&quot;deafness&quot;,
			&quot;sensitivity&quot;,
			&quot;vomiting&quot;,
			&quot;sunlight_allergy&quot;,
			&quot;haemophilia&quot;,
			&quot;blindness&quot;
		},
		limb = {}
	},
	two = {},
	three = {},
	four = {},
	five = {},
	six = {}
}</script>
                    <eventHandlerList/>
                </Script>
                <Script isActive="no" isFolder="no">
                    <name>curing</name>
                    <packageName></packageName>
                    <script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
                    <eventHandlerList/>
                </Script>
            </ScriptGroup>
        </ScriptGroup>
    </ScriptPackage>
    <KeyPackage>
        <KeyGroup isActive="yes" isFolder="yes">
            <name>oasis</name>
            <packageName></packageName>
            <script></script>
            <command></command>
            <keyCode>-1</keyCode>
            <keyModifier>-1</keyModifier>
            <KeyGroup isActive="yes" isFolder="yes">
                <name>f keys</name>
                <packageName></packageName>
                <script></script>
                <command></command>
                <keyCode>-1</keyCode>
                <keyModifier>-1</keyModifier>
                <Key isActive="yes" isFolder="no">
                    <name>no modifiers + F1</name>
                    <packageName></packageName>
                    <script>e.echo(&quot;&lt;deep_sky_blue&gt;Curing priority &lt;grey&gt;macro profile loaded.&quot;, false, true)
o.macro_profile = 1</script>
                    <command></command>
                    <keyCode>16777264</keyCode>
                    <keyModifier>0</keyModifier>
                    <Key isActive="yes" isFolder="no">
                        <name>shift + F1</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777264</keyCode>
                        <keyModifier>33554432</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>control + F1</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777264</keyCode>
                        <keyModifier>67108864</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>alt + F1</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777264</keyCode>
                        <keyModifier>134217728</keyModifier>
                    </Key>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>no modifiers + F2</name>
                    <packageName></packageName>
                    <script>e.echo(&quot;&lt;deep_sky_blue&gt;Curing toggles &lt;grey&gt;macro profile loaded.&quot;, false, true)
o.macro_profile = 2</script>
                    <command></command>
                    <keyCode>16777265</keyCode>
                    <keyModifier>0</keyModifier>
                    <Key isActive="yes" isFolder="no">
                        <name>shift + F2</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777265</keyCode>
                        <keyModifier>33554432</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>control + F2</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777265</keyCode>
                        <keyModifier>67108864</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>alt + F2</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777265</keyCode>
                        <keyModifier>134217728</keyModifier>
                    </Key>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>no modifiers + F3</name>
                    <packageName></packageName>
                    <script>e.echo(&quot;&lt;orange_red&gt;Killswitch priority &lt;grey&gt;macro profile loaded.&quot;, false, true)
o.macro_profile = 3</script>
                    <command></command>
                    <keyCode>16777266</keyCode>
                    <keyModifier>0</keyModifier>
                    <Key isActive="yes" isFolder="no">
                        <name>shift + F3</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777266</keyCode>
                        <keyModifier>33554432</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>control + F3</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777266</keyCode>
                        <keyModifier>67108864</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>alt + F3</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777266</keyCode>
                        <keyModifier>134217728</keyModifier>
                    </Key>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>no modifiers + F4</name>
                    <packageName></packageName>
                    <script>e.echo(&quot;&lt;orange_red&gt;Killswitch toggle &lt;grey&gt;macro profile loaded.&quot;, false, true)
o.macro_profile = 4</script>
                    <command></command>
                    <keyCode>16777267</keyCode>
                    <keyModifier>0</keyModifier>
                    <Key isActive="yes" isFolder="no">
                        <name>shift + F4</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777267</keyCode>
                        <keyModifier>33554432</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>control + F4</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777267</keyCode>
                        <keyModifier>67108864</keyModifier>
                    </Key>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>no modifiers + F5</name>
                    <packageName></packageName>
                    <script>e.echo(&quot;&lt;gold&gt;Utility &lt;grey&gt;macro profile &lt;gold&gt;one &lt;grey&gt;loaded.&quot;, false, true)
o.macro_profile = 5</script>
                    <command></command>
                    <keyCode>16777268</keyCode>
                    <keyModifier>0</keyModifier>
                    <Key isActive="yes" isFolder="no">
                        <name>shift + F5</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777268</keyCode>
                        <keyModifier>33554432</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>control + F5</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777268</keyCode>
                        <keyModifier>67108864</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>alt + F5</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777268</keyCode>
                        <keyModifier>134217728</keyModifier>
                    </Key>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>no modifiers + F6</name>
                    <packageName></packageName>
                    <script>e.echo(&quot;&lt;gold&gt;Utility &lt;grey&gt;macro profile &lt;gold&gt;two &lt;grey&gt;loaded.&quot;, false, true)
o.macro_profile = 6</script>
                    <command></command>
                    <keyCode>16777269</keyCode>
                    <keyModifier>0</keyModifier>
                    <Key isActive="yes" isFolder="no">
                        <name>shift + F6</name>
                        <packageName></packageName>
                        <script>macro:f6(&quot;shift&quot;)</script>
                        <command></command>
                        <keyCode>16777269</keyCode>
                        <keyModifier>33554432</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>control + F6</name>
                        <packageName></packageName>
                        <script>macro:f6(&quot;ctrl&quot;)</script>
                        <command></command>
                        <keyCode>16777269</keyCode>
                        <keyModifier>67108864</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>alt + F6</name>
                        <packageName></packageName>
                        <script>macro:f6(&quot;alt&quot;)</script>
                        <command></command>
                        <keyCode>16777269</keyCode>
                        <keyModifier>134217728</keyModifier>
                    </Key>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>no modifiers + F7</name>
                    <packageName></packageName>
                    <script></script>
                    <command></command>
                    <keyCode>16777270</keyCode>
                    <keyModifier>0</keyModifier>
                    <Key isActive="yes" isFolder="no">
                        <name>shift + F7</name>
                        <packageName></packageName>
                        <script>macro:f7(&quot;shift&quot;)</script>
                        <command></command>
                        <keyCode>16777270</keyCode>
                        <keyModifier>33554432</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>control + F7</name>
                        <packageName></packageName>
                        <script>macro:f7(&quot;ctrl&quot;)</script>
                        <command></command>
                        <keyCode>16777270</keyCode>
                        <keyModifier>67108864</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>alt + F7</name>
                        <packageName></packageName>
                        <script>macro:f7(&quot;alt&quot;)</script>
                        <command></command>
                        <keyCode>16777270</keyCode>
                        <keyModifier>134217728</keyModifier>
                    </Key>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>no modifiers + F8</name>
                    <packageName></packageName>
                    <script></script>
                    <command></command>
                    <keyCode>16777271</keyCode>
                    <keyModifier>0</keyModifier>
                    <Key isActive="yes" isFolder="no">
                        <name>shift + F8</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777271</keyCode>
                        <keyModifier>33554432</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>control + F8</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777271</keyCode>
                        <keyModifier>67108864</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>alt + F8</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777271</keyCode>
                        <keyModifier>134217728</keyModifier>
                    </Key>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>no modifiers + F9</name>
                    <packageName></packageName>
                    <script></script>
                    <command></command>
                    <keyCode>16777272</keyCode>
                    <keyModifier>0</keyModifier>
                    <Key isActive="yes" isFolder="no">
                        <name>shift + F9</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777272</keyCode>
                        <keyModifier>33554432</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>control + F9</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777272</keyCode>
                        <keyModifier>67108864</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>alt + F9</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777272</keyCode>
                        <keyModifier>134217728</keyModifier>
                    </Key>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>no modifiers + F10</name>
                    <packageName></packageName>
                    <script></script>
                    <command></command>
                    <keyCode>16777273</keyCode>
                    <keyModifier>0</keyModifier>
                    <Key isActive="yes" isFolder="no">
                        <name>shift + F10</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777273</keyCode>
                        <keyModifier>33554432</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>control + F10</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777273</keyCode>
                        <keyModifier>67108864</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>alt + F10</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777273</keyCode>
                        <keyModifier>134217728</keyModifier>
                    </Key>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>no modifiers + F11</name>
                    <packageName></packageName>
                    <script></script>
                    <command></command>
                    <keyCode>16777274</keyCode>
                    <keyModifier>0</keyModifier>
                    <Key isActive="yes" isFolder="no">
                        <name>shift + F11</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777274</keyCode>
                        <keyModifier>33554432</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>control + F11</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777274</keyCode>
                        <keyModifier>67108864</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>alt + F11</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777274</keyCode>
                        <keyModifier>134217728</keyModifier>
                    </Key>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>no modifiers + F12</name>
                    <packageName></packageName>
                    <script></script>
                    <command></command>
                    <keyCode>16777275</keyCode>
                    <keyModifier>0</keyModifier>
                    <Key isActive="yes" isFolder="no">
                        <name>shift + F12</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777275</keyCode>
                        <keyModifier>33554432</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>control + F12</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777275</keyCode>
                        <keyModifier>67108864</keyModifier>
                    </Key>
                    <Key isActive="yes" isFolder="no">
                        <name>alt + F12</name>
                        <packageName></packageName>
                        <script></script>
                        <command></command>
                        <keyCode>16777275</keyCode>
                        <keyModifier>134217728</keyModifier>
                    </Key>
                </Key>
            </KeyGroup>
            <KeyGroup isActive="yes" isFolder="yes">
                <name>keypad</name>
                <packageName></packageName>
                <script></script>
                <command></command>
                <keyCode>-1</keyCode>
                <keyModifier>-1</keyModifier>
                <Key isActive="yes" isFolder="no">
                    <name>keypad + 1</name>
                    <packageName></packageName>
                    <script>if ks.sets.t_parry then
	cdb.chars[tmp.target:title()].parry = &quot;left leg&quot;
	return
end</script>
                    <command></command>
                    <keyCode>49</keyCode>
                    <keyModifier>536870912</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>keypad + 2</name>
                    <packageName></packageName>
                    <script></script>
                    <command></command>
                    <keyCode>50</keyCode>
                    <keyModifier>536870912</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>keypad + 3</name>
                    <packageName></packageName>
                    <script>if ks.sets.t_parry then
	cdb.chars[tmp.target:title()].parry = &quot;right leg&quot;
	return
end</script>
                    <command></command>
                    <keyCode>51</keyCode>
                    <keyModifier>536870912</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>keypad + 4</name>
                    <packageName></packageName>
                    <script>if ks.sets.t_parry then
	cdb.chars[tmp.target:title()].parry = &quot;left arm&quot;
	return
end</script>
                    <command></command>
                    <keyCode>52</keyCode>
                    <keyModifier>536870912</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>keypad + 5</name>
                    <packageName></packageName>
                    <script>if ks.sets.t_parry then
	cdb.chars[tmp.target:title()].parry = &quot;torso&quot;
	return
end</script>
                    <command></command>
                    <keyCode>53</keyCode>
                    <keyModifier>536870912</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>keypad + 6</name>
                    <packageName></packageName>
                    <script>if ks.sets.t_parry then
	cdb.chars[tmp.target:title()].parry = &quot;right arm&quot;
	return
end</script>
                    <command></command>
                    <keyCode>54</keyCode>
                    <keyModifier>536870912</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>keypad + 7</name>
                    <packageName></packageName>
                    <script></script>
                    <command></command>
                    <keyCode>55</keyCode>
                    <keyModifier>536870912</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>keypad + 8</name>
                    <packageName></packageName>
                    <script>if ks.sets.t_parry then
	cdb.chars[tmp.target:title()].parry = &quot;head&quot;
	return
end</script>
                    <command></command>
                    <keyCode>56</keyCode>
                    <keyModifier>536870912</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>keypad + 9</name>
                    <packageName></packageName>
                    <script></script>
                    <command></command>
                    <keyCode>57</keyCode>
                    <keyModifier>536870912</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>keypad + Plus</name>
                    <packageName></packageName>
                    <script>ks.sets.t_parry = true
e.kswitch(&quot;Will now attempt to track target parry. Don't fall behind.&quot;, true, false)</script>
                    <command></command>
                    <keyCode>43</keyCode>
                    <keyModifier>536870912</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>keypad + Minus</name>
                    <packageName></packageName>
                    <script>ks.sets.t_parry = false
e.kswitch(&quot;Will no long attempt to track target parry.&quot;, true, false)</script>
                    <command></command>
                    <keyCode>45</keyCode>
                    <keyModifier>536870912</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>keypad + Slash</name>
                    <packageName></packageName>
                    <script></script>
                    <command></command>
                    <keyCode>47</keyCode>
                    <keyModifier>536870912</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>keypad + Asterisk</name>
                    <packageName></packageName>
                    <script>if not ks.sets.t_parry then
	ks.sets.t_parry = true
	e.kswitch(&quot;Will now attempt to track target parry. Don't fall behind.&quot;, true, false)
else
	ks.sets.t_parry = false
	e.kswitch(&quot;Will no long attempt to track target parry.&quot;, true, false)
end</script>
                    <command></command>
                    <keyCode>42</keyCode>
                    <keyModifier>536870912</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>keypad + 0</name>
                    <packageName></packageName>
                    <script>if o.stats.class == &quot;luminary&quot; then
	expandAlias(&quot;tmp ss&quot;)
elseif o.stats.class == &quot;teradrim&quot; then
	expandAlias(&quot;tmp fr&quot;)
end</script>
                    <command></command>
                    <keyCode>48</keyCode>
                    <keyModifier>536870912</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>keypad + Period</name>
                    <packageName></packageName>
                    <script>if o.stats.class == &quot;luminary&quot; then
	expandAlias(&quot;tmp as&quot;)
elseif o.stats.class == &quot;teradrim&quot; then
	expandAlias(&quot;tmp ew&quot;)
end</script>
                    <command></command>
                    <keyCode>46</keyCode>
                    <keyModifier>536870912</keyModifier>
                </Key>
            </KeyGroup>
            <KeyGroup isActive="yes" isFolder="yes">
                <name>keyboard</name>
                <packageName></packageName>
                <script></script>
                <command></command>
                <keyCode>-1</keyCode>
                <keyModifier>-1</keyModifier>
                <Key isActive="yes" isFolder="no">
                    <name>control + P</name>
                    <packageName></packageName>
                    <script>macro:control_p()</script>
                    <command></command>
                    <keyCode>80</keyCode>
                    <keyModifier>67108864</keyModifier>
                </Key>
                <Key isActive="yes" isFolder="no">
                    <name>control + R</name>
                    <packageName></packageName>
                    <script>macro:control_r()</script>
                    <command></command>
                    <keyCode>82</keyCode>
                    <keyModifier>67108864</keyModifier>
                </Key>
            </KeyGroup>
        </KeyGroup>
    </KeyPackage>
</MudletPackage>
